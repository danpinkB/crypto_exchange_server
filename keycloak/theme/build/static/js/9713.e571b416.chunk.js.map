{"version":3,"file":"static/js/9713.e571b416.chunk.js","mappings":"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","sources":["../node_modules/keycloakify/src/lib/useGetClassName.ts","../node_modules/keycloakify/src/lib/usePrepareTemplate.ts","../node_modules/keycloakify/src/login/lib/useGetClassName.ts","../node_modules/keycloakify/src/tools/HTMLElement.prototype.prepend.ts","../node_modules/keycloakify/src/tools/clsx.ts","../node_modules/keycloakify/src/tools/headInsert.ts","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@ariakit/core/esm/__chunks/5XEKIOCW.js","../node_modules/@ariakit/core/esm/__chunks/O35LWD4W.js","../node_modules/@ariakit/core/esm/__chunks/OGOHEUXI.js","../node_modules/@ariakit/core/esm/__chunks/PNRLI7OV.js","../node_modules/@ariakit/core/esm/__chunks/UCFCIHEU.js","../node_modules/@ariakit/core/esm/__chunks/WSKDP2MG.js","../node_modules/@ariakit/core/esm/__chunks/WVTCK5PV.js","../node_modules/@ariakit/core/esm/utils/events.js","../node_modules/@ariakit/core/esm/utils/focus.js","../node_modules/@ariakit/react-core/esm/__chunks/6GS36SYX.js","../node_modules/@ariakit/react-core/esm/__chunks/BMLNRUFQ.js","../node_modules/@ariakit/react-core/esm/__chunks/CP3U4HPL.js","../node_modules/@ariakit/react-core/esm/__chunks/F4XABKPL.js","../node_modules/@ariakit/react-core/esm/__chunks/F6PEGR7W.js","../node_modules/@ariakit/react-core/esm/__chunks/HVBRRKV4.js","../node_modules/@ariakit/react-core/esm/__chunks/J7Q2EO23.js","../node_modules/@ariakit/react-core/esm/__chunks/MYID4V27.js","../node_modules/@ariakit/react-core/esm/__chunks/NQJBHION.js","../node_modules/@ariakit/react-core/esm/__chunks/OXPV2NBK.js","../node_modules/@ariakit/react-core/esm/__chunks/P4RGQGTG.js","../node_modules/@ariakit/react-core/esm/__chunks/PNRLI7OV.js","../node_modules/@ariakit/react-core/esm/__chunks/QPTZ2G2N.js","../node_modules/@ariakit/react-core/esm/__chunks/W5P7IKOU.js","../node_modules/@ariakit/react-core/esm/__chunks/T3DJZG63.js","../node_modules/@ariakit/react-core/esm/__chunks/VFNGSUSF.js","../node_modules/@ariakit/react-core/esm/__chunks/7SIWUER2.js","../node_modules/@ariakit/react-core/esm/__chunks/TQ5BKSY4.js","../node_modules/@ariakit/react-core/esm/__chunks/W7JXAQKF.js","../node_modules/@ariakit/react-core/esm/__chunks/WJ37OVG2.js","../node_modules/@ariakit/react-core/esm/__chunks/GM7XQV7F.js","../node_modules/@ariakit/react-core/esm/__chunks/SWPAMWUW.js","../node_modules/@ariakit/react-core/esm/menu/menu-arrow.js","../node_modules/@ariakit/react-core/esm/__chunks/LVMO37QD.js","../node_modules/@ariakit/react-core/esm/menu/menu-button-arrow.js","../node_modules/@ariakit/react-core/esm/__chunks/O6CV6VRM.js","../node_modules/@ariakit/react-core/esm/__chunks/LDJKN2ZV.js","../node_modules/@ariakit/react-core/esm/__chunks/5I6BQS7D.js","../node_modules/@ariakit/react-core/esm/__chunks/7PHM3O7I.js","../node_modules/@ariakit/react-core/esm/__chunks/BO7WPTZZ.js","../node_modules/@ariakit/react-core/esm/__chunks/Y5XLHDDM.js","../node_modules/@ariakit/react-core/esm/menu/menu-button.js","../node_modules/@ariakit/react-core/esm/__chunks/FSTINJD5.js","../node_modules/@ariakit/react-core/esm/__chunks/X5CHG5LF.js","../node_modules/@ariakit/react-core/esm/__chunks/FW5SU7FV.js","../node_modules/@ariakit/react-core/esm/__chunks/EICJBDBV.js","../node_modules/@ariakit/react-core/esm/__chunks/UKOZA6YP.js","../node_modules/@ariakit/core/esm/__chunks/SOCHV2LZ.js","../node_modules/@ariakit/core/esm/__chunks/LNMWV6UV.js","../node_modules/@ariakit/core/esm/__chunks/A7IMXABC.js","../node_modules/@ariakit/core/esm/__chunks/ROY5BBHL.js","../node_modules/@ariakit/core/esm/menu/menu-store.js","../node_modules/@ariakit/core/esm/__chunks/COUCUJML.js","../node_modules/@ariakit/react-core/esm/menu/menu-store.js","../node_modules/@ariakit/react-core/esm/__chunks/AAVDGJD5.js","../node_modules/@ariakit/react-core/esm/__chunks/WHEEIXMF.js","../node_modules/@ariakit/react-core/esm/__chunks/6F6CCCKT.js","../node_modules/@ariakit/react-core/esm/__chunks/X7FKJQME.js","../node_modules/@ariakit/react-core/esm/__chunks/IXXFVVA2.js","../node_modules/@ariakit/react-core/esm/__chunks/FW6QFGFT.js","../node_modules/@ariakit/react-core/esm/__chunks/5M4ITSXL.js","../node_modules/@ariakit/react-core/esm/__chunks/LEBYH5FW.js","../node_modules/@ariakit/react-core/esm/__chunks/M5I7AM4N.js","../node_modules/@ariakit/react-core/esm/__chunks/432NLB7J.js","../node_modules/@ariakit/react-core/esm/__chunks/GDORSOK6.js","../node_modules/@ariakit/react-core/esm/__chunks/KOVUJERF.js","../node_modules/@ariakit/react-core/esm/__chunks/NHPU54IO.js","../node_modules/@ariakit/react-core/esm/__chunks/3LAWLNOX.js","../node_modules/@ariakit/react-core/esm/__chunks/CJI67A3R.js","../node_modules/@ariakit/react-core/esm/__chunks/PLOINBVB.js","../node_modules/@ariakit/react-core/esm/__chunks/E5XSMSHD.js","../node_modules/@ariakit/react-core/esm/__chunks/7JNF6I52.js","../node_modules/@ariakit/react-core/esm/__chunks/IYNN2ZO5.js","../node_modules/@ariakit/react-core/esm/__chunks/COQHFAEN.js","../node_modules/@ariakit/react-core/esm/__chunks/6OMX4H3W.js","../node_modules/@ariakit/react-core/esm/__chunks/FL2AU7YJ.js","../node_modules/@ariakit/react-core/esm/__chunks/EJ3GIT5B.js","../node_modules/@ariakit/react-core/esm/__chunks/LDDPB3PY.js","../node_modules/@ariakit/react-core/esm/__chunks/LL3AE4N4.js","../node_modules/@ariakit/react-core/esm/__chunks/LNHZLQEK.js","../node_modules/@ariakit/react-core/esm/__chunks/TG7IDXTX.js","../node_modules/@ariakit/react-core/esm/__chunks/62DFK33R.js","../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../node_modules/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs","../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../node_modules/@ariakit/react-core/esm/__chunks/CU3AKJBN.js","../node_modules/@ariakit/react-core/esm/__chunks/ORZC42PG.js","../node_modules/@ariakit/react-core/esm/menu/menu.js","../node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","../node_modules/framer-motion/dist/es/utils/use-force-update.mjs","../node_modules/framer-motion/dist/es/components/MotionConfig/index.mjs","../node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","../node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../node_modules/framer-motion/dist/es/context/PresenceContext.mjs","../node_modules/framer-motion/dist/es/frameloop/batcher.mjs","../node_modules/framer-motion/dist/es/frameloop/frame.mjs","../node_modules/framer-motion/dist/es/frameloop/render-step.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","../node_modules/framer-motion/dist/es/context/LazyContext.mjs","../node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","../node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","../node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","../node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","../node_modules/framer-motion/dist/es/motion/features/definitions.mjs","../node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","../node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","../node_modules/framer-motion/dist/es/motion/index.mjs","../node_modules/framer-motion/dist/es/motion/features/load-features.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","../node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","../node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","../node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","../node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","../node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","../node_modules/framer-motion/dist/es/utils/clamp.mjs","../node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","../node_modules/framer-motion/dist/es/value/types/utils.mjs","../node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","../node_modules/framer-motion/dist/es/render/html/use-props.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","../node_modules/framer-motion/dist/es/render/svg/use-props.mjs","../node_modules/framer-motion/dist/es/render/dom/use-render.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","../node_modules/framer-motion/dist/es/render/html/utils/render.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","../node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","../node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","../node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","../node_modules/framer-motion/dist/es/render/html/config-motion.mjs","../node_modules/framer-motion/dist/es/events/add-dom-event.mjs","../node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","../node_modules/framer-motion/dist/es/events/event-info.mjs","../node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","../node_modules/framer-motion/dist/es/utils/pipe.mjs","../node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","../node_modules/framer-motion/dist/es/motion/features/Feature.mjs","../node_modules/framer-motion/dist/es/gestures/hover.mjs","../node_modules/framer-motion/dist/es/gestures/focus.mjs","../node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","../node_modules/framer-motion/dist/es/gestures/press.mjs","../node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","../node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","../node_modules/framer-motion/dist/es/motion/features/gestures.mjs","../node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","../node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","../node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","../node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","../node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","../node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","../node_modules/framer-motion/dist/es/easing/ease.mjs","../node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","../node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","../node_modules/framer-motion/dist/es/easing/circ.mjs","../node_modules/framer-motion/dist/es/easing/back.mjs","../node_modules/framer-motion/dist/es/easing/utils/map.mjs","../node_modules/framer-motion/dist/es/easing/anticipate.mjs","../node_modules/framer-motion/dist/es/value/types/color/utils.mjs","../node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","../node_modules/framer-motion/dist/es/value/types/color/hex.mjs","../node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","../node_modules/framer-motion/dist/es/value/types/color/index.mjs","../node_modules/framer-motion/dist/es/utils/mix.mjs","../node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../node_modules/framer-motion/dist/es/utils/mix-color.mjs","../node_modules/framer-motion/dist/es/value/types/complex/index.mjs","../node_modules/framer-motion/dist/es/utils/mix-complex.mjs","../node_modules/framer-motion/dist/es/utils/progress.mjs","../node_modules/framer-motion/dist/es/utils/interpolate.mjs","../node_modules/framer-motion/dist/es/utils/offsets/default.mjs","../node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","../node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","../node_modules/framer-motion/dist/es/utils/offsets/time.mjs","../node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","../node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","../node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","../node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","../node_modules/framer-motion/dist/es/animation/animators/js/driver-frameloop.mjs","../node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","../node_modules/framer-motion/dist/es/animation/animators/js/index.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/create-accelerated-animation.mjs","../node_modules/framer-motion/dist/es/utils/memo.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","../node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","../node_modules/framer-motion/dist/es/animation/utils/keyframes.mjs","../node_modules/framer-motion/dist/es/animation/animators/instant.mjs","../node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","../node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","../node_modules/framer-motion/dist/es/utils/array.mjs","../node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../node_modules/framer-motion/dist/es/value/index.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","../node_modules/framer-motion/dist/es/render/utils/setters.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","../node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","../node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","../node_modules/framer-motion/dist/es/motion/features/animations.mjs","../node_modules/framer-motion/dist/es/utils/distance.mjs","../node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","../node_modules/framer-motion/dist/es/projection/geometry/models.mjs","../node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","../node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","../node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","../node_modules/framer-motion/dist/es/projection/utils/measure.mjs","../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","../node_modules/framer-motion/dist/es/gestures/drag/index.mjs","../node_modules/framer-motion/dist/es/gestures/pan/index.mjs","../node_modules/framer-motion/dist/es/projection/node/state.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","../node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","../node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","../node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","../node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","../node_modules/framer-motion/dist/es/projection/shared/stack.mjs","../node_modules/framer-motion/dist/es/projection/styles/transform.mjs","../node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","../node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","../node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","../node_modules/framer-motion/dist/es/debug/record.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","../node_modules/framer-motion/dist/es/utils/delay.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/single-value.mjs","../node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","../node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","../node_modules/framer-motion/dist/es/motion/features/drag.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","../node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","../node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","../node_modules/framer-motion/dist/es/render/store.mjs","../node_modules/framer-motion/dist/es/render/VisualElement.mjs","../node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","../node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","../node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","../node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","../node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","../node_modules/framer-motion/dist/es/motion/features/layout.mjs","../node_modules/framer-motion/dist/es/render/dom/motion.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","../node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","../node_modules/framer-motion/dist/es/utils/errors.mjs","../node_modules/framer-motion/dist/es/utils/is-browser.mjs","../node_modules/framer-motion/dist/es/utils/noop.mjs","../node_modules/framer-motion/dist/es/utils/use-constant.mjs","../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../node_modules/tsafe/src/typeGuard.ts"],"sourcesContent":["import { clsx } from \"keycloakify/tools/clsx\";\nimport { useConstCallback } from \"keycloakify/tools/useConstCallback\";\n\nexport function createUseClassName<ClassKey extends string>(params: { defaultClasses: Record<ClassKey, string | undefined> }) {\n    const { defaultClasses } = params;\n\n    function useGetClassName(params: { doUseDefaultCss: boolean; classes: Partial<Record<ClassKey, string>> | undefined }) {\n        const { classes } = params;\n\n        const getClassName = useConstCallback((classKey: ClassKey): string => {\n            return clsx(classKey, defaultClasses[classKey], classes?.[classKey]);\n        });\n\n        return { getClassName };\n    }\n\n    return { useGetClassName };\n}\n","import { useReducer, useEffect } from \"react\";\nimport { headInsert } from \"keycloakify/tools/headInsert\";\nimport { pathJoin } from \"keycloakify/bin/tools/pathJoin\";\nimport { clsx } from \"keycloakify/tools/clsx\";\n\nexport function usePrepareTemplate(params: {\n    doFetchDefaultThemeResources: boolean;\n    stylesCommon?: string[];\n    styles?: string[];\n    scripts?: string[];\n    url: {\n        resourcesCommonPath: string;\n        resourcesPath: string;\n    };\n    htmlClassName: string | undefined;\n    bodyClassName: string | undefined;\n}) {\n    const { doFetchDefaultThemeResources, stylesCommon = [], styles = [], url, scripts = [], htmlClassName, bodyClassName } = params;\n\n    const [isReady, setReady] = useReducer(() => true, !doFetchDefaultThemeResources);\n\n    useEffect(() => {\n        if (!doFetchDefaultThemeResources) {\n            return;\n        }\n\n        let isUnmounted = false;\n\n        const removeArray: (() => void)[] = [];\n\n        (async () => {\n            const prLoadedArray: Promise<void>[] = [];\n\n            [\n                ...stylesCommon.map(relativePath => pathJoin(url.resourcesCommonPath, relativePath)),\n                ...styles.map(relativePath => pathJoin(url.resourcesPath, relativePath))\n            ]\n                .reverse()\n                .forEach(href => {\n                    const { prLoaded, remove } = headInsert({\n                        \"type\": \"css\",\n                        \"position\": \"prepend\",\n                        href\n                    });\n\n                    removeArray.push(remove);\n\n                    prLoadedArray.push(prLoaded);\n                });\n\n            await Promise.all(prLoadedArray);\n\n            if (isUnmounted) {\n                return;\n            }\n\n            setReady();\n        })();\n\n        scripts.forEach(relativePath => {\n            const { remove } = headInsert({\n                \"type\": \"javascript\",\n                \"src\": pathJoin(url.resourcesPath, relativePath)\n            });\n\n            removeArray.push(remove);\n        });\n\n        return () => {\n            isUnmounted = true;\n            removeArray.forEach(remove => remove());\n        };\n    }, []);\n\n    useSetClassName({\n        \"target\": \"html\",\n        \"className\": htmlClassName\n    });\n\n    useSetClassName({\n        \"target\": \"body\",\n        \"className\": bodyClassName\n    });\n\n    return { isReady };\n}\n\nfunction useSetClassName(params: { target: \"html\" | \"body\"; className: string | undefined }) {\n    const { target, className } = params;\n\n    useEffect(() => {\n        if (className === undefined) {\n            return;\n        }\n\n        const htmlClassList = document.getElementsByTagName(target)[0].classList;\n\n        const tokens = clsx(className).split(\" \");\n\n        htmlClassList.add(...tokens);\n\n        return () => {\n            htmlClassList.remove(...tokens);\n        };\n    }, [className]);\n}\n","import { createUseClassName } from \"keycloakify/lib/useGetClassName\";\nimport type { ClassKey } from \"keycloakify/login/TemplateProps\";\n\nexport const { useGetClassName } = createUseClassName<ClassKey>({\n    \"defaultClasses\": {\n        \"kcHtmlClass\": \"login-pf\",\n        \"kcLoginClass\": \"login-pf-page\",\n        \"kcContentWrapperClass\": \"row\",\n        \"kcHeaderClass\": \"login-pf-page-header\",\n        \"kcHeaderWrapperClass\": undefined,\n        \"kcFormCardClass\": \"card-pf\",\n        \"kcFormCardAccountClass\": \"login-pf-accounts\",\n        \"kcFormSocialAccountClass\": \"login-pf-social-section\",\n        \"kcFormSocialAccountContentClass\": \"col-xs-12 col-sm-6\",\n        \"kcFormHeaderClass\": \"login-pf-header\",\n        \"kcLocaleWrapperClass\": undefined,\n        \"kcFeedbackErrorIcon\": \"pficon pficon-error-circle-o\",\n        \"kcFeedbackWarningIcon\": \"pficon pficon-warning-triangle-o\",\n        \"kcFeedbackSuccessIcon\": \"pficon pficon-ok\",\n        \"kcFeedbackInfoIcon\": \"pficon pficon-info\",\n        \"kcResetFlowIcon\": \"pficon pficon-arrow fa-2x\",\n        \"kcFormGroupClass\": \"form-group\",\n        \"kcLabelWrapperClass\": \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n        \"kcSignUpClass\": \"login-pf-signup\",\n        \"kcInfoAreaWrapperClass\": undefined,\n\n        \"kcLogoClass\": \"login-pf-brand\",\n        \"kcContainerClass\": \"container-fluid\",\n        \"kcContentClass\": \"col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3\",\n        \"kcFeedbackAreaClass\": \"col-md-12\",\n        \"kcLocaleClass\": \"col-xs-12 col-sm-1\",\n        \"kcAlertIconClasserror\": \"pficon pficon-error-circle-o\",\n\n        \"kcFormAreaClass\": \"col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2\",\n        \"kcFormSocialAccountListClass\": \"login-pf-social list-unstyled login-pf-social-all\",\n        \"kcFormSocialAccountDoubleListClass\": \"login-pf-social-double-col\",\n        \"kcFormSocialAccountListLinkClass\": \"login-pf-social-link\",\n        \"kcWebAuthnKeyIcon\": \"pficon pficon-key\",\n        \"kcWebAuthnDefaultIcon\": \"pficon pficon-key\",\n\n        \"kcFormClass\": \"form-horizontal\",\n        \"kcFormGroupErrorClass\": \"has-error\",\n        \"kcLabelClass\": \"control-label\",\n        \"kcInputClass\": \"form-control\",\n        \"kcInputErrorMessageClass\": \"pf-c-form__helper-text pf-m-error required kc-feedback-text\",\n        \"kcInputWrapperClass\": \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n        \"kcFormOptionsClass\": \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n        \"kcFormButtonsClass\": \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n        \"kcFormSettingClass\": \"login-pf-settings\",\n        \"kcTextareaClass\": \"form-control\",\n\n        \"kcInfoAreaClass\": \"col-xs-12 col-sm-4 col-md-4 col-lg-5 details\",\n\n        // user-profile grouping\n        \"kcFormGroupHeader\": \"pf-c-form__group\",\n\n        // css classes for form buttons main class used for all buttons\n        \"kcButtonClass\": \"btn\",\n        // classes defining priority of the button - primary or default (there is typically only one priority button for the form)\n        \"kcButtonPrimaryClass\": \"btn-primary\",\n        \"kcButtonDefaultClass\": \"btn-default\",\n        // classes defining size of the button\n        \"kcButtonLargeClass\": \"btn-lg\",\n        \"kcButtonBlockClass\": \"btn-block\",\n\n        // css classes for input\n        \"kcInputLargeClass\": \"input-lg\",\n\n        // css classes for form accessability\n        \"kcSrOnlyClass\": \"sr-only\",\n\n        // css classes for select-authenticator form\n        \"kcSelectAuthListClass\": \"list-group list-view-pf\",\n        \"kcSelectAuthListItemClass\": \"list-group-item list-view-pf-stacked\",\n        \"kcSelectAuthListItemFillClass\": \"pf-l-split__item pf-m-fill\",\n        \"kcSelectAuthListItemIconPropertyClass\": \"fa-2x select-auth-box-icon-properties\",\n        \"kcSelectAuthListItemIconClass\": \"pf-l-split__item select-auth-box-icon\",\n        \"kcSelectAuthListItemTitle\": \"select-auth-box-paragraph\",\n        \"kcSelectAuthListItemInfoClass\": \"list-view-pf-main-info\",\n        \"kcSelectAuthListItemLeftClass\": \"list-view-pf-left\",\n        \"kcSelectAuthListItemBodyClass\": \"list-view-pf-body\",\n        \"kcSelectAuthListItemDescriptionClass\": \"list-view-pf-description\",\n        \"kcSelectAuthListItemHeadingClass\": \"list-group-item-heading\",\n        \"kcSelectAuthListItemHelpTextClass\": \"list-group-item-text\",\n\n        // css classes for the authenticators\n        \"kcAuthenticatorDefaultClass\": \"fa list-view-pf-icon-lg\",\n        \"kcAuthenticatorPasswordClass\": \"fa fa-unlock list-view-pf-icon-lg\",\n        \"kcAuthenticatorOTPClass\": \"fa fa-mobile list-view-pf-icon-lg\",\n        \"kcAuthenticatorWebAuthnClass\": \"fa fa-key list-view-pf-icon-lg\",\n        \"kcAuthenticatorWebAuthnPasswordlessClass\": \"fa fa-key list-view-pf-icon-lg\",\n\n        //css classes for the OTP Login Form\n        \"kcSelectOTPListClass\": \"card-pf card-pf-view card-pf-view-select card-pf-view-single-select\",\n        \"kcSelectOTPListItemClass\": \"card-pf-body card-pf-top-element\",\n        \"kcAuthenticatorOtpCircleClass\": \"fa fa-mobile card-pf-icon-circle\",\n        \"kcSelectOTPItemHeadingClass\": \"card-pf-title text-center\",\n        \"kcFormOptionsWrapperClass\": undefined\n    }\n});\n","if (!HTMLElement.prototype.prepend) {\n    HTMLElement.prototype.prepend = function (childNode) {\n        if (typeof childNode === \"string\") {\n            throw new Error(\"Error with HTMLElement.prototype.appendFirst polyfill\");\n        }\n\n        this.insertBefore(childNode, this.firstChild);\n    };\n}\n","import { assert } from \"tsafe/assert\";\nimport { typeGuard } from \"tsafe/typeGuard\";\n\nexport type CxArg = undefined | null | string | boolean | Partial<Record<string, boolean | null | undefined>> | readonly CxArg[];\n\nexport const clsx = (...args: CxArg[]): string => {\n    const len = args.length;\n    let i = 0;\n    let cls = \"\";\n    for (; i < len; i++) {\n        const arg = args[i];\n        if (arg == null) continue;\n\n        let toAdd;\n        switch (typeof arg) {\n            case \"boolean\":\n                break;\n            case \"object\": {\n                if (Array.isArray(arg)) {\n                    toAdd = clsx(...arg);\n                } else {\n                    assert(!typeGuard<{ length: number }>(arg, false));\n\n                    toAdd = \"\";\n                    for (const k in arg) {\n                        if (arg[k as string] && k) {\n                            toAdd && (toAdd += \" \");\n                            toAdd += k;\n                        }\n                    }\n                }\n                break;\n            }\n            default: {\n                toAdd = arg;\n            }\n        }\n        if (toAdd) {\n            cls && (cls += \" \");\n            cls += toAdd;\n        }\n    }\n    return cls;\n};\n","import \"./HTMLElement.prototype.prepend\";\nimport { Deferred } from \"evt/tools/Deferred\";\n\nexport function headInsert(\n    params:\n        | {\n              type: \"css\";\n              href: string;\n              position: \"append\" | \"prepend\";\n          }\n        | {\n              type: \"javascript\";\n              src: string;\n          }\n): { remove: () => void; prLoaded: Promise<void> } {\n    const htmlElement = document.createElement(\n        (() => {\n            switch (params.type) {\n                case \"css\":\n                    return \"link\";\n                case \"javascript\":\n                    return \"script\";\n            }\n        })()\n    );\n\n    const dLoaded = new Deferred<void>();\n\n    htmlElement.addEventListener(\"load\", () => dLoaded.resolve());\n\n    Object.assign(\n        htmlElement,\n        (() => {\n            switch (params.type) {\n                case \"css\":\n                    return {\n                        \"href\": params.href,\n                        \"type\": \"text/css\",\n                        \"rel\": \"stylesheet\",\n                        \"media\": \"screen,print\"\n                    };\n                case \"javascript\":\n                    return {\n                        \"src\": params.src,\n                        \"type\": \"text/javascript\"\n                    };\n            }\n        })()\n    );\n\n    document.getElementsByTagName(\"head\")[0][\n        (() => {\n            switch (params.type) {\n                case \"javascript\":\n                    return \"appendChild\";\n                case \"css\":\n                    return (() => {\n                        switch (params.position) {\n                            case \"append\":\n                                return \"appendChild\";\n                            case \"prepend\":\n                                return \"prepend\";\n                        }\n                    })();\n            }\n        })()\n    ](htmlElement);\n\n    return {\n        \"prLoaded\": dLoaded.pr,\n        \"remove\": () => htmlElement.remove()\n    };\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","// src/utils/array.ts\nfunction toArray(arg) {\n  if (Array.isArray(arg)) {\n    return arg;\n  }\n  return typeof arg !== \"undefined\" ? [arg] : [];\n}\nfunction addItemToArray(array, item, index = -1) {\n  if (!(index in array)) {\n    return [...array, item];\n  }\n  return [...array.slice(0, index), item, ...array.slice(index)];\n}\nfunction flatten2DArray(array) {\n  const flattened = [];\n  for (const row of array) {\n    flattened.push(...row);\n  }\n  return flattened;\n}\nfunction reverseArray(array) {\n  return array.slice().reverse();\n}\n\nexport {\n  toArray,\n  addItemToArray,\n  flatten2DArray,\n  reverseArray\n};\n","// src/utils/dom.ts\nvar canUseDOM = checkIsBrowser();\nfunction checkIsBrowser() {\n  var _a;\n  return typeof window !== \"undefined\" && !!((_a = window.document) == null ? void 0 : _a.createElement);\n}\nfunction getDocument(node) {\n  return node ? node.ownerDocument || node : document;\n}\nfunction getWindow(node) {\n  return getDocument(node).defaultView || window;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getDocument(node);\n  if (!(activeElement == null ? void 0 : activeElement.nodeName)) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(\n      activeElement.contentDocument.body,\n      activeDescendant\n    );\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  return parent === child || parent.contains(child);\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nfunction isButton(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"button\")\n    return true;\n  if (tagName === \"input\" && element.type) {\n    return buttonInputTypes.indexOf(element.type) !== -1;\n  }\n  return false;\n}\nvar buttonInputTypes = [\n  \"button\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"reset\",\n  \"submit\"\n];\nfunction matches(element, selectors) {\n  if (\"matches\" in element) {\n    return element.matches(selectors);\n  }\n  if (\"msMatchesSelector\" in element) {\n    return element.msMatchesSelector(selectors);\n  }\n  return element.webkitMatchesSelector(selectors);\n}\nfunction isVisible(element) {\n  const htmlElement = element;\n  return htmlElement.offsetWidth > 0 || htmlElement.offsetHeight > 0 || element.getClientRects().length > 0;\n}\nfunction closest(element, selectors) {\n  if (\"closest\" in element)\n    return element.closest(selectors);\n  do {\n    if (matches(element, selectors))\n      return element;\n    element = element.parentElement || element.parentNode;\n  } while (element !== null && element.nodeType === 1);\n  return null;\n}\nfunction isTextField(element) {\n  try {\n    const isTextInput = element instanceof HTMLInputElement && element.selectionStart !== null;\n    const isTextArea = element.tagName === \"TEXTAREA\";\n    return isTextInput || isTextArea || false;\n  } catch (error) {\n    return false;\n  }\n}\nfunction getPopupRole(element, fallback) {\n  const allowedPopupRoles = [\"dialog\", \"menu\", \"listbox\", \"tree\", \"grid\"];\n  const role = element == null ? void 0 : element.getAttribute(\"role\");\n  if (role && allowedPopupRoles.indexOf(role) !== -1) {\n    return role;\n  }\n  return fallback;\n}\nfunction getPopupItemRole(element, fallback) {\n  var _a;\n  const itemRoleByPopupRole = {\n    menu: \"menuitem\",\n    listbox: \"option\",\n    tree: \"treeitem\",\n    grid: \"gridcell\"\n  };\n  const popupRole = getPopupRole(element);\n  if (!popupRole)\n    return fallback;\n  const key = popupRole;\n  return (_a = itemRoleByPopupRole[key]) != null ? _a : fallback;\n}\nfunction getTextboxSelection(element) {\n  let start = 0;\n  let end = 0;\n  if (isTextField(element)) {\n    start = element.selectionStart || 0;\n    end = element.selectionEnd || 0;\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    if ((selection == null ? void 0 : selection.rangeCount) && selection.anchorNode && contains(element, selection.anchorNode) && selection.focusNode && contains(element, selection.focusNode)) {\n      const range = selection.getRangeAt(0);\n      const nextRange = range.cloneRange();\n      nextRange.selectNodeContents(element);\n      nextRange.setEnd(range.startContainer, range.startOffset);\n      start = nextRange.toString().length;\n      nextRange.setEnd(range.endContainer, range.endOffset);\n      end = nextRange.toString().length;\n    }\n  }\n  return { start, end };\n}\nfunction scrollIntoViewIfNeeded(element, arg) {\n  if (isPartiallyHidden(element) && \"scrollIntoView\" in element) {\n    element.scrollIntoView(arg);\n  }\n}\nfunction getScrollingElement(element) {\n  if (!element)\n    return null;\n  if (element.clientHeight && element.scrollHeight > element.clientHeight) {\n    const { overflowY } = getComputedStyle(element);\n    const isScrollable = overflowY !== \"visible\" && overflowY !== \"hidden\";\n    if (isScrollable)\n      return element;\n  } else if (element.clientWidth && element.scrollWidth > element.clientWidth) {\n    const { overflowX } = getComputedStyle(element);\n    const isScrollable = overflowX !== \"visible\" && overflowX !== \"hidden\";\n    if (isScrollable)\n      return element;\n  }\n  return getScrollingElement(element.parentElement) || document.scrollingElement || document.body;\n}\nfunction isPartiallyHidden(element) {\n  const elementRect = element.getBoundingClientRect();\n  const scroller = getScrollingElement(element);\n  if (!scroller)\n    return false;\n  const scrollerRect = scroller.getBoundingClientRect();\n  const isHTML = scroller.tagName === \"HTML\";\n  const scrollerTop = isHTML ? scrollerRect.top + scroller.scrollTop : scrollerRect.top;\n  const scrollerBottom = isHTML ? scroller.clientHeight : scrollerRect.bottom;\n  const scrollerLeft = isHTML ? scrollerRect.left + scroller.scrollLeft : scrollerRect.left;\n  const scrollerRight = isHTML ? scroller.clientWidth : scrollerRect.right;\n  const top = elementRect.top < scrollerTop;\n  const left = elementRect.left < scrollerLeft;\n  const bottom = elementRect.bottom > scrollerBottom;\n  const right = elementRect.right > scrollerRight;\n  return top || left || bottom || right;\n}\n\nexport {\n  canUseDOM,\n  getDocument,\n  getWindow,\n  getActiveElement,\n  contains,\n  isFrame,\n  isButton,\n  matches,\n  isVisible,\n  closest,\n  isTextField,\n  getPopupRole,\n  getPopupItemRole,\n  getTextboxSelection,\n  scrollIntoViewIfNeeded,\n  getScrollingElement,\n  isPartiallyHidden\n};\n","import {\n  applyState,\n  chain,\n  getKeys,\n  hasOwnProperty,\n  invariant,\n  noop,\n  omit,\n  pick\n} from \"./WVTCK5PV.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/store.ts\nfunction getInternal(store, key) {\n  const internals = store.__unstableInternals;\n  invariant(internals, \"Invalid store\");\n  return internals[key];\n}\nfunction createStore(initialState, ...stores) {\n  let state = initialState;\n  let prevStateBatch = state;\n  let lastUpdate = Symbol();\n  let initialized = false;\n  const updatedKeys = /* @__PURE__ */ new Set();\n  const setups = /* @__PURE__ */ new Set();\n  const listeners = /* @__PURE__ */ new Set();\n  const listenersBatch = /* @__PURE__ */ new Set();\n  const disposables = /* @__PURE__ */ new WeakMap();\n  const listenerKeys = /* @__PURE__ */ new WeakMap();\n  const storeSetup = (callback) => {\n    setups.add(callback);\n    return () => setups.delete(callback);\n  };\n  const storeInit = () => {\n    if (initialized)\n      return noop;\n    if (!stores.length)\n      return noop;\n    initialized = true;\n    const desyncs = getKeys(state).map(\n      (key) => chain(\n        ...stores.map((store) => {\n          var _a;\n          const storeState = (_a = store == null ? void 0 : store.getState) == null ? void 0 : _a.call(store);\n          if (!storeState)\n            return;\n          if (!hasOwnProperty(storeState, key))\n            return;\n          return sync(store, [key], (state2) => setState(key, state2[key]));\n        })\n      )\n    );\n    const teardowns = [];\n    setups.forEach((setup2) => teardowns.push(setup2()));\n    const cleanups = stores.map(init);\n    return chain(...desyncs, ...teardowns, ...cleanups, () => {\n      initialized = false;\n    });\n  };\n  const sub = (keys, listener, batch2 = false) => {\n    const set = batch2 ? listenersBatch : listeners;\n    set.add(listener);\n    listenerKeys.set(listener, keys);\n    return () => {\n      var _a;\n      (_a = disposables.get(listener)) == null ? void 0 : _a();\n      disposables.delete(listener);\n      listenerKeys.delete(listener);\n      set.delete(listener);\n    };\n  };\n  const storeSubscribe = (keys, listener) => sub(keys, listener);\n  const storeSync = (keys, listener) => {\n    disposables.set(listener, listener(state, state));\n    return sub(keys, listener);\n  };\n  const storeBatch = (keys, listener) => {\n    disposables.set(listener, listener(state, prevStateBatch));\n    return sub(keys, listener, true);\n  };\n  const storePick = (keys) => createStore(pick(state, keys), finalStore);\n  const storeOmit = (keys) => createStore(omit(state, keys), finalStore);\n  const getState = () => state;\n  const setState = (key, value) => {\n    if (!hasOwnProperty(state, key))\n      return;\n    const nextValue = applyState(value, state[key]);\n    if (nextValue === state[key])\n      return;\n    stores.forEach((store) => {\n      var _a;\n      (_a = store == null ? void 0 : store.setState) == null ? void 0 : _a.call(store, key, nextValue);\n    });\n    const prevState = state;\n    state = __spreadProps(__spreadValues({}, state), { [key]: nextValue });\n    const thisUpdate = Symbol();\n    lastUpdate = thisUpdate;\n    updatedKeys.add(key);\n    const run = (listener, prev, uKeys) => {\n      var _a;\n      const keys = listenerKeys.get(listener);\n      const updated = (k) => uKeys ? uKeys.has(k) : k === key;\n      if (!keys || keys.some(updated)) {\n        (_a = disposables.get(listener)) == null ? void 0 : _a();\n        disposables.set(listener, listener(state, prev));\n      }\n    };\n    listeners.forEach((listener) => run(listener, prevState));\n    queueMicrotask(() => {\n      if (lastUpdate !== thisUpdate)\n        return;\n      const snapshot = state;\n      listenersBatch.forEach((listener) => {\n        run(listener, prevStateBatch, updatedKeys);\n      });\n      prevStateBatch = snapshot;\n      updatedKeys.clear();\n    });\n  };\n  const finalStore = {\n    getState,\n    setState,\n    __unstableInternals: {\n      setup: storeSetup,\n      init: storeInit,\n      subscribe: storeSubscribe,\n      sync: storeSync,\n      batch: storeBatch,\n      pick: storePick,\n      omit: storeOmit\n    }\n  };\n  return finalStore;\n}\nfunction setup(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"setup\")(...args);\n}\nfunction init(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"init\")(...args);\n}\nfunction subscribe(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"subscribe\")(...args);\n}\nfunction sync(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"sync\")(...args);\n}\nfunction batch(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"batch\")(...args);\n}\nfunction omit2(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"omit\")(...args);\n}\nfunction pick2(store, ...args) {\n  if (!store)\n    return;\n  return getInternal(store, \"pick\")(...args);\n}\nfunction mergeStore(...stores) {\n  const initialState = stores.reduce((state, store2) => {\n    var _a;\n    const nextState = (_a = store2 == null ? void 0 : store2.getState) == null ? void 0 : _a.call(store2);\n    if (!nextState)\n      return state;\n    return __spreadValues(__spreadValues({}, state), nextState);\n  }, {});\n  const store = createStore(initialState, ...stores);\n  return store;\n}\n\nexport {\n  createStore,\n  setup,\n  init,\n  subscribe,\n  sync,\n  batch,\n  omit2 as omit,\n  pick2 as pick,\n  mergeStore\n};\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n","import {\n  canUseDOM\n} from \"./O35LWD4W.js\";\n\n// src/utils/platform.ts\nfunction isTouchDevice() {\n  return canUseDOM && !!navigator.maxTouchPoints;\n}\nfunction isApple() {\n  if (!canUseDOM)\n    return false;\n  return /mac|iphone|ipad|ipod/i.test(navigator.platform);\n}\nfunction isSafari() {\n  return canUseDOM && isApple() && /apple/i.test(navigator.vendor);\n}\nfunction isFirefox() {\n  return canUseDOM && /firefox\\//i.test(navigator.userAgent);\n}\nfunction isMac() {\n  return canUseDOM && navigator.platform.startsWith(\"Mac\") && !isTouchDevice();\n}\n\nexport {\n  isTouchDevice,\n  isApple,\n  isSafari,\n  isFirefox,\n  isMac\n};\n","import {\n  createStore,\n  mergeStore,\n  omit,\n  setup,\n  sync\n} from \"./OGOHEUXI.js\";\nimport {\n  defaultValue\n} from \"./WVTCK5PV.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/disclosure/disclosure-store.ts\nfunction createDisclosureStore(props = {}) {\n  const store = mergeStore(\n    props.store,\n    omit(props.disclosure, [\"contentElement\", \"disclosureElement\"])\n  );\n  const syncState = store == null ? void 0 : store.getState();\n  const open = defaultValue(\n    props.open,\n    syncState == null ? void 0 : syncState.open,\n    props.defaultOpen,\n    false\n  );\n  const animated = defaultValue(props.animated, syncState == null ? void 0 : syncState.animated, false);\n  const initialState = {\n    open,\n    animated,\n    animating: !!animated && open,\n    mounted: open,\n    contentElement: defaultValue(syncState == null ? void 0 : syncState.contentElement, null),\n    disclosureElement: defaultValue(syncState == null ? void 0 : syncState.disclosureElement, null)\n  };\n  const disclosure = createStore(initialState, store);\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"animated\", \"animating\"], (state) => {\n      if (state.animated)\n        return;\n      disclosure.setState(\"animating\", false);\n    })\n  );\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"open\", \"animated\"], (state, prev) => {\n      if (!state.animated)\n        return;\n      const mounting = state === prev;\n      const animating = mounting ? state.open : state.open !== prev.open;\n      disclosure.setState(\"animating\", animating);\n    })\n  );\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"open\", \"animating\"], (state) => {\n      disclosure.setState(\"mounted\", state.open || state.animating);\n    })\n  );\n  return __spreadProps(__spreadValues({}, disclosure), {\n    setOpen: (value) => disclosure.setState(\"open\", value),\n    show: () => disclosure.setState(\"open\", true),\n    hide: () => disclosure.setState(\"open\", false),\n    toggle: () => disclosure.setState(\"open\", (open2) => !open2),\n    stopAnimation: () => disclosure.setState(\"animating\", false),\n    setContentElement: (value) => disclosure.setState(\"contentElement\", value),\n    setDisclosureElement: (value) => disclosure.setState(\"disclosureElement\", value)\n  });\n}\n\nexport {\n  createDisclosureStore\n};\n","import {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/misc.ts\nfunction noop(..._) {\n}\nfunction shallowEqual(a, b) {\n  if (a === b)\n    return true;\n  if (!a)\n    return false;\n  if (!b)\n    return false;\n  if (typeof a !== \"object\")\n    return false;\n  if (typeof b !== \"object\")\n    return false;\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  const { length } = aKeys;\n  if (bKeys.length !== length)\n    return false;\n  for (const key of aKeys) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction applyState(argument, currentValue) {\n  if (isUpdater(argument)) {\n    const value = isLazyValue(currentValue) ? currentValue() : currentValue;\n    return argument(value);\n  }\n  return argument;\n}\nfunction isUpdater(argument) {\n  return typeof argument === \"function\";\n}\nfunction isLazyValue(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(arg) {\n  return typeof arg === \"object\" && arg != null;\n}\nfunction isEmpty(arg) {\n  if (Array.isArray(arg))\n    return !arg.length;\n  if (isObject(arg))\n    return !Object.keys(arg).length;\n  if (arg == null)\n    return true;\n  if (arg === \"\")\n    return true;\n  return false;\n}\nfunction isInteger(arg) {\n  if (typeof arg === \"number\") {\n    return Math.floor(arg) === arg;\n  }\n  return String(Math.floor(Number(arg))) === arg;\n}\nfunction hasOwnProperty(object, prop) {\n  return Object.prototype.hasOwnProperty.call(object, prop);\n}\nfunction chain(...fns) {\n  return (...args) => {\n    for (const fn of fns) {\n      if (typeof fn === \"function\") {\n        fn(...args);\n      }\n    }\n  };\n}\nfunction cx(...args) {\n  return args.filter(Boolean).join(\" \") || void 0;\n}\nfunction normalizeString(str) {\n  return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\nfunction omit(object, keys) {\n  const result = __spreadValues({}, object);\n  for (const key of keys) {\n    if (hasOwnProperty(result, key)) {\n      delete result[key];\n    }\n  }\n  return result;\n}\nfunction pick(object, paths) {\n  const result = {};\n  for (const key of paths) {\n    if (hasOwnProperty(object, key)) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\nfunction identity(value) {\n  return value;\n}\nfunction beforePaint(cb = noop) {\n  const raf = requestAnimationFrame(cb);\n  return () => cancelAnimationFrame(raf);\n}\nfunction afterPaint(cb = noop) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction invariant(condition, message) {\n  if (condition)\n    return;\n  if (typeof message !== \"string\")\n    throw new Error(\"Invariant failed\");\n  throw new Error(message);\n}\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\nfunction isFalsyBooleanCallback(booleanOrCallback, ...args) {\n  const result = typeof booleanOrCallback === \"function\" ? booleanOrCallback(...args) : booleanOrCallback;\n  if (result == null)\n    return false;\n  return !result;\n}\nfunction defaultValue(...values) {\n  for (const value of values) {\n    if (value !== void 0)\n      return value;\n  }\n  return void 0;\n}\n\nexport {\n  noop,\n  shallowEqual,\n  applyState,\n  isObject,\n  isEmpty,\n  isInteger,\n  hasOwnProperty,\n  chain,\n  cx,\n  normalizeString,\n  omit,\n  pick,\n  identity,\n  beforePaint,\n  afterPaint,\n  invariant,\n  getKeys,\n  isFalsyBooleanCallback,\n  defaultValue\n};\n","import {\n  isApple\n} from \"../__chunks/UCFCIHEU.js\";\nimport {\n  contains\n} from \"../__chunks/O35LWD4W.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/utils/events.ts\nfunction isPortalEvent(event) {\n  return Boolean(\n    event.currentTarget && !contains(event.currentTarget, event.target)\n  );\n}\nfunction isSelfTarget(event) {\n  return event.target === event.currentTarget;\n}\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element)\n    return false;\n  const isAppleDevice = isApple();\n  if (isAppleDevice && !event.metaKey)\n    return false;\n  if (!isAppleDevice && !event.ctrlKey)\n    return false;\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"a\")\n    return true;\n  if (tagName === \"button\" && element.type === \"submit\")\n    return true;\n  if (tagName === \"input\" && element.type === \"submit\")\n    return true;\n  return false;\n}\nfunction isDownloading(event) {\n  const element = event.currentTarget;\n  if (!element)\n    return false;\n  const tagName = element.tagName.toLowerCase();\n  if (!event.altKey)\n    return false;\n  if (tagName === \"a\")\n    return true;\n  if (tagName === \"button\" && element.type === \"submit\")\n    return true;\n  if (tagName === \"input\" && element.type === \"submit\")\n    return true;\n  return false;\n}\nfunction fireEvent(element, type, eventInit) {\n  const event = new Event(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireBlurEvent(element, eventInit) {\n  const event = new FocusEvent(\"blur\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusout\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireFocusEvent(element, eventInit) {\n  const event = new FocusEvent(\"focus\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusin\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireKeyboardEvent(element, type, eventInit) {\n  const event = new KeyboardEvent(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireClickEvent(element, eventInit) {\n  const event = new MouseEvent(\"click\", eventInit);\n  return element.dispatchEvent(event);\n}\nfunction isFocusEventOutside(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction queueBeforeEvent(element, type, callback) {\n  const raf = requestAnimationFrame(() => {\n    element.removeEventListener(type, callImmediately, true);\n    callback();\n  });\n  const callImmediately = () => {\n    cancelAnimationFrame(raf);\n    callback();\n  };\n  element.addEventListener(type, callImmediately, {\n    once: true,\n    capture: true\n  });\n  return raf;\n}\nfunction addGlobalEventListener(type, listener, options, scope = window) {\n  var _a;\n  try {\n    scope.document.addEventListener(type, listener, options);\n  } catch (e) {\n  }\n  const listeners = [];\n  for (let i = 0; i < ((_a = scope.frames) == null ? void 0 : _a.length); i += 1) {\n    const frameWindow = scope.frames[i];\n    if (frameWindow) {\n      listeners.push(\n        addGlobalEventListener(type, listener, options, frameWindow)\n      );\n    }\n  }\n  const removeEventListener = () => {\n    try {\n      scope.document.removeEventListener(type, listener, options);\n    } catch (e) {\n    }\n    listeners.forEach((listener2) => listener2());\n  };\n  return removeEventListener;\n}\nexport {\n  addGlobalEventListener,\n  fireBlurEvent,\n  fireClickEvent,\n  fireEvent,\n  fireFocusEvent,\n  fireKeyboardEvent,\n  isDownloading,\n  isFocusEventOutside,\n  isOpeningInNewTab,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n};\n","import {\n  closest,\n  contains,\n  getActiveElement,\n  isFrame,\n  isVisible,\n  matches\n} from \"../__chunks/O35LWD4W.js\";\nimport {\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/utils/focus.ts\nvar selector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])\";\nfunction hasNegativeTabIndex(element) {\n  const tabIndex = parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\nfunction isFocusable(element) {\n  if (!matches(element, selector))\n    return false;\n  if (!isVisible(element))\n    return false;\n  if (closest(element, \"[inert]\"))\n    return false;\n  return true;\n}\nfunction isTabbable(element) {\n  if (!isFocusable(element))\n    return false;\n  if (hasNegativeTabIndex(element))\n    return false;\n  if (!(\"form\" in element))\n    return true;\n  if (!element.form)\n    return true;\n  if (element.checked)\n    return true;\n  if (element.type !== \"radio\")\n    return true;\n  const radioGroup = element.form.elements.namedItem(element.name);\n  if (!radioGroup)\n    return true;\n  if (!(\"length\" in radioGroup))\n    return true;\n  const activeElement = getActiveElement(element);\n  if (!activeElement)\n    return true;\n  if (activeElement === element)\n    return true;\n  if (!(\"form\" in activeElement))\n    return true;\n  if (activeElement.form !== element.form)\n    return true;\n  if (activeElement.name !== element.name)\n    return true;\n  return false;\n}\nfunction getAllFocusableIn(container, includeContainer) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  if (includeContainer) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getAllFocusableIn(frameBody));\n    }\n  });\n  return focusableElements;\n}\nfunction getAllFocusable(includeBody) {\n  return getAllFocusableIn(document.body, includeBody);\n}\nfunction getFirstFocusableIn(container, includeContainer) {\n  const [first] = getAllFocusableIn(container, includeContainer);\n  return first || null;\n}\nfunction getFirstFocusable(includeBody) {\n  return getFirstFocusableIn(document.body, includeBody);\n}\nfunction getAllTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getAllTabbableIn(\n        frameBody,\n        false,\n        fallbackToFocusable\n      );\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && fallbackToFocusable) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction getAllTabbable(fallbackToFocusable) {\n  return getAllTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getFirstTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const [first] = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return first || null;\n}\nfunction getFirstTabbable(fallbackToFocusable) {\n  return getFirstTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getLastTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const allTabbable = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getLastTabbable(fallbackToFocusable) {\n  return getLastTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getNextTabbableIn(container, includeContainer, fallbackToFirst, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer);\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const nextFocusableElements = allFocusable.slice(activeIndex + 1);\n  return nextFocusableElements.find(isTabbable) || (fallbackToFirst ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? nextFocusableElements[0] : null) || null;\n}\nfunction getNextTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getNextTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getPreviousTabbableIn(container, includeContainer, fallbackToLast, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer).reverse();\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const previousFocusableElements = allFocusable.slice(activeIndex + 1);\n  return previousFocusableElements.find(isTabbable) || (fallbackToLast ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? previousFocusableElements[0] : null) || null;\n}\nfunction getPreviousTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getPreviousTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getClosestFocusable(element) {\n  while (element && !isFocusable(element)) {\n    element = closest(element, selector);\n  }\n  return element || null;\n}\nfunction hasFocus(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement)\n    return false;\n  if (activeElement === element)\n    return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant)\n    return false;\n  return activeDescendant === element.id;\n}\nfunction hasFocusWithin(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement)\n    return false;\n  if (contains(element, activeElement))\n    return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant)\n    return false;\n  if (!(\"id\" in element))\n    return false;\n  if (activeDescendant === element.id)\n    return true;\n  return !!element.querySelector(`#${CSS.escape(activeDescendant)}`);\n}\nfunction focusIfNeeded(element) {\n  if (!hasFocusWithin(element) && isFocusable(element)) {\n    element.focus();\n  }\n}\nfunction disableFocus(element) {\n  var _a;\n  const currentTabindex = (_a = element.getAttribute(\"tabindex\")) != null ? _a : \"\";\n  element.setAttribute(\"data-tabindex\", currentTabindex);\n  element.setAttribute(\"tabindex\", \"-1\");\n}\nfunction disableFocusIn(container, includeContainer) {\n  const tabbableElements = getAllTabbableIn(container, includeContainer);\n  tabbableElements.forEach(disableFocus);\n}\nfunction restoreFocusIn(container) {\n  const elements = container.querySelectorAll(\"[data-tabindex]\");\n  const restoreTabIndex = (element) => {\n    const tabindex = element.getAttribute(\"data-tabindex\");\n    element.removeAttribute(\"data-tabindex\");\n    if (tabindex) {\n      element.setAttribute(\"tabindex\", tabindex);\n    } else {\n      element.removeAttribute(\"tabindex\");\n    }\n  };\n  if (container.hasAttribute(\"data-tabindex\")) {\n    restoreTabIndex(container);\n  }\n  elements.forEach(restoreTabIndex);\n}\nfunction focusIntoView(element, options) {\n  if (!(\"scrollIntoView\" in element)) {\n    element.focus();\n  } else {\n    element.focus({ preventScroll: true });\n    element.scrollIntoView(__spreadValues({ block: \"nearest\", inline: \"nearest\" }, options));\n  }\n}\nexport {\n  disableFocus,\n  disableFocusIn,\n  focusIfNeeded,\n  focusIntoView,\n  getAllFocusable,\n  getAllFocusableIn,\n  getAllTabbable,\n  getAllTabbableIn,\n  getClosestFocusable,\n  getFirstFocusable,\n  getFirstFocusableIn,\n  getFirstTabbable,\n  getFirstTabbableIn,\n  getLastTabbable,\n  getLastTabbableIn,\n  getNextTabbable,\n  getNextTabbableIn,\n  getPreviousTabbable,\n  getPreviousTabbableIn,\n  hasFocus,\n  hasFocusWithin,\n  isFocusable,\n  isTabbable,\n  restoreFocusIn\n};\n","// src/popover/popover-context.ts\nimport { createContext } from \"react\";\nvar PopoverContext = createContext(\n  void 0\n);\n\nexport {\n  PopoverContext\n};\n","// src/focusable/focusable-context.ts\nimport { createContext } from \"react\";\nvar FocusableContext = createContext(true);\n\nexport {\n  FocusableContext\n};\n","import {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/misc.ts\nimport { isValidElement } from \"react\";\nimport { hasOwnProperty } from \"@ariakit/core/utils/misc\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nfunction isValidElementWithRef(element) {\n  if (!element)\n    return false;\n  if (!isValidElement(element))\n    return false;\n  if (!(\"ref\" in element))\n    return false;\n  return true;\n}\nfunction getRefProperty(element) {\n  if (!isValidElementWithRef(element))\n    return null;\n  return element.ref;\n}\nfunction mergeProps(base, overrides) {\n  const props = __spreadValues({}, base);\n  for (const key in overrides) {\n    if (!hasOwnProperty(overrides, key))\n      continue;\n    if (key === \"className\") {\n      const prop = \"className\";\n      props[prop] = base[prop] ? `${base[prop]} ${overrides[prop]}` : overrides[prop];\n      continue;\n    }\n    if (key === \"style\") {\n      const prop = \"style\";\n      props[prop] = base[prop] ? __spreadValues(__spreadValues({}, base[prop]), overrides[prop]) : overrides[prop];\n      continue;\n    }\n    const overrideValue = overrides[key];\n    if (typeof overrideValue === \"function\" && key.startsWith(\"on\")) {\n      const baseValue = base[key];\n      if (typeof baseValue === \"function\") {\n        props[key] = (...args) => {\n          overrideValue(...args);\n          baseValue(...args);\n        };\n        continue;\n      }\n    }\n    props[key] = overrideValue;\n  }\n  return props;\n}\n\nexport {\n  setRef,\n  isValidElementWithRef,\n  getRefProperty,\n  mergeProps\n};\n","import {\n  flipItems\n} from \"./OXPV2NBK.js\";\nimport {\n  CompositeContext\n} from \"./WJ37OVG2.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useEvent\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite-typeahead.ts\nimport { useContext, useRef } from \"react\";\nimport { isTextField } from \"@ariakit/core/utils/dom\";\nimport { isSelfTarget } from \"@ariakit/core/utils/events\";\nimport { invariant, normalizeString } from \"@ariakit/core/utils/misc\";\nvar chars = \"\";\nfunction clearChars() {\n  chars = \"\";\n}\nfunction isValidTypeaheadEvent(event) {\n  const target = event.target;\n  if (target && isTextField(target))\n    return false;\n  if (event.key === \" \" && chars.length)\n    return true;\n  return event.key.length === 1 && !event.ctrlKey && !event.altKey && !event.metaKey && /^[\\p{Letter}\\p{Number}]$/u.test(event.key);\n}\nfunction isSelfTargetOrItem(event, items) {\n  if (isSelfTarget(event))\n    return true;\n  const target = event.target;\n  if (!target)\n    return false;\n  const isItem = items.some((item) => item.element === target);\n  return isItem;\n}\nfunction getEnabledItems(items) {\n  return items.filter((item) => !item.disabled);\n}\nfunction itemTextStartsWith(item, text) {\n  var _a;\n  const itemText = ((_a = item.element) == null ? void 0 : _a.textContent) || item.children;\n  if (!itemText)\n    return false;\n  return normalizeString(itemText).trim().toLowerCase().startsWith(text.toLowerCase());\n}\nfunction getSameInitialItems(items, char, activeId) {\n  if (!activeId)\n    return items;\n  const activeItem = items.find((item) => item.id === activeId);\n  if (!activeItem)\n    return items;\n  if (!itemTextStartsWith(activeItem, char))\n    return items;\n  if (chars !== char && itemTextStartsWith(activeItem, chars))\n    return items;\n  chars = char;\n  return flipItems(\n    items.filter((item) => itemTextStartsWith(item, chars)),\n    activeId\n  ).filter((item) => item.id !== activeId);\n}\nvar useCompositeTypeahead = createHook(\n  (_a) => {\n    var _b = _a, { store, typeahead = true } = _b, props = __objRest(_b, [\"store\", \"typeahead\"]);\n    const context = useContext(CompositeContext);\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"CompositeTypeahead must be a Composite component\"\n    );\n    const onKeyDownCaptureProp = props.onKeyDownCapture;\n    const cleanupTimeoutRef = useRef(0);\n    const onKeyDownCapture = useEvent(\n      (event) => {\n        onKeyDownCaptureProp == null ? void 0 : onKeyDownCaptureProp(event);\n        if (event.defaultPrevented)\n          return;\n        if (!typeahead)\n          return;\n        if (!store)\n          return;\n        const { items, activeId } = store.getState();\n        if (!isValidTypeaheadEvent(event))\n          return clearChars();\n        let enabledItems = getEnabledItems(items);\n        if (!isSelfTargetOrItem(event, enabledItems))\n          return clearChars();\n        event.preventDefault();\n        window.clearTimeout(cleanupTimeoutRef.current);\n        cleanupTimeoutRef.current = window.setTimeout(() => {\n          chars = \"\";\n        }, 500);\n        const char = event.key.toLowerCase();\n        chars += char;\n        enabledItems = getSameInitialItems(enabledItems, char, activeId);\n        const item = enabledItems.find(\n          (item2) => itemTextStartsWith(item2, chars)\n        );\n        if (item) {\n          store.move(item.id);\n        } else {\n          clearChars();\n        }\n      }\n    );\n    props = __spreadProps(__spreadValues({}, props), {\n      onKeyDownCapture\n    });\n    return props;\n  }\n);\nvar CompositeTypeahead = createComponent(\n  (props) => {\n    const htmlProps = useCompositeTypeahead(props);\n    return createElement(\"div\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  CompositeTypeahead.displayName = \"CompositeTypeahead\";\n}\n\nexport {\n  useCompositeTypeahead,\n  CompositeTypeahead\n};\n","import {\n  useStore,\n  useStoreProps\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/disclosure/disclosure-store.ts\nimport * as Core from \"@ariakit/core/disclosure/disclosure-store\";\nfunction useDisclosureStoreOptions(_props) {\n  return {};\n}\nfunction useDisclosureStoreProps(store, props) {\n  useStoreProps(store, props, \"open\", \"setOpen\");\n  useStoreProps(store, props, \"animated\");\n  return store;\n}\nfunction useDisclosureStore(props = {}) {\n  const options = useDisclosureStoreOptions(props);\n  const store = useStore(\n    () => Core.createDisclosureStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return useDisclosureStoreProps(store, props);\n}\n\nexport {\n  useDisclosureStoreOptions,\n  useDisclosureStoreProps,\n  useDisclosureStore\n};\n","// src/menu/menu-context.ts\nimport { createContext } from \"react\";\nvar MenuBarContext = createContext(\n  void 0\n);\nvar MenuContext = createContext(void 0);\nvar MenuItemCheckedContext = createContext(\n  void 0\n);\n\nexport {\n  MenuBarContext,\n  MenuContext,\n  MenuItemCheckedContext\n};\n","import {\n  setRef\n} from \"./CP3U4HPL.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/hooks.ts\nimport {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState\n} from \"react\";\nimport * as React from \"react\";\nimport { canUseDOM } from \"@ariakit/core/utils/dom\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nimport { applyState } from \"@ariakit/core/utils/misc\";\nvar _React = __spreadValues({}, React);\nvar useReactId = _React.useId;\nvar useReactDeferredValue = _React.useDeferredValue;\nvar useReactInsertionEffect = _React.useInsertionEffect;\nvar useSafeLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\nfunction useInitialValue(value) {\n  const [initialValue] = useState(value);\n  return initialValue;\n}\nfunction useLazyValue(init) {\n  const ref = useRef();\n  if (ref.current === void 0) {\n    ref.current = init();\n  }\n  return ref.current;\n}\nfunction useLiveRef(value) {\n  const ref = useRef(value);\n  useSafeLayoutEffect(() => {\n    ref.current = value;\n  });\n  return ref;\n}\nfunction usePreviousValue(value) {\n  const [previousValue, setPreviousValue] = useState(value);\n  if (value !== previousValue) {\n    setPreviousValue(value);\n  }\n  return previousValue;\n}\nfunction useEvent(callback) {\n  const ref = useRef(() => {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  if (useReactInsertionEffect) {\n    useReactInsertionEffect(() => {\n      ref.current = callback;\n    });\n  } else {\n    ref.current = callback;\n  }\n  return useCallback((...args) => {\n    var _a;\n    return (_a = ref.current) == null ? void 0 : _a.call(ref, ...args);\n  }, []);\n}\nfunction useMergeRefs(...refs) {\n  return useMemo(() => {\n    if (!refs.some(Boolean))\n      return;\n    return (value) => {\n      refs.forEach((ref) => setRef(ref, value));\n    };\n  }, refs);\n}\nfunction useRefId(ref, deps) {\n  const [id, setId] = useState(void 0);\n  useSafeLayoutEffect(() => {\n    var _a;\n    setId((_a = ref == null ? void 0 : ref.current) == null ? void 0 : _a.id);\n  }, deps);\n  return id;\n}\nfunction useId(defaultId) {\n  if (useReactId) {\n    const reactId = useReactId();\n    if (defaultId)\n      return defaultId;\n    return reactId;\n  }\n  const [id, setId] = useState(defaultId);\n  useSafeLayoutEffect(() => {\n    if (defaultId || id)\n      return;\n    const random = Math.random().toString(36).substr(2, 6);\n    setId(`id-${random}`);\n  }, [defaultId, id]);\n  return defaultId || id;\n}\nfunction useDeferredValue(value) {\n  if (useReactDeferredValue) {\n    return useReactDeferredValue(value);\n  }\n  const [deferredValue, setDeferredValue] = useState(value);\n  useEffect(() => {\n    const raf = requestAnimationFrame(() => setDeferredValue(value));\n    return () => cancelAnimationFrame(raf);\n  }, [value]);\n  return deferredValue;\n}\nfunction useTagName(refOrElement, type) {\n  const stringOrUndefined = (type2) => {\n    if (typeof type2 !== \"string\")\n      return;\n    return type2;\n  };\n  const [tagName, setTagName] = useState(() => stringOrUndefined(type));\n  useSafeLayoutEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    setTagName((element == null ? void 0 : element.tagName.toLowerCase()) || stringOrUndefined(type));\n  }, [refOrElement, type]);\n  return tagName;\n}\nfunction useAttribute(refOrElement, attributeName, defaultValue) {\n  const [attribute, setAttribute] = useState(defaultValue);\n  useSafeLayoutEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    const value = element == null ? void 0 : element.getAttribute(attributeName);\n    if (value == null)\n      return;\n    setAttribute(value);\n  }, [refOrElement, attributeName]);\n  return attribute;\n}\nfunction useUpdateEffect(effect, deps) {\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useUpdateLayoutEffect(effect, deps) {\n  const mounted = useRef(false);\n  useSafeLayoutEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useSafeLayoutEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useControlledState(defaultState, state, setState) {\n  const [localState, setLocalState] = useState(defaultState);\n  const nextState = state !== void 0 ? state : localState;\n  const stateRef = useLiveRef(state);\n  const setStateRef = useLiveRef(setState);\n  const nextStateRef = useLiveRef(nextState);\n  const setNextState = useCallback((prevValue) => {\n    const setStateProp = setStateRef.current;\n    if (setStateProp) {\n      if (isSetNextState(setStateProp)) {\n        setStateProp(prevValue);\n      } else {\n        const nextValue = applyState(prevValue, nextStateRef.current);\n        nextStateRef.current = nextValue;\n        setStateProp(nextValue);\n      }\n    }\n    if (stateRef.current === void 0) {\n      setLocalState(prevValue);\n    }\n  }, []);\n  defineSetNextState(setNextState);\n  return [nextState, setNextState];\n}\nvar SET_NEXT_STATE = Symbol(\"setNextState\");\nfunction isSetNextState(arg) {\n  return arg[SET_NEXT_STATE] === true;\n}\nfunction defineSetNextState(arg) {\n  if (!isSetNextState(arg)) {\n    Object.defineProperty(arg, SET_NEXT_STATE, { value: true });\n  }\n}\nfunction useForceUpdate() {\n  return useReducer(() => [], []);\n}\nfunction useBooleanEvent(booleanOrCallback) {\n  return useEvent(\n    typeof booleanOrCallback === \"function\" ? booleanOrCallback : () => booleanOrCallback\n  );\n}\nfunction useWrapElement(props, callback, deps = []) {\n  const wrapElement = useCallback(\n    (element) => {\n      if (props.wrapElement) {\n        element = props.wrapElement(element);\n      }\n      return callback(element);\n    },\n    [...deps, props.wrapElement]\n  );\n  return __spreadProps(__spreadValues({}, props), { wrapElement });\n}\nfunction usePortalRef(portalProp = false, portalRefProp) {\n  const [portalNode, setPortalNode] = useState(null);\n  const portalRef = useMergeRefs(setPortalNode, portalRefProp);\n  const domReady = !portalProp || portalNode;\n  return { portalRef, portalNode, domReady };\n}\nfunction useIsMouseMoving() {\n  useEffect(() => {\n    addGlobalEventListener(\"mousemove\", setMouseMoving, true);\n    addGlobalEventListener(\"mousedown\", resetMouseMoving, true);\n    addGlobalEventListener(\"mouseup\", resetMouseMoving, true);\n    addGlobalEventListener(\"keydown\", resetMouseMoving, true);\n    addGlobalEventListener(\"scroll\", resetMouseMoving, true);\n  }, []);\n  const isMouseMoving = useEvent(() => mouseMoving);\n  return isMouseMoving;\n}\nvar mouseMoving = false;\nvar previousScreenX = 0;\nvar previousScreenY = 0;\nfunction hasMouseMovement(event) {\n  const movementX = event.movementX || event.screenX - previousScreenX;\n  const movementY = event.movementY || event.screenY - previousScreenY;\n  previousScreenX = event.screenX;\n  previousScreenY = event.screenY;\n  return movementX || movementY || process.env.NODE_ENV === \"test\";\n}\nfunction setMouseMoving(event) {\n  if (!hasMouseMovement(event))\n    return;\n  mouseMoving = true;\n}\nfunction resetMouseMoving() {\n  mouseMoving = false;\n}\n\nexport {\n  useSafeLayoutEffect,\n  useInitialValue,\n  useLazyValue,\n  useLiveRef,\n  usePreviousValue,\n  useEvent,\n  useMergeRefs,\n  useRefId,\n  useId,\n  useDeferredValue,\n  useTagName,\n  useAttribute,\n  useUpdateEffect,\n  useUpdateLayoutEffect,\n  useControlledState,\n  useForceUpdate,\n  useBooleanEvent,\n  useWrapElement,\n  usePortalRef,\n  useIsMouseMoving\n};\n","import {\n  FocusableContext\n} from \"./BMLNRUFQ.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useTagName\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/focusable/focusable.ts\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { isButton } from \"@ariakit/core/utils/dom\";\nimport {\n  addGlobalEventListener,\n  isFocusEventOutside,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport {\n  focusIfNeeded,\n  hasFocus,\n  isFocusable\n} from \"@ariakit/core/utils/focus\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nvar isSafariBrowser = isSafari();\nvar alwaysFocusVisibleInputTypes = [\n  \"text\",\n  \"search\",\n  \"url\",\n  \"tel\",\n  \"email\",\n  \"password\",\n  \"number\",\n  \"date\",\n  \"month\",\n  \"week\",\n  \"time\",\n  \"datetime\",\n  \"datetime-local\"\n];\nfunction isAlwaysFocusVisible(element) {\n  const { tagName, readOnly, type } = element;\n  if (tagName === \"TEXTAREA\" && !readOnly)\n    return true;\n  if (tagName === \"SELECT\" && !readOnly)\n    return true;\n  if (tagName === \"INPUT\" && !readOnly) {\n    return alwaysFocusVisibleInputTypes.includes(type);\n  }\n  if (element.isContentEditable)\n    return true;\n  return false;\n}\nfunction isAlwaysFocusVisibleDelayed(element) {\n  const role = element.getAttribute(\"role\");\n  if (role !== \"combobox\")\n    return false;\n  return !!element.dataset.name;\n}\nfunction getLabels(element) {\n  if (\"labels\" in element) {\n    return element.labels;\n  }\n  return null;\n}\nfunction isNativeCheckboxOrRadio(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"input\" && element.type) {\n    return element.type === \"radio\" || element.type === \"checkbox\";\n  }\n  return false;\n}\nfunction isNativeTabbable(tagName) {\n  if (!tagName)\n    return true;\n  return tagName === \"button\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\" || tagName === \"a\";\n}\nfunction supportsDisabledAttribute(tagName) {\n  if (!tagName)\n    return true;\n  return tagName === \"button\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\";\n}\nfunction getTabIndex(focusable, trulyDisabled, nativeTabbable, supportsDisabled, tabIndexProp) {\n  if (!focusable) {\n    return tabIndexProp;\n  }\n  if (trulyDisabled) {\n    if (nativeTabbable && !supportsDisabled) {\n      return -1;\n    }\n    return;\n  }\n  if (nativeTabbable) {\n    return tabIndexProp;\n  }\n  return tabIndexProp || 0;\n}\nfunction useDisableEvent(onEvent, disabled) {\n  return useEvent((event) => {\n    onEvent == null ? void 0 : onEvent(event);\n    if (event.defaultPrevented)\n      return;\n    if (disabled) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  });\n}\nvar isKeyboardModality = true;\nfunction onGlobalMouseDown(event) {\n  const target = event.target;\n  if (target && \"hasAttribute\" in target) {\n    if (!target.hasAttribute(\"data-focus-visible\")) {\n      isKeyboardModality = false;\n    }\n  }\n}\nfunction onGlobalKeyDown(event) {\n  if (event.metaKey)\n    return;\n  if (event.ctrlKey)\n    return;\n  if (event.altKey)\n    return;\n  isKeyboardModality = true;\n}\nvar useFocusable = createHook(\n  (_a) => {\n    var _b = _a, {\n      focusable = true,\n      accessibleWhenDisabled,\n      autoFocus,\n      onFocusVisible\n    } = _b, props = __objRest(_b, [\n      \"focusable\",\n      \"accessibleWhenDisabled\",\n      \"autoFocus\",\n      \"onFocusVisible\"\n    ]);\n    const ref = useRef(null);\n    useEffect(() => {\n      if (!focusable)\n        return;\n      addGlobalEventListener(\"mousedown\", onGlobalMouseDown, true);\n      addGlobalEventListener(\"keydown\", onGlobalKeyDown, true);\n    }, [focusable]);\n    if (isSafariBrowser) {\n      useEffect(() => {\n        if (!focusable)\n          return;\n        const element = ref.current;\n        if (!element)\n          return;\n        if (!isNativeCheckboxOrRadio(element))\n          return;\n        const labels = getLabels(element);\n        if (!labels)\n          return;\n        const onMouseUp = () => queueMicrotask(() => element.focus());\n        labels.forEach((label) => label.addEventListener(\"mouseup\", onMouseUp));\n        return () => {\n          labels.forEach(\n            (label) => label.removeEventListener(\"mouseup\", onMouseUp)\n          );\n        };\n      }, [focusable]);\n    }\n    const disabled = focusable && props.disabled;\n    const trulyDisabled = !!disabled && !accessibleWhenDisabled;\n    const [focusVisible, setFocusVisible] = useState(false);\n    useEffect(() => {\n      if (!focusable)\n        return;\n      if (trulyDisabled && focusVisible) {\n        setFocusVisible(false);\n      }\n    }, [focusable, trulyDisabled, focusVisible]);\n    useEffect(() => {\n      if (!focusable)\n        return;\n      if (!focusVisible)\n        return;\n      const element = ref.current;\n      if (!element)\n        return;\n      if (typeof IntersectionObserver === \"undefined\")\n        return;\n      const observer = new IntersectionObserver(() => {\n        if (!isFocusable(element)) {\n          setFocusVisible(false);\n        }\n      });\n      observer.observe(element);\n      return () => observer.disconnect();\n    }, [focusable, focusVisible]);\n    const onKeyPressCapture = useDisableEvent(\n      props.onKeyPressCapture,\n      disabled\n    );\n    const onMouseDownCapture = useDisableEvent(\n      props.onMouseDownCapture,\n      disabled\n    );\n    const onClickCapture = useDisableEvent(props.onClickCapture, disabled);\n    const onMouseDownProp = props.onMouseDown;\n    const onMouseDown = useEvent((event) => {\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!focusable)\n        return;\n      const element = event.currentTarget;\n      if (!isSafariBrowser)\n        return;\n      if (isPortalEvent(event))\n        return;\n      if (!isButton(element) && !isNativeCheckboxOrRadio(element))\n        return;\n      let receivedFocus = false;\n      const onFocus = () => {\n        receivedFocus = true;\n      };\n      const options = { capture: true, once: true };\n      element.addEventListener(\"focusin\", onFocus, options);\n      queueBeforeEvent(element, \"mouseup\", () => {\n        element.removeEventListener(\"focusin\", onFocus, true);\n        if (receivedFocus)\n          return;\n        focusIfNeeded(element);\n      });\n    });\n    const handleFocusVisible = (event, currentTarget) => {\n      if (currentTarget) {\n        event.currentTarget = currentTarget;\n      }\n      onFocusVisible == null ? void 0 : onFocusVisible(event);\n      if (event.defaultPrevented)\n        return;\n      if (!focusable)\n        return;\n      const element = event.currentTarget;\n      if (!element)\n        return;\n      if (!hasFocus(element))\n        return;\n      setFocusVisible(true);\n    };\n    const onKeyDownCaptureProp = props.onKeyDownCapture;\n    const onKeyDownCapture = useEvent(\n      (event) => {\n        onKeyDownCaptureProp == null ? void 0 : onKeyDownCaptureProp(event);\n        if (event.defaultPrevented)\n          return;\n        if (!focusable)\n          return;\n        if (focusVisible)\n          return;\n        if (event.metaKey)\n          return;\n        if (event.altKey)\n          return;\n        if (event.ctrlKey)\n          return;\n        if (!isSelfTarget(event))\n          return;\n        const element = event.currentTarget;\n        queueMicrotask(() => handleFocusVisible(event, element));\n      }\n    );\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!focusable)\n        return;\n      if (!isSelfTarget(event)) {\n        setFocusVisible(false);\n        return;\n      }\n      const element = event.currentTarget;\n      const applyFocusVisible = () => handleFocusVisible(event, element);\n      if (isKeyboardModality || isAlwaysFocusVisible(event.target)) {\n        queueMicrotask(applyFocusVisible);\n      } else if (isAlwaysFocusVisibleDelayed(event.target)) {\n        queueBeforeEvent(event.target, \"focusout\", applyFocusVisible);\n      } else {\n        setFocusVisible(false);\n      }\n    });\n    const onBlurProp = props.onBlur;\n    const onBlur = useEvent((event) => {\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (!focusable)\n        return;\n      if (!isFocusEventOutside(event))\n        return;\n      setFocusVisible(false);\n    });\n    const autoFocusOnShow = useContext(FocusableContext);\n    const autoFocusRef = useEvent((element) => {\n      if (!focusable)\n        return;\n      if (!autoFocus)\n        return;\n      if (!element)\n        return;\n      if (!autoFocusOnShow)\n        return;\n      queueMicrotask(() => {\n        if (hasFocus(element))\n          return;\n        if (!isFocusable(element))\n          return;\n        element.focus();\n      });\n    });\n    const tagName = useTagName(ref, props.as);\n    const nativeTabbable = focusable && isNativeTabbable(tagName);\n    const supportsDisabled = focusable && supportsDisabledAttribute(tagName);\n    const style = trulyDisabled ? __spreadValues({ pointerEvents: \"none\" }, props.style) : props.style;\n    props = __spreadProps(__spreadValues({\n      \"data-focus-visible\": focusable && focusVisible ? \"\" : void 0,\n      \"data-autofocus\": autoFocus ? true : void 0,\n      \"aria-disabled\": disabled ? true : void 0\n    }, props), {\n      ref: useMergeRefs(ref, autoFocusRef, props.ref),\n      style,\n      tabIndex: getTabIndex(\n        focusable,\n        trulyDisabled,\n        nativeTabbable,\n        supportsDisabled,\n        props.tabIndex\n      ),\n      disabled: supportsDisabled && trulyDisabled ? true : void 0,\n      // TODO: Test Focusable contentEditable.\n      contentEditable: disabled ? void 0 : props.contentEditable,\n      onKeyPressCapture,\n      onClickCapture,\n      onMouseDownCapture,\n      onMouseDown,\n      onKeyDownCapture,\n      onFocusCapture,\n      onBlur\n    });\n    return props;\n  }\n);\nvar Focusable = createComponent((props) => {\n  props = useFocusable(props);\n  return createElement(\"div\", props);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Focusable.displayName = \"Focusable\";\n}\n\nexport {\n  useFocusable,\n  Focusable\n};\n","import {\n  useMergeRefs\n} from \"./J7Q2EO23.js\";\nimport {\n  getRefProperty,\n  mergeProps\n} from \"./CP3U4HPL.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/system.tsx\nimport * as React from \"react\";\nimport { hasOwnProperty } from \"@ariakit/core/utils/misc\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction isRenderProp(children) {\n  return typeof children === \"function\";\n}\nfunction forwardRef2(render) {\n  const Role = React.forwardRef((props, ref) => render(__spreadProps(__spreadValues({}, props), { ref })));\n  Role.displayName = render.displayName || render.name;\n  return Role;\n}\nfunction memo2(Component, propsAreEqual) {\n  const Role = React.memo(Component, propsAreEqual);\n  Role.displayName = Component.displayName || Component.name;\n  return Role;\n}\nfunction createComponent(render) {\n  const Role = (props, ref) => render(__spreadValues({ ref }, props));\n  return React.forwardRef(Role);\n}\nfunction createMemoComponent(render) {\n  const Role = createComponent(render);\n  return React.memo(Role);\n}\nfunction createElement(Type, props) {\n  const _a = props, { as: As, wrapElement, render } = _a, rest = __objRest(_a, [\"as\", \"wrapElement\", \"render\"]);\n  let element;\n  const mergedRef = useMergeRefs(props.ref, getRefProperty(render));\n  if (As && typeof As !== \"string\") {\n    element = /* @__PURE__ */ jsx(As, __spreadProps(__spreadValues({}, rest), { render }));\n  } else if (React.isValidElement(render)) {\n    const renderProps = __spreadProps(__spreadValues({}, render.props), { ref: mergedRef });\n    element = React.cloneElement(render, mergeProps(rest, renderProps));\n  } else if (render) {\n    element = render(rest);\n  } else if (isRenderProp(props.children)) {\n    const _b = rest, { children } = _b, otherProps = __objRest(_b, [\"children\"]);\n    element = props.children(otherProps);\n  } else if (As) {\n    element = /* @__PURE__ */ jsx(As, __spreadValues({}, rest));\n  } else {\n    element = /* @__PURE__ */ jsx(Type, __spreadValues({}, rest));\n  }\n  if (wrapElement) {\n    return wrapElement(element);\n  }\n  return element;\n}\nfunction createHook(useProps) {\n  const useRole = (props = {}) => {\n    const htmlProps = useProps(props);\n    const copy = {};\n    for (const prop in htmlProps) {\n      if (hasOwnProperty(htmlProps, prop) && htmlProps[prop] !== void 0) {\n        copy[prop] = htmlProps[prop];\n      }\n    }\n    return copy;\n  };\n  return useRole;\n}\n\nexport {\n  forwardRef2 as forwardRef,\n  memo2 as memo,\n  createComponent,\n  createMemoComponent,\n  createElement,\n  createHook\n};\n","// src/composite/utils.ts\nimport { getDocument, isTextField } from \"@ariakit/core/utils/dom\";\nvar NULL_ITEM = { id: null };\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItem(store, id) {\n  if (!id)\n    return null;\n  return store.item(id) || null;\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction selectTextField(element, collapseToEnd = false) {\n  if (isTextField(element)) {\n    element.setSelectionRange(\n      collapseToEnd ? element.value.length : 0,\n      element.value.length\n    );\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    selection == null ? void 0 : selection.selectAllChildren(element);\n    if (collapseToEnd) {\n      selection == null ? void 0 : selection.collapseToEnd();\n    }\n  }\n}\nvar FOCUS_SILENTLY = Symbol(\"FOCUS_SILENTLY\");\nfunction focusSilently(element) {\n  element[FOCUS_SILENTLY] = true;\n  element.focus();\n}\nfunction silentlyFocused(element) {\n  const isSilentlyFocused = element[FOCUS_SILENTLY];\n  delete element[FOCUS_SILENTLY];\n  return isSilentlyFocused;\n}\nfunction isItem(store, element, exclude) {\n  if (!element)\n    return false;\n  if (element === exclude)\n    return false;\n  const item = store.item(element.id);\n  if (!item)\n    return false;\n  if (exclude && item.element === exclude)\n    return false;\n  return true;\n}\n\nexport {\n  flipItems,\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  selectTextField,\n  focusSilently,\n  silentlyFocused,\n  isItem\n};\n","import {\n  useFocusable\n} from \"./MYID4V27.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useTagName\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/command/command.ts\nimport { useEffect, useRef, useState } from \"react\";\nimport { isButton, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireClickEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport { isFirefox } from \"@ariakit/core/utils/platform\";\nfunction isNativeClick(event) {\n  if (!event.isTrusted)\n    return false;\n  const element = event.currentTarget;\n  if (event.key === \"Enter\") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"A\";\n  }\n  if (event.key === \" \") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"INPUT\" || element.tagName === \"SELECT\";\n  }\n  return false;\n}\nvar useCommand = createHook(\n  (_a) => {\n    var _b = _a, { clickOnEnter = true, clickOnSpace = true } = _b, props = __objRest(_b, [\"clickOnEnter\", \"clickOnSpace\"]);\n    const ref = useRef(null);\n    const tagName = useTagName(ref, props.as);\n    const type = props.type;\n    const [isNativeButton, setIsNativeButton] = useState(\n      () => !!tagName && isButton({ tagName, type })\n    );\n    useEffect(() => {\n      if (!ref.current)\n        return;\n      setIsNativeButton(isButton(ref.current));\n    }, []);\n    const [active, setActive] = useState(false);\n    const activeRef = useRef(false);\n    const isDuplicate = \"data-command\" in props;\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      const element = event.currentTarget;\n      if (event.defaultPrevented)\n        return;\n      if (isDuplicate)\n        return;\n      if (props.disabled)\n        return;\n      if (!isSelfTarget(event))\n        return;\n      if (isTextField(element))\n        return;\n      if (element.isContentEditable)\n        return;\n      const isEnter = clickOnEnter && event.key === \"Enter\";\n      const isSpace = clickOnSpace && event.key === \" \";\n      const shouldPreventEnter = event.key === \"Enter\" && !clickOnEnter;\n      const shouldPreventSpace = event.key === \" \" && !clickOnSpace;\n      if (shouldPreventEnter || shouldPreventSpace) {\n        event.preventDefault();\n        return;\n      }\n      if (isEnter || isSpace) {\n        const nativeClick = isNativeClick(event);\n        if (isEnter) {\n          if (!nativeClick) {\n            event.preventDefault();\n            const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n            const click = () => fireClickEvent(element, eventInit);\n            if (isFirefox()) {\n              queueBeforeEvent(element, \"keyup\", click);\n            } else {\n              queueMicrotask(click);\n            }\n          }\n        } else if (isSpace) {\n          activeRef.current = true;\n          if (!nativeClick) {\n            event.preventDefault();\n            setActive(true);\n          }\n        }\n      }\n    });\n    const onKeyUpProp = props.onKeyUp;\n    const onKeyUp = useEvent((event) => {\n      onKeyUpProp == null ? void 0 : onKeyUpProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (isDuplicate)\n        return;\n      if (props.disabled)\n        return;\n      if (event.metaKey)\n        return;\n      const isSpace = clickOnSpace && event.key === \" \";\n      if (activeRef.current && isSpace) {\n        activeRef.current = false;\n        if (!isNativeClick(event)) {\n          setActive(false);\n          const element = event.currentTarget;\n          const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n          queueMicrotask(() => fireClickEvent(element, eventInit));\n        }\n      }\n    });\n    props = __spreadProps(__spreadValues({\n      \"data-command\": \"\",\n      \"data-active\": active ? \"\" : void 0,\n      type: isNativeButton ? \"button\" : void 0\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onKeyDown,\n      onKeyUp\n    });\n    props = useFocusable(props);\n    return props;\n  }\n);\nvar Command = createComponent((props) => {\n  props = useCommand(props);\n  return createElement(\"button\", props);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Command.displayName = \"Command\";\n}\n\nexport {\n  useCommand,\n  Command\n};\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n","import {\n  useLazyValue,\n  useLiveRef,\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/utils/store.tsx\nimport * as React from \"react\";\nimport { hasOwnProperty, identity } from \"@ariakit/core/utils/misc\";\nimport { batch, init, subscribe, sync } from \"@ariakit/core/utils/store\";\nimport { flushSync } from \"react-dom\";\nimport { useSyncExternalStore } from \"use-sync-external-store/shim/index.js\";\nvar noopSubscribe = () => () => {\n};\nvar inFlushSyncContext = false;\nfunction safeFlushSync(fn, canFlushSync = true) {\n  if (inFlushSyncContext || !canFlushSync) {\n    fn();\n    return;\n  }\n  inFlushSyncContext = true;\n  const originalError = console.error;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error = (msg) => {\n      if (msg.startsWith(\"Warning: flushSync\"))\n        return;\n      originalError(msg);\n    };\n  }\n  try {\n    flushSync(fn);\n  } finally {\n    console.error = originalError;\n    inFlushSyncContext = false;\n  }\n}\nfunction useStoreState(store, keyOrSelector = identity) {\n  const storeSubscribe = React.useCallback(\n    (callback) => {\n      if (!store)\n        return noopSubscribe();\n      return subscribe(store, null, callback);\n    },\n    [store]\n  );\n  const getSnapshot = () => {\n    if (!store)\n      return;\n    const state = store.getState();\n    const selector = typeof keyOrSelector === \"function\" ? keyOrSelector : null;\n    const key = typeof keyOrSelector === \"string\" ? keyOrSelector : null;\n    if (selector)\n      return selector(state);\n    if (!key)\n      return;\n    if (!hasOwnProperty(state, key))\n      return;\n    return state[key];\n  };\n  return useSyncExternalStore(storeSubscribe, getSnapshot, getSnapshot);\n}\nfunction useStoreProps(store, props, key, setKey) {\n  const value = hasOwnProperty(props, key) ? props[key] : void 0;\n  const propsRef = useLiveRef({\n    value,\n    setValue: setKey ? props[setKey] : void 0\n  });\n  useSafeLayoutEffect(() => {\n    let canFlushSync = false;\n    queueMicrotask(() => {\n      canFlushSync = true;\n    });\n    return sync(store, [key], (state, prev) => {\n      const { value: value2, setValue } = propsRef.current;\n      if (!setValue)\n        return;\n      if (state[key] === prev[key])\n        return;\n      if (state[key] === value2)\n        return;\n      safeFlushSync(() => setValue(state[key]), canFlushSync);\n    });\n  }, [store, key]);\n  useSafeLayoutEffect(() => {\n    return batch(store, [key], () => {\n      if (value === void 0)\n        return;\n      store.setState(key, value);\n    });\n  }, [store, key, value]);\n}\nfunction useStore(createStore) {\n  const store = useLazyValue(createStore);\n  useSafeLayoutEffect(() => init(store), [store]);\n  const useState = React.useCallback(\n    (keyOrSelector) => useStoreState(store, keyOrSelector),\n    [store]\n  );\n  return React.useMemo(\n    () => __spreadProps(__spreadValues({}, store), { useState }),\n    [store, useState]\n  );\n}\n\nexport {\n  useStoreState,\n  useStoreProps,\n  useStore\n};\n","import {\n  CompositeContext\n} from \"./WJ37OVG2.js\";\nimport {\n  createElement,\n  createHook,\n  createMemoComponent\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useIsMouseMoving\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite-hover.ts\nimport { useContext } from \"react\";\nimport { closest, contains } from \"@ariakit/core/utils/dom\";\nimport { hasFocus, hasFocusWithin } from \"@ariakit/core/utils/focus\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nfunction getMouseDestination(event) {\n  const relatedTarget = event.relatedTarget;\n  if ((relatedTarget == null ? void 0 : relatedTarget.nodeType) === Node.ELEMENT_NODE) {\n    return relatedTarget;\n  }\n  return null;\n}\nfunction hoveringInside(event) {\n  const nextElement = getMouseDestination(event);\n  if (!nextElement)\n    return false;\n  return contains(event.currentTarget, nextElement);\n}\nfunction movingToAnotherItem(event) {\n  const dest = getMouseDestination(event);\n  if (!dest)\n    return false;\n  const item = closest(dest, \"[data-composite-hover]\");\n  return !!item;\n}\nvar useCompositeHover = createHook(\n  (_a) => {\n    var _b = _a, { store, focusOnHover = true } = _b, props = __objRest(_b, [\"store\", \"focusOnHover\"]);\n    const context = useContext(CompositeContext);\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"CompositeHover must be wrapped in a Composite component\"\n    );\n    const isMouseMoving = useIsMouseMoving();\n    const onMouseMoveProp = props.onMouseMove;\n    const focusOnHoverProp = useBooleanEvent(focusOnHover);\n    const onMouseMove = useEvent((event) => {\n      onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!isMouseMoving())\n        return;\n      if (!focusOnHoverProp(event))\n        return;\n      if (!hasFocusWithin(event.currentTarget)) {\n        const baseElement = store == null ? void 0 : store.getState().baseElement;\n        if (baseElement && !hasFocus(baseElement)) {\n          baseElement.focus();\n        }\n      }\n      store == null ? void 0 : store.setActiveId(event.currentTarget.id);\n    });\n    const onMouseLeaveProp = props.onMouseLeave;\n    const onMouseLeave = useEvent((event) => {\n      var _a2;\n      onMouseLeaveProp == null ? void 0 : onMouseLeaveProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!isMouseMoving())\n        return;\n      if (hoveringInside(event))\n        return;\n      if (movingToAnotherItem(event))\n        return;\n      if (!focusOnHoverProp(event))\n        return;\n      store == null ? void 0 : store.setActiveId(null);\n      (_a2 = store == null ? void 0 : store.getState().baseElement) == null ? void 0 : _a2.focus();\n    });\n    props = __spreadProps(__spreadValues({\n      \"data-composite-hover\": \"\"\n    }, props), {\n      onMouseMove,\n      onMouseLeave\n    });\n    return props;\n  }\n);\nvar CompositeHover = createMemoComponent(\n  (props) => {\n    const htmlProps = useCompositeHover(props);\n    return createElement(\"div\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  CompositeHover.displayName = \"CompositeHover\";\n}\n\nexport {\n  useCompositeHover,\n  CompositeHover\n};\n","// src/collection/collection-context.ts\nimport { createContext } from \"react\";\nvar CollectionContext = createContext(\n  void 0\n);\n\nexport {\n  CollectionContext\n};\n","import {\n  CollectionContext\n} from \"./T3DJZG63.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useId,\n  useMergeRefs\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/collection/collection-item.ts\nimport { useContext, useEffect, useRef } from \"react\";\nimport { identity } from \"@ariakit/core/utils/misc\";\nvar useCollectionItem = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      shouldRegisterItem = true,\n      getItem = identity,\n      element: element\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"shouldRegisterItem\",\n      \"getItem\",\n      // @ts-expect-error This prop may come from a collection renderer.\n      \"element\"\n    ]);\n    const context = useContext(CollectionContext);\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(element);\n    useEffect(() => {\n      const element2 = ref.current;\n      if (!id)\n        return;\n      if (!element2)\n        return;\n      if (!shouldRegisterItem)\n        return;\n      const item = getItem({ id, element: element2 });\n      return store == null ? void 0 : store.renderItem(item);\n    }, [id, shouldRegisterItem, getItem, store]);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref)\n    });\n    return props;\n  }\n);\nvar CollectionItem = createComponent(\n  (props) => {\n    const htmlProps = useCollectionItem(props);\n    return createElement(\"div\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  CollectionItem.displayName = \"CollectionItem\";\n}\n\nexport {\n  useCollectionItem,\n  CollectionItem\n};\n","import {\n  useCommand\n} from \"./P4RGQGTG.js\";\nimport {\n  useCollectionItem\n} from \"./VFNGSUSF.js\";\nimport {\n  focusSilently,\n  getEnabledItem,\n  isItem\n} from \"./OXPV2NBK.js\";\nimport {\n  CompositeContext,\n  CompositeItemContext,\n  CompositeRowContext\n} from \"./WJ37OVG2.js\";\nimport {\n  createElement,\n  createHook,\n  createMemoComponent\n} from \"./NQJBHION.js\";\nimport {\n  useStoreState\n} from \"./QPTZ2G2N.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite-item.tsx\nimport { useCallback, useContext, useMemo, useRef, useState } from \"react\";\nimport {\n  getScrollingElement,\n  isButton,\n  isTextField\n} from \"@ariakit/core/utils/dom\";\nimport { isPortalEvent, isSelfTarget } from \"@ariakit/core/utils/events\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction isEditableElement(element) {\n  if (element.isContentEditable)\n    return true;\n  if (isTextField(element))\n    return true;\n  return element.tagName === \"INPUT\" && !isButton(element);\n}\nfunction getNextPageOffset(scrollingElement, pageUp = false) {\n  const height = scrollingElement.clientHeight;\n  const { top } = scrollingElement.getBoundingClientRect();\n  const pageSize = Math.max(height * 0.875, height - 40) * 1.5;\n  const pageOffset = pageUp ? height - pageSize + top : pageSize + top;\n  if (scrollingElement.tagName === \"HTML\") {\n    return pageOffset + scrollingElement.scrollTop;\n  }\n  return pageOffset;\n}\nfunction getItemOffset(itemElement, pageUp = false) {\n  const { top } = itemElement.getBoundingClientRect();\n  if (pageUp) {\n    return top + itemElement.clientHeight;\n  }\n  return top;\n}\nfunction findNextPageItemId(element, store, next, pageUp = false) {\n  var _a;\n  if (!store)\n    return;\n  if (!next)\n    return;\n  const { renderedItems } = store.getState();\n  const scrollingElement = getScrollingElement(element);\n  if (!scrollingElement)\n    return;\n  const nextPageOffset = getNextPageOffset(scrollingElement, pageUp);\n  let id;\n  let prevDifference;\n  for (let i = 0; i < renderedItems.length; i += 1) {\n    const previousId = id;\n    id = next(i);\n    if (!id)\n      break;\n    if (id === previousId)\n      continue;\n    const itemElement = (_a = getEnabledItem(store, id)) == null ? void 0 : _a.element;\n    if (!itemElement)\n      continue;\n    const itemOffset = getItemOffset(itemElement, pageUp);\n    const difference = itemOffset - nextPageOffset;\n    const absDifference = Math.abs(difference);\n    if (pageUp && difference <= 0 || !pageUp && difference >= 0) {\n      if (prevDifference !== void 0 && prevDifference < absDifference) {\n        id = previousId;\n      }\n      break;\n    }\n    prevDifference = absDifference;\n  }\n  return id;\n}\nfunction targetIsAnotherItem(event, store) {\n  if (isSelfTarget(event))\n    return false;\n  return isItem(store, event.target);\n}\nfunction useRole(ref, props) {\n  const roleProp = props.role;\n  const [role, setRole] = useState(roleProp);\n  useSafeLayoutEffect(() => {\n    const element = ref.current;\n    if (!element)\n      return;\n    setRole(element.getAttribute(\"role\") || roleProp);\n  }, [roleProp]);\n  return role;\n}\nfunction requiresAriaSelected(role) {\n  return role === \"option\" || role === \"treeitem\";\n}\nfunction supportsAriaSelected(role) {\n  if (role === \"option\")\n    return true;\n  if (role === \"tab\")\n    return true;\n  if (role === \"treeitem\")\n    return true;\n  if (role === \"gridcell\")\n    return true;\n  if (role === \"row\")\n    return true;\n  if (role === \"columnheader\")\n    return true;\n  if (role === \"rowheader\")\n    return true;\n  return false;\n}\nvar useCompositeItem = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      rowId: rowIdProp,\n      preventScrollOnKeyDown = false,\n      moveOnKeyPress = true,\n      getItem: getItemProp,\n      \"aria-setsize\": ariaSetSizeProp,\n      \"aria-posinset\": ariaPosInSetProp\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"rowId\",\n      \"preventScrollOnKeyDown\",\n      \"moveOnKeyPress\",\n      \"getItem\",\n      \"aria-setsize\",\n      \"aria-posinset\"\n    ]);\n    var _a2;\n    const context = useContext(CompositeContext);\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(null);\n    const row = useContext(CompositeRowContext);\n    const rowId = useStoreState(store, (state) => {\n      if (rowIdProp)\n        return rowIdProp;\n      if (!(row == null ? void 0 : row.baseElement))\n        return;\n      if (row.baseElement !== state.baseElement)\n        return;\n      return row.id;\n    });\n    const trulyDisabled = props.disabled && !props.accessibleWhenDisabled;\n    const getItem = useCallback(\n      (item) => {\n        const nextItem = __spreadProps(__spreadValues({}, item), {\n          id: id || item.id,\n          rowId,\n          disabled: !!trulyDisabled\n        });\n        if (getItemProp) {\n          return getItemProp(nextItem);\n        }\n        return nextItem;\n      },\n      [id, rowId, trulyDisabled, getItemProp]\n    );\n    const onFocusProp = props.onFocus;\n    const hasFocusedComposite = useRef(false);\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (isPortalEvent(event))\n        return;\n      if (!id)\n        return;\n      if (!store)\n        return;\n      const { activeId, virtualFocus: virtualFocus2, baseElement: baseElement2 } = store.getState();\n      if (targetIsAnotherItem(event, store))\n        return;\n      if (activeId !== id) {\n        store.setActiveId(id);\n      }\n      if (!virtualFocus2)\n        return;\n      if (!isSelfTarget(event))\n        return;\n      if (isEditableElement(event.currentTarget))\n        return;\n      if (!baseElement2)\n        return;\n      hasFocusedComposite.current = true;\n      const fromComposite = event.relatedTarget === baseElement2 || isItem(store, event.relatedTarget);\n      if (fromComposite) {\n        focusSilently(baseElement2);\n      } else {\n        baseElement2.focus();\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented)\n        return;\n      const state = store == null ? void 0 : store.getState();\n      if ((state == null ? void 0 : state.virtualFocus) && hasFocusedComposite.current) {\n        hasFocusedComposite.current = false;\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const preventScrollOnKeyDownProp = useBooleanEvent(preventScrollOnKeyDown);\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!isSelfTarget(event))\n        return;\n      if (!store)\n        return;\n      const { currentTarget } = event;\n      const state = store.getState();\n      const item = store.item(id);\n      const isGrid = !!(item == null ? void 0 : item.rowId);\n      const isVertical = state.orientation !== \"horizontal\";\n      const isHorizontal = state.orientation !== \"vertical\";\n      const keyMap = {\n        ArrowUp: (isGrid || isVertical) && store.up,\n        ArrowRight: (isGrid || isHorizontal) && store.next,\n        ArrowDown: (isGrid || isVertical) && store.down,\n        ArrowLeft: (isGrid || isHorizontal) && store.previous,\n        Home: () => {\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.first();\n          }\n          return store == null ? void 0 : store.previous(-1);\n        },\n        End: () => {\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.last();\n          }\n          return store == null ? void 0 : store.next(-1);\n        },\n        PageUp: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.up, true);\n        },\n        PageDown: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.down);\n        }\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        const nextId = action();\n        if (preventScrollOnKeyDownProp(event) || nextId !== void 0) {\n          if (!moveOnKeyPressProp(event))\n            return;\n          event.preventDefault();\n          store.move(nextId);\n        }\n      }\n    });\n    const baseElement = useStoreState(\n      store,\n      (state) => state.baseElement || void 0\n    );\n    const providerValue = useMemo(\n      () => ({ id, baseElement }),\n      [id, baseElement]\n    );\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeItemContext.Provider, { value: providerValue, children: element }),\n      [providerValue]\n    );\n    const isActiveItem = useStoreState(store, (state) => state.activeId === id);\n    const virtualFocus = useStoreState(store, \"virtualFocus\");\n    const role = useRole(ref, props);\n    let ariaSelected;\n    if (isActiveItem) {\n      if (requiresAriaSelected(role)) {\n        ariaSelected = true;\n      } else if (virtualFocus && supportsAriaSelected(role)) {\n        ariaSelected = true;\n      }\n    }\n    const ariaSetSize = useStoreState(store, (state) => {\n      if (ariaSetSizeProp != null)\n        return ariaSetSizeProp;\n      if (!(row == null ? void 0 : row.ariaSetSize))\n        return;\n      if (row.baseElement !== state.baseElement)\n        return;\n      return row.ariaSetSize;\n    });\n    const ariaPosInSet = useStoreState(store, (state) => {\n      if (ariaPosInSetProp != null)\n        return ariaPosInSetProp;\n      if (!(row == null ? void 0 : row.ariaPosInSet))\n        return;\n      if (row.baseElement !== state.baseElement)\n        return;\n      const itemsInRow = state.renderedItems.filter(\n        (item) => item.rowId === rowId\n      );\n      return row.ariaPosInSet + itemsInRow.findIndex((item) => item.id === id);\n    });\n    const isTabbable = (_a2 = useStoreState(store, (state) => {\n      if (!state.renderedItems.length)\n        return true;\n      return !state.virtualFocus && state.activeId === id;\n    })) != null ? _a2 : true;\n    props = __spreadProps(__spreadValues({\n      id,\n      \"aria-selected\": ariaSelected,\n      \"data-active-item\": isActiveItem ? \"\" : void 0\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      tabIndex: isTabbable ? props.tabIndex : -1,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    props = useCommand(props);\n    props = useCollectionItem(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      getItem,\n      shouldRegisterItem: !!id ? props.shouldRegisterItem : false\n    }));\n    return __spreadProps(__spreadValues({}, props), {\n      \"aria-setsize\": ariaSetSize,\n      \"aria-posinset\": ariaPosInSet\n    });\n  }\n);\nvar CompositeItem = createMemoComponent(\n  (props) => {\n    const htmlProps = useCompositeItem(props);\n    return createElement(\"button\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  CompositeItem.displayName = \"CompositeItem\";\n}\n\nexport {\n  useCompositeItem,\n  CompositeItem\n};\n","import {\n  hasExpandedMenuButton\n} from \"./W7JXAQKF.js\";\nimport {\n  MenuBarContext,\n  MenuContext\n} from \"./HVBRRKV4.js\";\nimport {\n  useCompositeHover\n} from \"./W5P7IKOU.js\";\nimport {\n  useCompositeItem\n} from \"./7SIWUER2.js\";\nimport {\n  createElement,\n  createHook,\n  createMemoComponent\n} from \"./NQJBHION.js\";\nimport {\n  useStoreState\n} from \"./QPTZ2G2N.js\";\nimport {\n  useBooleanEvent,\n  useEvent\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/menu/menu-item.ts\nimport { useContext } from \"react\";\nimport { getPopupItemRole } from \"@ariakit/core/utils/dom\";\nimport { isDownloading, isOpeningInNewTab } from \"@ariakit/core/utils/events\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nvar useMenuItem = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      hideOnClick = true,\n      preventScrollOnKeyDown = true,\n      focusOnHover\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"hideOnClick\",\n      \"preventScrollOnKeyDown\",\n      \"focusOnHover\"\n    ]);\n    const menuContext = useContext(MenuContext);\n    const menuBarContext = useContext(MenuBarContext);\n    store = store || menuContext || menuBarContext;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"MenuItem must be wrapped in a MenuList, Menu or MenuBar component\"\n    );\n    const onClickProp = props.onClick;\n    const hideOnClickProp = useBooleanEvent(hideOnClick);\n    const hideMenu = \"hideAll\" in store ? store.hideAll : void 0;\n    const isWithinMenu = !!hideMenu;\n    const onClick = useEvent((event) => {\n      onClickProp == null ? void 0 : onClickProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (isDownloading(event))\n        return;\n      if (isOpeningInNewTab(event))\n        return;\n      if (!hideMenu)\n        return;\n      const popupType = event.currentTarget.getAttribute(\"aria-haspopup\");\n      if (popupType === \"menu\")\n        return;\n      if (!hideOnClickProp(event))\n        return;\n      hideMenu();\n    });\n    const contentElement = useStoreState(\n      store,\n      (state) => \"contentElement\" in state ? state.contentElement : null\n    );\n    const role = getPopupItemRole(contentElement, \"menuitem\");\n    props = __spreadProps(__spreadValues({\n      role\n    }, props), {\n      onClick\n    });\n    props = useCompositeItem(__spreadValues({ store, preventScrollOnKeyDown }, props));\n    props = useCompositeHover(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      focusOnHover: (event) => {\n        if (typeof focusOnHover === \"function\")\n          return focusOnHover(event);\n        if (focusOnHover != null)\n          return focusOnHover;\n        if (event.type === \"mouseleave\")\n          return isWithinMenu;\n        const state = store == null ? void 0 : store.getState();\n        if (isWithinMenu) {\n          if (event.currentTarget.hasAttribute(\"aria-expanded\")) {\n            event.currentTarget.focus();\n          }\n          return true;\n        } else if (hasExpandedMenuButton(state == null ? void 0 : state.items, event.currentTarget)) {\n          event.currentTarget.focus();\n          return true;\n        }\n        return false;\n      }\n    }));\n    return props;\n  }\n);\nvar MenuItem = createMemoComponent((props) => {\n  const htmlProps = useMenuItem(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  MenuItem.displayName = \"MenuItem\";\n}\n\nexport {\n  useMenuItem,\n  MenuItem\n};\n","// src/menu/utils.ts\nfunction hasExpandedMenuButton(items, currentElement) {\n  return !!(items == null ? void 0 : items.filter((item) => item.element !== currentElement).some((item) => {\n    var _a;\n    return ((_a = item.element) == null ? void 0 : _a.getAttribute(\"aria-expanded\")) === \"true\";\n  }));\n}\n\nexport {\n  hasExpandedMenuButton\n};\n","// src/composite/composite-context.ts\nimport { createContext } from \"react\";\nvar CompositeItemContext = createContext(\n  void 0\n);\nvar CompositeRowContext = createContext(\n  void 0\n);\nvar CompositeContext = createContext(\n  void 0\n);\n\nexport {\n  CompositeItemContext,\n  CompositeRowContext,\n  CompositeContext\n};\n","// src/popover/popover-arrow-path.ts\nvar POPOVER_ARROW_PATH = \"M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z\";\n\nexport {\n  POPOVER_ARROW_PATH\n};\n","import {\n  POPOVER_ARROW_PATH\n} from \"./GM7XQV7F.js\";\nimport {\n  PopoverContext\n} from \"./6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useMergeRefs,\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-arrow.tsx\nimport { useContext, useMemo, useState } from \"react\";\nimport { getWindow } from \"@ariakit/core/utils/dom\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar defaultSize = 30;\nvar halfDefaultSize = defaultSize / 2;\nvar rotateMap = {\n  top: `rotate(180 ${halfDefaultSize} ${halfDefaultSize})`,\n  right: `rotate(-90 ${halfDefaultSize} ${halfDefaultSize})`,\n  bottom: `rotate(0 ${halfDefaultSize} ${halfDefaultSize})`,\n  left: `rotate(90 ${halfDefaultSize} ${halfDefaultSize})`\n};\nfunction useComputedStyle(store) {\n  const [style, setStyle] = useState();\n  const contentElement = store.useState(\"contentElement\");\n  useSafeLayoutEffect(() => {\n    if (!contentElement)\n      return;\n    const win = getWindow(contentElement);\n    const computedStyle = win.getComputedStyle(contentElement);\n    setStyle(computedStyle);\n  }, [contentElement]);\n  return style;\n}\nvar usePopoverArrow = createHook(\n  (_a) => {\n    var _b = _a, { store, size = defaultSize } = _b, props = __objRest(_b, [\"store\", \"size\"]);\n    const context = useContext(PopoverContext);\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"PopoverArrow must be wrapped in a Popover component\"\n    );\n    const dir = store.useState(\n      (state) => state.currentPlacement.split(\"-\")[0]\n    );\n    const style = useComputedStyle(store);\n    const fill = (style == null ? void 0 : style.getPropertyValue(\"background-color\")) || \"none\";\n    const stroke = (style == null ? void 0 : style.getPropertyValue(`border-${dir}-color`)) || \"none\";\n    const borderWidth = (style == null ? void 0 : style.getPropertyValue(`border-${dir}-width`)) || \"0px\";\n    const strokeWidth = parseInt(borderWidth) * 2 * (defaultSize / size);\n    const transform = rotateMap[dir];\n    const children = useMemo(\n      () => /* @__PURE__ */ jsx(\"svg\", { display: \"block\", viewBox: \"0 0 30 30\", children: /* @__PURE__ */ jsxs(\"g\", { transform, children: [\n        /* @__PURE__ */ jsx(\"path\", { fill: \"none\", d: POPOVER_ARROW_PATH }),\n        /* @__PURE__ */ jsx(\"path\", { stroke: \"none\", d: POPOVER_ARROW_PATH })\n      ] }) }),\n      [transform]\n    );\n    props = __spreadProps(__spreadValues({\n      children,\n      \"aria-hidden\": true\n    }, props), {\n      ref: useMergeRefs(store.setArrowElement, props.ref),\n      style: __spreadValues({\n        // server side rendering\n        position: \"absolute\",\n        fontSize: size,\n        width: \"1em\",\n        height: \"1em\",\n        pointerEvents: \"none\",\n        fill,\n        stroke,\n        strokeWidth\n      }, props.style)\n    });\n    return props;\n  }\n);\nvar PopoverArrow = createComponent((props) => {\n  const htmlProps = usePopoverArrow(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverArrow.displayName = \"PopoverArrow\";\n}\n\nexport {\n  usePopoverArrow,\n  PopoverArrow\n};\n","import {\n  usePopoverArrow\n} from \"../__chunks/SWPAMWUW.js\";\nimport \"../__chunks/GM7XQV7F.js\";\nimport \"../__chunks/6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"../__chunks/NQJBHION.js\";\nimport \"../__chunks/J7Q2EO23.js\";\nimport \"../__chunks/CP3U4HPL.js\";\nimport \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu-arrow.ts\nvar useMenuArrow = createHook((props) => {\n  return usePopoverArrow(props);\n});\nvar MenuArrow = createComponent((props) => {\n  const htmlProps = useMenuArrow(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  MenuArrow.displayName = \"MenuArrow\";\n}\nexport {\n  MenuArrow,\n  useMenuArrow\n};\n","import {\n  PopoverContext\n} from \"./6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-disclosure-arrow.tsx\nimport { useContext, useMemo } from \"react\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { jsx } from \"react/jsx-runtime\";\nvar pointsMap = {\n  top: \"4,10 8,6 12,10\",\n  right: \"6,4 10,8 6,12\",\n  bottom: \"4,6 8,10 12,6\",\n  left: \"10,4 6,8 10,12\"\n};\nvar usePopoverDisclosureArrow = createHook(\n  (_a) => {\n    var _b = _a, { store, placement } = _b, props = __objRest(_b, [\"store\", \"placement\"]);\n    const context = useContext(PopoverContext);\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"PopoverDisclosureArrow must be wrapped in a PopoverDisclosure component\"\n    );\n    const position = store.useState((state) => placement || state.placement);\n    const dir = position.split(\"-\")[0];\n    const points = pointsMap[dir];\n    const children = useMemo(\n      () => /* @__PURE__ */ jsx(\n        \"svg\",\n        {\n          display: \"block\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: \"1.5pt\",\n          viewBox: \"0 0 16 16\",\n          height: \"1em\",\n          width: \"1em\",\n          children: /* @__PURE__ */ jsx(\"polyline\", { points })\n        }\n      ),\n      [points]\n    );\n    props = __spreadProps(__spreadValues({\n      children,\n      \"aria-hidden\": true\n    }, props), {\n      style: __spreadValues({\n        width: \"1em\",\n        height: \"1em\",\n        pointerEvents: \"none\"\n      }, props.style)\n    });\n    return props;\n  }\n);\nvar PopoverDisclosureArrow = createComponent((props) => {\n  const htmlProps = usePopoverDisclosureArrow(props);\n  return createElement(\"span\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverDisclosureArrow.displayName = \"PopoverDisclosureArrow\";\n}\n\nexport {\n  usePopoverDisclosureArrow,\n  PopoverDisclosureArrow\n};\n","import {\n  usePopoverDisclosureArrow\n} from \"../__chunks/LVMO37QD.js\";\nimport \"../__chunks/6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"../__chunks/NQJBHION.js\";\nimport \"../__chunks/J7Q2EO23.js\";\nimport \"../__chunks/CP3U4HPL.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu-button-arrow.ts\nvar useMenuButtonArrow = createHook(\n  (_a) => {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    props = usePopoverDisclosureArrow(__spreadValues({ store }, props));\n    return props;\n  }\n);\nvar MenuButtonArrow = createComponent(\n  (props) => {\n    const htmlProps = useMenuButtonArrow(props);\n    return createElement(\"span\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  MenuButtonArrow.displayName = \"MenuButtonArrow\";\n}\nexport {\n  MenuButtonArrow,\n  useMenuButtonArrow\n};\n","import {\n  useCommand\n} from \"./P4RGQGTG.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useMergeRefs,\n  useTagName\n} from \"./J7Q2EO23.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/button/button.ts\nimport { useEffect, useRef, useState } from \"react\";\nimport { isButton } from \"@ariakit/core/utils/dom\";\nvar useButton = createHook((props) => {\n  const ref = useRef(null);\n  const tagName = useTagName(ref, props.as || \"button\");\n  const [isNativeButton, setIsNativeButton] = useState(\n    () => !!tagName && isButton({ tagName, type: props.type })\n  );\n  useEffect(() => {\n    if (!ref.current)\n      return;\n    setIsNativeButton(isButton(ref.current));\n  }, []);\n  props = __spreadProps(__spreadValues({\n    role: !isNativeButton && tagName !== \"a\" ? \"button\" : void 0\n  }, props), {\n    ref: useMergeRefs(ref, props.ref)\n  });\n  props = useCommand(props);\n  return props;\n});\nvar Button = createComponent((props) => {\n  const htmlProps = useButton(props);\n  return createElement(\"button\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Button.displayName = \"Button\";\n}\n\nexport {\n  useButton,\n  Button\n};\n","import {\n  useButton\n} from \"./O6CV6VRM.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useMergeRefs\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/disclosure/disclosure.ts\nimport { useEffect, useRef, useState } from \"react\";\nvar useDisclosure = createHook(\n  (_a) => {\n    var _b = _a, { store, toggleOnClick = true } = _b, props = __objRest(_b, [\"store\", \"toggleOnClick\"]);\n    const ref = useRef(null);\n    const [expanded, setExpanded] = useState(false);\n    const disclosureElement = store.useState(\"disclosureElement\");\n    const open = store.useState(\"open\");\n    useEffect(() => {\n      let isCurrentDisclosure = disclosureElement === ref.current;\n      if (!disclosureElement || !disclosureElement.isConnected) {\n        store.setDisclosureElement(ref.current);\n        isCurrentDisclosure = true;\n      }\n      setExpanded(open && isCurrentDisclosure);\n    }, [disclosureElement, open]);\n    const onMouseDownProp = props.onMouseDown;\n    const onMouseDown = useEvent((event) => {\n      store.setDisclosureElement(event.currentTarget);\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n    });\n    const onClickProp = props.onClick;\n    const toggleOnClickProp = useBooleanEvent(toggleOnClick);\n    const isDuplicate = \"data-disclosure\" in props;\n    const onClick = useEvent((event) => {\n      store.setDisclosureElement(event.currentTarget);\n      onClickProp == null ? void 0 : onClickProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (isDuplicate)\n        return;\n      if (!toggleOnClickProp(event))\n        return;\n      store.toggle();\n    });\n    const contentElement = store.useState(\"contentElement\");\n    props = __spreadProps(__spreadValues({\n      \"data-disclosure\": \"\",\n      \"aria-expanded\": expanded,\n      \"aria-controls\": contentElement == null ? void 0 : contentElement.id\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onMouseDown,\n      onClick\n    });\n    props = useButton(props);\n    return props;\n  }\n);\nvar Disclosure = createComponent((props) => {\n  const htmlProps = useDisclosure(props);\n  return createElement(\"button\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Disclosure.displayName = \"Disclosure\";\n}\n\nexport {\n  useDisclosure,\n  Disclosure\n};\n","import {\n  useDisclosure\n} from \"./LDJKN2ZV.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/dialog/dialog-disclosure.ts\nvar useDialogDisclosure = createHook(\n  (_a) => {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    props = useDisclosure(__spreadValues({ store }, props));\n    return props;\n  }\n);\nvar DialogDisclosure = createComponent(\n  (props) => {\n    const htmlProps = useDialogDisclosure(props);\n    return createElement(\"button\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  DialogDisclosure.displayName = \"DialogDisclosure\";\n}\n\nexport {\n  useDialogDisclosure,\n  DialogDisclosure\n};\n","import {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useMergeRefs\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-anchor.ts\nvar usePopoverAnchor = createHook(\n  (_a) => {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(store.setAnchorElement, props.ref)\n    });\n    return props;\n  }\n);\nvar PopoverAnchor = createComponent((props) => {\n  const htmlProps = usePopoverAnchor(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverAnchor.displayName = \"PopoverAnchor\";\n}\n\nexport {\n  usePopoverAnchor,\n  PopoverAnchor\n};\n","import {\n  useDialogDisclosure\n} from \"./5I6BQS7D.js\";\nimport {\n  usePopoverAnchor\n} from \"./7PHM3O7I.js\";\nimport {\n  PopoverContext\n} from \"./6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useEvent,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-disclosure.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar usePopoverDisclosure = createHook(\n  (_a) => {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    const onClickProp = props.onClick;\n    const onClick = useEvent((event) => {\n      store.setAnchorElement(event.currentTarget);\n      onClickProp == null ? void 0 : onClickProp(event);\n    });\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(PopoverContext.Provider, { value: store, children: element }),\n      [store]\n    );\n    props = __spreadProps(__spreadValues({}, props), {\n      onClick\n    });\n    props = usePopoverAnchor(__spreadValues({ store }, props));\n    props = useDialogDisclosure(__spreadValues({ store }, props));\n    return props;\n  }\n);\nvar PopoverDisclosure = createComponent(\n  (props) => {\n    const htmlProps = usePopoverDisclosure(props);\n    return createElement(\"button\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverDisclosure.displayName = \"PopoverDisclosure\";\n}\n\nexport {\n  usePopoverDisclosure,\n  PopoverDisclosure\n};\n","import {\n  useFocusable\n} from \"./MYID4V27.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useIsMouseMoving,\n  useMergeRefs\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/hovercard/hovercard-anchor.ts\nimport { useEffect, useRef } from \"react\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nvar useHovercardAnchor = createHook(\n  (_a) => {\n    var _b = _a, { store, showOnHover = true } = _b, props = __objRest(_b, [\"store\", \"showOnHover\"]);\n    const mounted = store.useState(\"mounted\");\n    const disabled = props.disabled || props[\"aria-disabled\"] === true || props[\"aria-disabled\"] === \"true\";\n    const showTimeoutRef = useRef(0);\n    useEffect(() => () => window.clearTimeout(showTimeoutRef.current), []);\n    useEffect(() => {\n      const onMouseLeave = (event) => {\n        const { anchorElement } = store.getState();\n        if (!anchorElement)\n          return;\n        if (event.target !== anchorElement)\n          return;\n        window.clearTimeout(showTimeoutRef.current);\n        showTimeoutRef.current = 0;\n      };\n      return addGlobalEventListener(\"mouseleave\", onMouseLeave, true);\n    }, [store]);\n    const onMouseMoveProp = props.onMouseMove;\n    const showOnHoverProp = useBooleanEvent(showOnHover);\n    const isMouseMoving = useIsMouseMoving();\n    const onMouseMove = useEvent(\n      (event) => {\n        store.setAnchorElement(event.currentTarget);\n        onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);\n        if (disabled)\n          return;\n        if (event.defaultPrevented)\n          return;\n        if (showTimeoutRef.current)\n          return;\n        if (!isMouseMoving())\n          return;\n        if (!showOnHoverProp(event))\n          return;\n        const { showTimeout, timeout } = store.getState();\n        showTimeoutRef.current = window.setTimeout(() => {\n          showTimeoutRef.current = 0;\n          if (!isMouseMoving())\n            return;\n          store.show();\n        }, showTimeout != null ? showTimeout : timeout);\n      }\n    );\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(\n        store.setAnchorElement,\n        // We need to set the anchor element as the hovercard disclosure\n        // disclosure element only when the hovercard is shown so it doesn't get\n        // assigned an arbitrary element by the dialog component.\n        mounted ? store.setDisclosureElement : void 0,\n        props.ref\n      ),\n      onMouseMove\n    });\n    props = useFocusable(props);\n    return props;\n  }\n);\nvar HovercardAnchor = createComponent(\n  (props) => {\n    const htmlProps = useHovercardAnchor(props);\n    return createElement(\"a\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  HovercardAnchor.displayName = \"HovercardAnchor\";\n}\n\nexport {\n  useHovercardAnchor,\n  HovercardAnchor\n};\n","import {\n  hasExpandedMenuButton\n} from \"../__chunks/W7JXAQKF.js\";\nimport {\n  MenuBarContext,\n  MenuContext\n} from \"../__chunks/HVBRRKV4.js\";\nimport {\n  usePopoverDisclosure\n} from \"../__chunks/BO7WPTZZ.js\";\nimport \"../__chunks/5I6BQS7D.js\";\nimport \"../__chunks/LDJKN2ZV.js\";\nimport \"../__chunks/O6CV6VRM.js\";\nimport \"../__chunks/7PHM3O7I.js\";\nimport {\n  useCompositeTypeahead\n} from \"../__chunks/F4XABKPL.js\";\nimport {\n  useHovercardAnchor\n} from \"../__chunks/Y5XLHDDM.js\";\nimport \"../__chunks/P4RGQGTG.js\";\nimport \"../__chunks/OXPV2NBK.js\";\nimport \"../__chunks/WJ37OVG2.js\";\nimport \"../__chunks/6GS36SYX.js\";\nimport \"../__chunks/MYID4V27.js\";\nimport \"../__chunks/BMLNRUFQ.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"../__chunks/NQJBHION.js\";\nimport {\n  useStoreState\n} from \"../__chunks/QPTZ2G2N.js\";\nimport {\n  useEvent,\n  useId,\n  useMergeRefs\n} from \"../__chunks/J7Q2EO23.js\";\nimport \"../__chunks/CP3U4HPL.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu-button.tsx\nimport { useContext, useEffect, useRef } from \"react\";\nimport { getPopupItemRole, getPopupRole } from \"@ariakit/core/utils/dom\";\nimport { sync } from \"@ariakit/core/utils/store\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction getInitialFocus(event, dir) {\n  const keyMap = {\n    ArrowDown: dir === \"bottom\" || dir === \"top\" ? \"first\" : false,\n    ArrowUp: dir === \"bottom\" || dir === \"top\" ? \"last\" : false,\n    ArrowRight: dir === \"right\" ? \"first\" : false,\n    ArrowLeft: dir === \"left\" ? \"first\" : false\n  };\n  return keyMap[event.key];\n}\nvar useMenuButton = createHook(\n  (_a) => {\n    var _b = _a, { store, focusable, accessibleWhenDisabled, showOnHover } = _b, props = __objRest(_b, [\"store\", \"focusable\", \"accessibleWhenDisabled\", \"showOnHover\"]);\n    const ref = useRef(null);\n    const parentMenu = useContext(MenuContext);\n    const parentMenuBar = useContext(MenuBarContext);\n    const hasParentMenu = !!parentMenu;\n    const parentIsMenuBar = !!parentMenuBar && !hasParentMenu;\n    const disabled = props.disabled || props[\"aria-disabled\"] === true || props[\"aria-disabled\"] === \"true\";\n    useEffect(() => {\n      return sync(store, [\"disclosureElement\"], () => {\n        store.setState(\"disclosureElement\", ref.current);\n      });\n    }, [store]);\n    const onFocusProp = props.onFocus;\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (disabled)\n        return;\n      if (event.defaultPrevented)\n        return;\n      store.setAutoFocusOnShow(false);\n      store.setActiveId(null);\n      if (!parentMenuBar)\n        return;\n      if (!parentIsMenuBar)\n        return;\n      const { items } = parentMenuBar.getState();\n      if (hasExpandedMenuButton(items, event.currentTarget)) {\n        store.show();\n      }\n    });\n    const dir = store.useState(\n      (state) => state.placement.split(\"-\")[0]\n    );\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (disabled)\n        return;\n      if (event.defaultPrevented)\n        return;\n      const initialFocus = getInitialFocus(event, dir);\n      if (initialFocus) {\n        event.preventDefault();\n        store.show();\n        store.setAutoFocusOnShow(true);\n        store.setInitialFocus(initialFocus);\n      }\n    });\n    const onClickProp = props.onClick;\n    const onClick = useEvent((event) => {\n      onClickProp == null ? void 0 : onClickProp(event);\n      if (event.defaultPrevented)\n        return;\n      const isKeyboardClick = !event.detail;\n      const { open } = store.getState();\n      if (!open || isKeyboardClick) {\n        if (!hasParentMenu || isKeyboardClick) {\n          store.setAutoFocusOnShow(true);\n        }\n        store.setInitialFocus(isKeyboardClick ? \"first\" : \"container\");\n      }\n      if (hasParentMenu) {\n        store.show();\n      }\n    });\n    if (hasParentMenu) {\n      props = __spreadValues({ render: /* @__PURE__ */ jsx(\"div\", {}) }, props);\n    }\n    const id = useId(props.id);\n    const parentContentElement = useStoreState(parentMenu, \"contentElement\");\n    const role = hasParentMenu || parentIsMenuBar ? getPopupItemRole(parentContentElement, \"menuitem\") : void 0;\n    const contentElement = store.useState(\"contentElement\");\n    props = __spreadProps(__spreadValues({\n      id,\n      role,\n      \"aria-haspopup\": getPopupRole(contentElement, \"menu\")\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onFocus,\n      onKeyDown,\n      onClick\n    });\n    props = useHovercardAnchor(__spreadProps(__spreadValues({\n      store,\n      focusable,\n      accessibleWhenDisabled\n    }, props), {\n      showOnHover: (event) => {\n        if (typeof showOnHover === \"function\")\n          return showOnHover(event);\n        if (showOnHover != null)\n          return showOnHover;\n        if (hasParentMenu)\n          return true;\n        if (!parentMenuBar)\n          return false;\n        const { items } = parentMenuBar.getState();\n        return parentIsMenuBar && hasExpandedMenuButton(items);\n      }\n    }));\n    props = usePopoverDisclosure(__spreadValues({\n      store,\n      toggleOnClick: !hasParentMenu,\n      focusable,\n      accessibleWhenDisabled\n    }, props));\n    props = useCompositeTypeahead(__spreadValues({\n      store,\n      typeahead: parentIsMenuBar\n    }, props));\n    return props;\n  }\n);\nvar MenuButton = createComponent((props) => {\n  const htmlProps = useMenuButton(props);\n  return createElement(\"button\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  MenuButton.displayName = \"MenuButton\";\n}\nexport {\n  MenuButton,\n  useMenuButton\n};\n","import {\n  useStore,\n  useStoreProps\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/collection/collection-store.ts\nimport * as Core from \"@ariakit/core/collection/collection-store\";\nfunction useCollectionStoreOptions(_props) {\n  return {};\n}\nfunction useCollectionStoreProps(store, props) {\n  useStoreProps(store, props, \"items\", \"setItems\");\n  return store;\n}\nfunction useCollectionStore(props = {}) {\n  const options = useCollectionStoreOptions(props);\n  const store = useStore(\n    () => Core.createCollectionStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return useCollectionStoreProps(store, props);\n}\n\nexport {\n  useCollectionStoreOptions,\n  useCollectionStoreProps,\n  useCollectionStore\n};\n","import {\n  useCollectionStoreOptions,\n  useCollectionStoreProps\n} from \"./FSTINJD5.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite-store.ts\nimport * as Core from \"@ariakit/core/composite/composite-store\";\nfunction useCompositeStoreOptions(props) {\n  return useCollectionStoreOptions(props);\n}\nfunction useCompositeStoreProps(store, props) {\n  store = useCollectionStoreProps(store, props);\n  useStoreProps(store, props, \"activeId\", \"setActiveId\");\n  useStoreProps(store, props, \"includesBaseElement\");\n  useStoreProps(store, props, \"virtualFocus\");\n  useStoreProps(store, props, \"orientation\");\n  useStoreProps(store, props, \"rtl\");\n  useStoreProps(store, props, \"focusLoop\");\n  useStoreProps(store, props, \"focusWrap\");\n  useStoreProps(store, props, \"focusShift\");\n  return store;\n}\nfunction useCompositeStore(props = {}) {\n  const options = useCompositeStoreOptions(props);\n  const store = useStore(\n    () => Core.createCompositeStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return useCompositeStoreProps(store, props);\n}\n\nexport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps,\n  useCompositeStore\n};\n","import {\n  useDisclosureStoreOptions,\n  useDisclosureStoreProps\n} from \"./F6PEGR7W.js\";\nimport {\n  useStore\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/dialog/dialog-store.ts\nimport * as Core from \"@ariakit/core/dialog/dialog-store\";\nfunction useDialogStoreOptions(props) {\n  return useDisclosureStoreOptions(props);\n}\nfunction useDialogStoreProps(store, props) {\n  return useDisclosureStoreProps(store, props);\n}\nfunction useDialogStore(props = {}) {\n  const options = useDialogStoreOptions(props);\n  const store = useStore(\n    () => Core.createDialogStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return useDialogStoreProps(store, props);\n}\n\nexport {\n  useDialogStoreOptions,\n  useDialogStoreProps,\n  useDialogStore\n};\n","import {\n  useDialogStoreOptions,\n  useDialogStoreProps\n} from \"./FW5SU7FV.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-store.ts\nimport * as Core from \"@ariakit/core/popover/popover-store\";\nfunction usePopoverStoreOptions(props) {\n  return useDialogStoreOptions(props);\n}\nfunction usePopoverStoreProps(store, props) {\n  store = useDialogStoreProps(store, props);\n  useStoreProps(store, props, \"placement\");\n  return store;\n}\nfunction usePopoverStore(props = {}) {\n  const options = usePopoverStoreOptions(props);\n  const store = useStore(\n    () => Core.createPopoverStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return usePopoverStoreProps(store, props);\n}\n\nexport {\n  usePopoverStoreOptions,\n  usePopoverStoreProps,\n  usePopoverStore\n};\n","import {\n  usePopoverStoreOptions,\n  usePopoverStoreProps\n} from \"./EICJBDBV.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./QPTZ2G2N.js\";\nimport {\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/hovercard/hovercard-store.ts\nimport * as Core from \"@ariakit/core/hovercard/hovercard-store\";\nfunction useHovercardStoreOptions(props) {\n  return usePopoverStoreOptions(props);\n}\nfunction useHovercardStoreProps(store, props) {\n  store = usePopoverStoreProps(store, props);\n  useStoreProps(store, props, \"timeout\");\n  useStoreProps(store, props, \"showTimeout\");\n  useStoreProps(store, props, \"hideTimeout\");\n  return store;\n}\nfunction useHovercardStore(props = {}) {\n  const options = useHovercardStoreOptions(props);\n  const store = useStore(\n    () => Core.createHovercardStore(__spreadValues(__spreadValues({}, props), options))\n  );\n  return useHovercardStoreProps(store, props);\n}\n\nexport {\n  useHovercardStoreOptions,\n  useHovercardStoreProps,\n  useHovercardStore\n};\n","import {\n  createDialogStore\n} from \"./LNMWV6UV.js\";\nimport {\n  createStore,\n  mergeStore,\n  omit\n} from \"./OGOHEUXI.js\";\nimport {\n  defaultValue\n} from \"./WVTCK5PV.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover-store.ts\nfunction createPopoverStore(_a = {}) {\n  var _b = _a, {\n    popover: otherPopover\n  } = _b, props = __objRest(_b, [\n    \"popover\"\n  ]);\n  const store = mergeStore(\n    props.store,\n    omit(otherPopover, [\n      \"arrowElement\",\n      \"anchorElement\",\n      \"contentElement\",\n      \"popoverElement\",\n      \"disclosureElement\"\n    ])\n  );\n  const syncState = store == null ? void 0 : store.getState();\n  const dialog = createDialogStore(__spreadProps(__spreadValues({}, props), { store }));\n  const placement = defaultValue(\n    props.placement,\n    syncState == null ? void 0 : syncState.placement,\n    \"bottom\"\n  );\n  const initialState = __spreadProps(__spreadValues({}, dialog.getState()), {\n    placement,\n    currentPlacement: placement,\n    anchorElement: defaultValue(syncState == null ? void 0 : syncState.anchorElement, null),\n    popoverElement: defaultValue(syncState == null ? void 0 : syncState.popoverElement, null),\n    arrowElement: defaultValue(syncState == null ? void 0 : syncState.arrowElement, null),\n    rendered: Symbol(\"rendered\")\n  });\n  const popover = createStore(initialState, dialog, store);\n  return __spreadProps(__spreadValues(__spreadValues({}, dialog), popover), {\n    setAnchorElement: (element) => popover.setState(\"anchorElement\", element),\n    setPopoverElement: (element) => popover.setState(\"popoverElement\", element),\n    setArrowElement: (element) => popover.setState(\"arrowElement\", element),\n    render: () => popover.setState(\"rendered\", Symbol(\"rendered\"))\n  });\n}\n\nexport {\n  createPopoverStore\n};\n","import {\n  createDisclosureStore\n} from \"./WSKDP2MG.js\";\n\n// src/dialog/dialog-store.ts\nfunction createDialogStore(props = {}) {\n  return createDisclosureStore(props);\n}\n\nexport {\n  createDialogStore\n};\n","import {\n  batch,\n  createStore,\n  setup\n} from \"./OGOHEUXI.js\";\nimport {\n  chain,\n  defaultValue\n} from \"./WVTCK5PV.js\";\nimport {\n  getDocument\n} from \"./O35LWD4W.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/collection/collection-store.ts\nfunction isElementPreceding(a, b) {\n  return Boolean(\n    b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING\n  );\n}\nfunction sortBasedOnDOMPosition(items) {\n  const pairs = items.map((item, index) => [index, item]);\n  let isOrderDifferent = false;\n  pairs.sort(([indexA, a], [indexB, b]) => {\n    const elementA = a.element;\n    const elementB = b.element;\n    if (elementA === elementB)\n      return 0;\n    if (!elementA || !elementB)\n      return 0;\n    if (isElementPreceding(elementA, elementB)) {\n      if (indexA > indexB) {\n        isOrderDifferent = true;\n      }\n      return -1;\n    }\n    if (indexA < indexB) {\n      isOrderDifferent = true;\n    }\n    return 1;\n  });\n  if (isOrderDifferent) {\n    return pairs.map(([_, item]) => item);\n  }\n  return items;\n}\nfunction getCommonParent(items) {\n  var _a;\n  const firstItem = items.find((item) => !!item.element);\n  const lastItem = [...items].reverse().find((item) => !!item.element);\n  let parentElement = (_a = firstItem == null ? void 0 : firstItem.element) == null ? void 0 : _a.parentElement;\n  while (parentElement && (lastItem == null ? void 0 : lastItem.element)) {\n    const parent = parentElement;\n    if (lastItem && parent.contains(lastItem.element)) {\n      return parentElement;\n    }\n    parentElement = parentElement.parentElement;\n  }\n  return getDocument(parentElement).body;\n}\nfunction createCollectionStore(props = {}) {\n  var _a;\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const items = defaultValue(\n    props.items,\n    syncState == null ? void 0 : syncState.items,\n    props.defaultItems,\n    []\n  );\n  const itemsMap = new Map(items.map((item) => [item.id, item]));\n  const initialState = {\n    items,\n    renderedItems: defaultValue(syncState == null ? void 0 : syncState.renderedItems, [])\n  };\n  const privateStore = createStore({\n    renderedItems: initialState.renderedItems\n  });\n  const collection = createStore(initialState, props.store);\n  const sortItems = () => {\n    const state = privateStore.getState();\n    const renderedItems = sortBasedOnDOMPosition(state.renderedItems);\n    privateStore.setState(\"renderedItems\", renderedItems);\n    collection.setState(\"renderedItems\", renderedItems);\n  };\n  setup(collection, () => {\n    return batch(privateStore, [\"renderedItems\"], (state) => {\n      let firstRun = true;\n      let raf = requestAnimationFrame(sortItems);\n      if (typeof IntersectionObserver !== \"function\")\n        return;\n      const callback = () => {\n        if (firstRun) {\n          firstRun = false;\n          return;\n        }\n        cancelAnimationFrame(raf);\n        raf = requestAnimationFrame(sortItems);\n      };\n      const root = getCommonParent(state.renderedItems);\n      const observer = new IntersectionObserver(callback, { root });\n      state.renderedItems.forEach((item) => {\n        if (!item.element)\n          return;\n        observer.observe(item.element);\n      });\n      return () => {\n        cancelAnimationFrame(raf);\n        observer.disconnect();\n      };\n    });\n  });\n  const mergeItem = (item, setItems, canDeleteFromMap = false) => {\n    let prevItem;\n    setItems((items2) => {\n      const index = items2.findIndex(({ id }) => id === item.id);\n      const nextItems = items2.slice();\n      if (index !== -1) {\n        prevItem = items2[index];\n        const nextItem = __spreadValues(__spreadValues({}, prevItem), item);\n        nextItems[index] = nextItem;\n        itemsMap.set(item.id, nextItem);\n      } else {\n        nextItems.push(item);\n        itemsMap.set(item.id, item);\n      }\n      return nextItems;\n    });\n    const unmergeItem = () => {\n      setItems((items2) => {\n        if (!prevItem) {\n          if (canDeleteFromMap) {\n            itemsMap.delete(item.id);\n          }\n          return items2.filter(({ id }) => id !== item.id);\n        }\n        const index = items2.findIndex(({ id }) => id === item.id);\n        if (index === -1)\n          return items2;\n        const nextItems = items2.slice();\n        nextItems[index] = prevItem;\n        itemsMap.set(item.id, prevItem);\n        return nextItems;\n      });\n    };\n    return unmergeItem;\n  };\n  const registerItem = (item) => mergeItem(item, (getItems) => collection.setState(\"items\", getItems), true);\n  return __spreadProps(__spreadValues({}, collection), {\n    registerItem,\n    renderItem: (item) => chain(\n      registerItem(item),\n      mergeItem(\n        item,\n        (getItems) => privateStore.setState(\"renderedItems\", getItems)\n      )\n    ),\n    item: (id) => {\n      if (!id)\n        return null;\n      let item = itemsMap.get(id);\n      if (!item) {\n        const { items: items2 } = collection.getState();\n        item = items2.find((item2) => item2.id === id);\n        if (item) {\n          itemsMap.set(id, item);\n        }\n      }\n      return item || null;\n    }\n  });\n}\n\nexport {\n  createCollectionStore\n};\n","import {\n  createCollectionStore\n} from \"./A7IMXABC.js\";\nimport {\n  createStore,\n  setup,\n  sync\n} from \"./OGOHEUXI.js\";\nimport {\n  defaultValue\n} from \"./WVTCK5PV.js\";\nimport {\n  flatten2DArray,\n  reverseArray\n} from \"./5XEKIOCW.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite-store.ts\nvar NULL_ITEM = { id: null };\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItems(items, excludeId) {\n  return items.filter((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getOppositeOrientation(orientation) {\n  if (orientation === \"vertical\")\n    return \"horizontal\";\n  if (orientation === \"horizontal\")\n    return \"vertical\";\n  return;\n}\nfunction getItemsInRow(items, rowId) {\n  return items.filter((item) => item.rowId === rowId);\n}\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction getMaxRowLength(array) {\n  let maxLength = 0;\n  for (const { length } of array) {\n    if (length > maxLength) {\n      maxLength = length;\n    }\n  }\n  return maxLength;\n}\nfunction createEmptyItem(rowId) {\n  return {\n    id: \"__EMPTY_ITEM__\",\n    disabled: true,\n    rowId\n  };\n}\nfunction normalizeRows(rows, activeId, focusShift) {\n  const maxLength = getMaxRowLength(rows);\n  for (const row of rows) {\n    for (let i = 0; i < maxLength; i += 1) {\n      const item = row[i];\n      if (!item || focusShift && item.disabled) {\n        const isFirst = i === 0;\n        const previousItem = isFirst && focusShift ? findFirstEnabledItem(row) : row[i - 1];\n        row[i] = previousItem && activeId !== previousItem.id && focusShift ? previousItem : createEmptyItem(previousItem == null ? void 0 : previousItem.rowId);\n      }\n    }\n  }\n  return rows;\n}\nfunction verticalizeItems(items) {\n  const rows = groupItemsByRows(items);\n  const maxLength = getMaxRowLength(rows);\n  const verticalized = [];\n  for (let i = 0; i < maxLength; i += 1) {\n    for (const row of rows) {\n      const item = row[i];\n      if (item) {\n        verticalized.push(__spreadProps(__spreadValues({}, item), {\n          // If there's no rowId, it means that it's not a grid composite, but\n          // a single row instead. So, instead of verticalizing it, that is,\n          // assigning a different rowId based on the column index, we keep it\n          // undefined so they will be part of the same row. This is useful\n          // when using up/down on one-dimensional composites.\n          rowId: item.rowId ? `${i}` : void 0\n        }));\n      }\n    }\n  }\n  return verticalized;\n}\nfunction createCompositeStore(props = {}) {\n  var _a;\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const collection = createCollectionStore(props);\n  const activeId = defaultValue(\n    props.activeId,\n    syncState == null ? void 0 : syncState.activeId,\n    props.defaultActiveId\n  );\n  const initialState = __spreadProps(__spreadValues({}, collection.getState()), {\n    activeId,\n    baseElement: defaultValue(syncState == null ? void 0 : syncState.baseElement, null),\n    includesBaseElement: defaultValue(\n      props.includesBaseElement,\n      syncState == null ? void 0 : syncState.includesBaseElement,\n      activeId === null\n    ),\n    moves: defaultValue(syncState == null ? void 0 : syncState.moves, 0),\n    orientation: defaultValue(\n      props.orientation,\n      syncState == null ? void 0 : syncState.orientation,\n      \"both\"\n    ),\n    rtl: defaultValue(props.rtl, syncState == null ? void 0 : syncState.rtl, false),\n    virtualFocus: defaultValue(\n      props.virtualFocus,\n      syncState == null ? void 0 : syncState.virtualFocus,\n      false\n    ),\n    focusLoop: defaultValue(props.focusLoop, syncState == null ? void 0 : syncState.focusLoop, false),\n    focusWrap: defaultValue(props.focusWrap, syncState == null ? void 0 : syncState.focusWrap, false),\n    focusShift: defaultValue(props.focusShift, syncState == null ? void 0 : syncState.focusShift, false)\n  });\n  const composite = createStore(initialState, collection, props.store);\n  setup(\n    composite,\n    () => sync(composite, [\"renderedItems\", \"activeId\"], (state) => {\n      composite.setState(\"activeId\", (activeId2) => {\n        var _a2;\n        if (activeId2 !== void 0)\n          return activeId2;\n        return (_a2 = findFirstEnabledItem(state.renderedItems)) == null ? void 0 : _a2.id;\n      });\n    })\n  );\n  const getNextId = (items, orientation, hasNullItem, skip) => {\n    var _a2, _b;\n    const { activeId: activeId2, rtl, focusLoop, focusWrap, includesBaseElement } = composite.getState();\n    const isHorizontal = orientation !== \"vertical\";\n    const isRTL = rtl && isHorizontal;\n    const allItems = isRTL ? reverseArray(items) : items;\n    if (activeId2 == null) {\n      return (_a2 = findFirstEnabledItem(allItems)) == null ? void 0 : _a2.id;\n    }\n    const activeItem = allItems.find((item) => item.id === activeId2);\n    if (!activeItem) {\n      return (_b = findFirstEnabledItem(allItems)) == null ? void 0 : _b.id;\n    }\n    const isGrid = !!activeItem.rowId;\n    const activeIndex = allItems.indexOf(activeItem);\n    const nextItems = allItems.slice(activeIndex + 1);\n    const nextItemsInRow = getItemsInRow(nextItems, activeItem.rowId);\n    if (skip !== void 0) {\n      const nextEnabledItemsInRow = getEnabledItems(nextItemsInRow, activeId2);\n      const nextItem2 = nextEnabledItemsInRow.slice(skip)[0] || // If we can't find an item, just return the last one.\n      nextEnabledItemsInRow[nextEnabledItemsInRow.length - 1];\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    const oppositeOrientation = getOppositeOrientation(\n      // If it's a grid and orientation is not set, it's a next/previous call,\n      // which is inherently horizontal. up/down will call next with orientation\n      // set to vertical by default (see below on up/down methods).\n      isGrid ? orientation || \"horizontal\" : orientation\n    );\n    const canLoop = focusLoop && focusLoop !== oppositeOrientation;\n    const canWrap = isGrid && focusWrap && focusWrap !== oppositeOrientation;\n    hasNullItem = hasNullItem || !isGrid && canLoop && includesBaseElement;\n    if (canLoop) {\n      const loopItems = canWrap && !hasNullItem ? allItems : getItemsInRow(allItems, activeItem.rowId);\n      const sortedItems = flipItems(loopItems, activeId2, hasNullItem);\n      const nextItem2 = findFirstEnabledItem(sortedItems, activeId2);\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    if (canWrap) {\n      const nextItem2 = findFirstEnabledItem(\n        // We can use nextItems, which contains all the next items, including\n        // items from other rows, to wrap between rows. However, if there is a\n        // null item (the composite container), we'll only use the next items in\n        // the row. So moving next from the last item will focus on the\n        // composite container. On grid composites, horizontal navigation never\n        // focuses on the composite container, only vertical.\n        hasNullItem ? nextItemsInRow : nextItems,\n        activeId2\n      );\n      const nextId = hasNullItem ? (nextItem2 == null ? void 0 : nextItem2.id) || null : nextItem2 == null ? void 0 : nextItem2.id;\n      return nextId;\n    }\n    const nextItem = findFirstEnabledItem(nextItemsInRow, activeId2);\n    if (!nextItem && hasNullItem) {\n      return null;\n    }\n    return nextItem == null ? void 0 : nextItem.id;\n  };\n  return __spreadProps(__spreadValues(__spreadValues({}, collection), composite), {\n    setBaseElement: (element) => composite.setState(\"baseElement\", element),\n    setActiveId: (id) => composite.setState(\"activeId\", id),\n    move: (id) => {\n      if (id === void 0)\n        return;\n      composite.setState(\"activeId\", id);\n      composite.setState(\"moves\", (moves) => moves + 1);\n    },\n    first: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(composite.getState().renderedItems)) == null ? void 0 : _a2.id;\n    },\n    last: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(reverseArray(composite.getState().renderedItems))) == null ? void 0 : _a2.id;\n    },\n    next: (skip) => {\n      const { renderedItems, orientation } = composite.getState();\n      return getNextId(renderedItems, orientation, false, skip);\n    },\n    previous: (skip) => {\n      var _a2;\n      const { renderedItems, orientation, includesBaseElement } = composite.getState();\n      const isGrid = !!((_a2 = findFirstEnabledItem(renderedItems)) == null ? void 0 : _a2.rowId);\n      const hasNullItem = !isGrid && includesBaseElement;\n      return getNextId(\n        reverseArray(renderedItems),\n        orientation,\n        hasNullItem,\n        skip\n      );\n    },\n    down: (skip) => {\n      const {\n        activeId: activeId2,\n        renderedItems,\n        focusShift,\n        focusLoop,\n        includesBaseElement\n      } = composite.getState();\n      const shouldShift = focusShift && !skip;\n      const verticalItems = verticalizeItems(\n        flatten2DArray(\n          normalizeRows(groupItemsByRows(renderedItems), activeId2, shouldShift)\n        )\n      );\n      const canLoop = focusLoop && focusLoop !== \"horizontal\";\n      const hasNullItem = canLoop && includesBaseElement;\n      return getNextId(verticalItems, \"vertical\", hasNullItem, skip);\n    },\n    up: (skip) => {\n      const { activeId: activeId2, renderedItems, focusShift, includesBaseElement } = composite.getState();\n      const shouldShift = focusShift && !skip;\n      const verticalItems = verticalizeItems(\n        reverseArray(\n          flatten2DArray(\n            normalizeRows(\n              groupItemsByRows(renderedItems),\n              activeId2,\n              shouldShift\n            )\n          )\n        )\n      );\n      const hasNullItem = includesBaseElement;\n      return getNextId(verticalItems, \"vertical\", hasNullItem, skip);\n    }\n  });\n}\n\nexport {\n  createCompositeStore\n};\n","import {\n  createHovercardStore\n} from \"../__chunks/COUCUJML.js\";\nimport \"../__chunks/SOCHV2LZ.js\";\nimport \"../__chunks/LNMWV6UV.js\";\nimport \"../__chunks/WSKDP2MG.js\";\nimport {\n  createCompositeStore\n} from \"../__chunks/ROY5BBHL.js\";\nimport \"../__chunks/A7IMXABC.js\";\nimport {\n  createStore,\n  mergeStore,\n  omit,\n  setup,\n  sync\n} from \"../__chunks/OGOHEUXI.js\";\nimport {\n  applyState,\n  defaultValue\n} from \"../__chunks/WVTCK5PV.js\";\nimport \"../__chunks/O35LWD4W.js\";\nimport \"../__chunks/5XEKIOCW.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu-store.ts\nfunction createMenuStore(_a = {}) {\n  var _b = _a, {\n    combobox\n  } = _b, props = __objRest(_b, [\n    \"combobox\"\n  ]);\n  const store = mergeStore(\n    props.store,\n    omit(combobox, [\n      \"arrowElement\",\n      \"anchorElement\",\n      \"contentElement\",\n      \"popoverElement\",\n      \"disclosureElement\"\n    ])\n  );\n  const syncState = store.getState();\n  const composite = createCompositeStore(__spreadProps(__spreadValues({}, props), {\n    store,\n    orientation: defaultValue(\n      props.orientation,\n      syncState.orientation,\n      \"vertical\"\n    )\n  }));\n  const hovercard = createHovercardStore(__spreadProps(__spreadValues({}, props), {\n    store,\n    placement: defaultValue(\n      props.placement,\n      syncState.placement,\n      \"bottom-start\"\n    ),\n    hideTimeout: defaultValue(props.hideTimeout, syncState.hideTimeout, 0)\n  }));\n  const initialState = __spreadProps(__spreadValues(__spreadValues({}, composite.getState()), hovercard.getState()), {\n    initialFocus: defaultValue(syncState.initialFocus, \"container\"),\n    values: defaultValue(\n      props.values,\n      syncState.values,\n      props.defaultValues,\n      {}\n    )\n  });\n  const menu = createStore(initialState, composite, hovercard, store);\n  setup(\n    menu,\n    () => sync(menu, [\"mounted\"], (state) => {\n      if (state.mounted)\n        return;\n      menu.setState(\"activeId\", null);\n    })\n  );\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, composite), hovercard), menu), {\n    setInitialFocus: (value) => menu.setState(\"initialFocus\", value),\n    setValues: (values) => menu.setState(\"values\", values),\n    setValue: (name, value) => {\n      if (name === \"__proto__\")\n        return;\n      if (name === \"constructor\")\n        return;\n      if (Array.isArray(name))\n        return;\n      menu.setState(\"values\", (values) => {\n        const prevValue = values[name];\n        const nextValue = applyState(value, prevValue);\n        if (nextValue === prevValue)\n          return values;\n        return __spreadProps(__spreadValues({}, values), {\n          [name]: nextValue !== void 0 && nextValue\n        });\n      });\n    }\n  });\n}\nexport {\n  createMenuStore\n};\n","import {\n  createPopoverStore\n} from \"./SOCHV2LZ.js\";\nimport {\n  createStore\n} from \"./OGOHEUXI.js\";\nimport {\n  defaultValue\n} from \"./WVTCK5PV.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/hovercard/hovercard-store.ts\nfunction createHovercardStore(props = {}) {\n  var _a;\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const popover = createPopoverStore(__spreadProps(__spreadValues({}, props), {\n    placement: defaultValue(\n      props.placement,\n      syncState == null ? void 0 : syncState.placement,\n      \"bottom\"\n    )\n  }));\n  const timeout = defaultValue(props.timeout, syncState == null ? void 0 : syncState.timeout, 500);\n  const initialState = __spreadProps(__spreadValues({}, popover.getState()), {\n    timeout,\n    showTimeout: defaultValue(props.showTimeout, syncState == null ? void 0 : syncState.showTimeout),\n    hideTimeout: defaultValue(props.hideTimeout, syncState == null ? void 0 : syncState.hideTimeout),\n    autoFocusOnShow: defaultValue(syncState == null ? void 0 : syncState.autoFocusOnShow, false)\n  });\n  const hovercard = createStore(initialState, popover, props.store);\n  return __spreadProps(__spreadValues(__spreadValues({}, popover), hovercard), {\n    setAutoFocusOnShow: (value) => hovercard.setState(\"autoFocusOnShow\", value)\n  });\n}\n\nexport {\n  createHovercardStore\n};\n","import {\n  MenuBarContext,\n  MenuContext\n} from \"../__chunks/HVBRRKV4.js\";\nimport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps\n} from \"../__chunks/X5CHG5LF.js\";\nimport \"../__chunks/FSTINJD5.js\";\nimport {\n  useHovercardStoreOptions,\n  useHovercardStoreProps\n} from \"../__chunks/UKOZA6YP.js\";\nimport \"../__chunks/EICJBDBV.js\";\nimport \"../__chunks/FW5SU7FV.js\";\nimport \"../__chunks/F6PEGR7W.js\";\nimport {\n  useStore,\n  useStoreProps,\n  useStoreState\n} from \"../__chunks/QPTZ2G2N.js\";\nimport \"../__chunks/J7Q2EO23.js\";\nimport \"../__chunks/CP3U4HPL.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu-store.ts\nimport { useContext, useMemo } from \"react\";\nimport * as Core from \"@ariakit/core/menu/menu-store\";\nfunction useMenuStoreOptions(props) {\n  var _a, _b, _c, _d, _e, _f;\n  const state = (_b = (_a = props.store) == null ? void 0 : _a.getState) == null ? void 0 : _b.call(_a);\n  const parentMenu = useContext(MenuContext);\n  const parentMenuBar = useContext(MenuBarContext);\n  const placementProp = props.placement;\n  const placement = useStoreState(\n    parentMenu || parentMenuBar,\n    (state2) => placementProp || (state2.orientation === \"vertical\" ? \"right-start\" : \"bottom-start\")\n  );\n  const parentIsMenuBar = !!parentMenuBar && !parentMenu;\n  const timeout = parentIsMenuBar ? 0 : 150;\n  return __spreadProps(__spreadValues(__spreadValues({}, useCompositeStoreOptions(props)), useHovercardStoreOptions(props)), {\n    // TODO: Pass parent prop and remove these default values\n    values: (_d = (_c = props.values) != null ? _c : state == null ? void 0 : state.values) != null ? _d : props.defaultValues,\n    timeout: (_f = (_e = props.timeout) != null ? _e : state == null ? void 0 : state.timeout) != null ? _f : timeout,\n    placement\n  });\n}\nfunction useMenuStoreProps(store, props) {\n  const parentMenu = useContext(MenuContext);\n  store = useCompositeStoreProps(store, props);\n  store = useHovercardStoreProps(store, props);\n  useStoreProps(store, props, \"values\", \"setValues\");\n  return useMemo(\n    () => __spreadProps(__spreadValues({}, store), {\n      hideAll: () => {\n        store.hide();\n        parentMenu == null ? void 0 : parentMenu.hideAll();\n      }\n    }),\n    [store]\n  );\n}\nfunction useMenuStore(props = {}) {\n  const options = useMenuStoreOptions(props);\n  const store = useStore(() => Core.createMenuStore(__spreadValues(__spreadValues({}, props), options)));\n  return useMenuStoreProps(store, props);\n}\nexport {\n  useMenuStore,\n  useMenuStoreOptions,\n  useMenuStoreProps\n};\n","import {\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  isItem,\n  silentlyFocused\n} from \"./OXPV2NBK.js\";\nimport {\n  CompositeContext\n} from \"./WJ37OVG2.js\";\nimport {\n  useFocusable\n} from \"./MYID4V27.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/composite/composite.tsx\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { flatten2DArray, reverseArray } from \"@ariakit/core/utils/array\";\nimport { getActiveElement, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireBlurEvent,\n  fireFocusEvent,\n  fireKeyboardEvent,\n  isSelfTarget\n} from \"@ariakit/core/utils/events\";\nimport { focusIntoView, hasFocus } from \"@ariakit/core/utils/focus\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction isGrid(items) {\n  return items.some((item) => !!item.rowId);\n}\nfunction isPrintableKey(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\nfunction isModifierKey(event) {\n  return event.key === \"Shift\" || event.key === \"Control\" || event.key === \"Alt\" || event.key === \"Meta\";\n}\nfunction canProxyKeyboardEvent(event, state) {\n  if (!isSelfTarget(event))\n    return false;\n  if (isModifierKey(event))\n    return false;\n  const target = event.target;\n  if (!target)\n    return true;\n  if (isTextField(target)) {\n    if (isPrintableKey(event))\n      return false;\n    const grid = isGrid(state.renderedItems);\n    const focusingInputOnly = state.activeId === null;\n    const allowHorizontalNavigationOnItems = grid && !focusingInputOnly;\n    const isHomeOrEnd = event.key === \"Home\" || event.key === \"End\";\n    if (!allowHorizontalNavigationOnItems && isHomeOrEnd)\n      return false;\n  }\n  return !event.isPropagationStopped();\n}\nfunction useKeyboardEventProxy(store, onKeyboardEvent, previousElementRef) {\n  return useEvent((event) => {\n    var _a;\n    onKeyboardEvent == null ? void 0 : onKeyboardEvent(event);\n    if (event.defaultPrevented)\n      return;\n    const state = store.getState();\n    const activeElement = (_a = getEnabledItem(store, state.activeId)) == null ? void 0 : _a.element;\n    if (!activeElement)\n      return;\n    if (!canProxyKeyboardEvent(event, state))\n      return;\n    const _b = event, { view } = _b, eventInit = __objRest(_b, [\"view\"]);\n    const previousElement = previousElementRef == null ? void 0 : previousElementRef.current;\n    if (activeElement !== previousElement) {\n      activeElement.focus();\n    }\n    if (!fireKeyboardEvent(activeElement, event.type, eventInit)) {\n      event.preventDefault();\n    }\n    if (event.currentTarget.contains(activeElement)) {\n      event.stopPropagation();\n    }\n  });\n}\nfunction findFirstEnabledItemInTheLastRow(items) {\n  return findFirstEnabledItem(\n    flatten2DArray(reverseArray(groupItemsByRows(items)))\n  );\n}\nfunction useScheduleFocus(store) {\n  const [scheduled, setScheduled] = useState(false);\n  const schedule = useCallback(() => setScheduled(true), []);\n  const activeItem = store.useState(\n    (state) => getEnabledItem(store, state.activeId)\n  );\n  useEffect(() => {\n    const activeElement = activeItem == null ? void 0 : activeItem.element;\n    if (!scheduled)\n      return;\n    if (!activeElement)\n      return;\n    setScheduled(false);\n    activeElement.focus({ preventScroll: true });\n  }, [activeItem, scheduled]);\n  return schedule;\n}\nvar useComposite = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      composite = true,\n      focusOnMove = composite,\n      moveOnKeyPress = true\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"composite\",\n      \"focusOnMove\",\n      \"moveOnKeyPress\"\n    ]);\n    const previousElementRef = useRef(null);\n    const scheduleFocus = useScheduleFocus(store);\n    const moves = store.useState(\"moves\");\n    useEffect(() => {\n      var _a2;\n      if (!moves)\n        return;\n      if (!composite)\n        return;\n      if (!focusOnMove)\n        return;\n      const { activeId: activeId2 } = store.getState();\n      const itemElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      if (!itemElement)\n        return;\n      focusIntoView(itemElement);\n    }, [moves, composite, focusOnMove]);\n    useSafeLayoutEffect(() => {\n      if (!composite)\n        return;\n      if (!moves)\n        return;\n      const { baseElement, activeId: activeId2 } = store.getState();\n      const isSelfAcive = activeId2 === null;\n      if (!isSelfAcive)\n        return;\n      if (!baseElement)\n        return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (previousElement) {\n        fireBlurEvent(previousElement, { relatedTarget: baseElement });\n      }\n      if (hasFocus(baseElement)) {\n        fireFocusEvent(baseElement, { relatedTarget: previousElement });\n      } else {\n        baseElement.focus();\n      }\n    }, [moves, composite]);\n    const activeId = store.useState(\"activeId\");\n    const virtualFocus = store.useState(\"virtualFocus\");\n    useSafeLayoutEffect(() => {\n      var _a2;\n      if (!composite)\n        return;\n      if (!virtualFocus)\n        return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (!previousElement)\n        return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId)) == null ? void 0 : _a2.element;\n      const relatedTarget = activeElement || getActiveElement(previousElement);\n      fireBlurEvent(previousElement, { relatedTarget });\n    }, [activeId, virtualFocus, composite]);\n    const onKeyDownCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyDownCapture,\n      previousElementRef\n    );\n    const onKeyUpCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyUpCapture,\n      previousElementRef\n    );\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented)\n        return;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (!virtualFocus2)\n        return;\n      const previousActiveElement = event.relatedTarget;\n      const isSilentlyFocused = silentlyFocused(event.currentTarget);\n      if (isSelfTarget(event) && isSilentlyFocused) {\n        event.stopPropagation();\n        previousElementRef.current = previousActiveElement;\n      }\n    });\n    const onFocusProp = props.onFocus;\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!composite)\n        return;\n      const { relatedTarget } = event;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (virtualFocus2) {\n        if (isSelfTarget(event) && !isItem(store, relatedTarget)) {\n          queueMicrotask(scheduleFocus);\n        }\n      } else if (isSelfTarget(event)) {\n        store.setActiveId(null);\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      var _a2;\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented)\n        return;\n      const { virtualFocus: virtualFocus2, activeId: activeId2 } = store.getState();\n      if (!virtualFocus2)\n        return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      const nextActiveElement = event.relatedTarget;\n      const nextActiveElementIsItem = isItem(store, nextActiveElement);\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (isSelfTarget(event) && nextActiveElementIsItem) {\n        if (nextActiveElement === activeElement) {\n          if (previousElement && previousElement !== nextActiveElement) {\n            fireBlurEvent(previousElement, event);\n          }\n        } else if (activeElement) {\n          fireBlurEvent(activeElement, event);\n        }\n        event.stopPropagation();\n      } else {\n        const targetIsItem = isItem(store, event.target);\n        if (!targetIsItem && activeElement) {\n          fireBlurEvent(activeElement, event);\n        }\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      var _a2;\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (!isSelfTarget(event))\n        return;\n      const { orientation, items, renderedItems, activeId: activeId2 } = store.getState();\n      const activeItem = getEnabledItem(store, activeId2);\n      if ((_a2 = activeItem == null ? void 0 : activeItem.element) == null ? void 0 : _a2.isConnected)\n        return;\n      const isVertical = orientation !== \"horizontal\";\n      const isHorizontal = orientation !== \"vertical\";\n      const grid = isGrid(renderedItems);\n      const up = () => {\n        if (grid) {\n          const item = items && findFirstEnabledItemInTheLastRow(items);\n          return item == null ? void 0 : item.id;\n        }\n        return store.last();\n      };\n      const keyMap = {\n        ArrowUp: (grid || isVertical) && up,\n        ArrowRight: (grid || isHorizontal) && store.first,\n        ArrowDown: (grid || isVertical) && store.first,\n        ArrowLeft: (grid || isHorizontal) && store.last,\n        Home: store.first,\n        End: store.last,\n        PageUp: store.first,\n        PageDown: store.last\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        const id = action();\n        if (id !== void 0) {\n          if (!moveOnKeyPressProp(event))\n            return;\n          event.preventDefault();\n          store.move(id);\n        }\n      }\n    });\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeContext.Provider, { value: store, children: element }),\n      [store]\n    );\n    const activeDescendant = store.useState(\n      (state) => {\n        var _a2;\n        return composite && state.virtualFocus ? (_a2 = getEnabledItem(store, state.activeId)) == null ? void 0 : _a2.id : void 0;\n      }\n    );\n    props = __spreadProps(__spreadValues({\n      \"aria-activedescendant\": activeDescendant\n    }, props), {\n      ref: useMergeRefs(composite ? store.setBaseElement : null, props.ref),\n      onKeyDownCapture,\n      onKeyUpCapture,\n      onFocusCapture,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    const focusable = store.useState(\n      (state) => composite && (state.virtualFocus || state.activeId === null)\n    );\n    props = useFocusable(__spreadValues({ focusable }, props));\n    return props;\n  }\n);\nvar Composite = createComponent((props) => {\n  const htmlProps = useComposite(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Composite.displayName = \"Composite\";\n}\n\nexport {\n  useComposite,\n  Composite\n};\n","import {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/disclosure/disclosure-content.ts\nimport { useState } from \"react\";\nfunction afterTimeout(timeoutMs, cb) {\n  const timeoutId = setTimeout(cb, timeoutMs);\n  return () => clearTimeout(timeoutId);\n}\nfunction afterPaint(cb) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction parseCSSTime(...times) {\n  return times.join(\", \").split(\", \").reduce((longestTime, currentTimeString) => {\n    const currentTime = parseFloat(currentTimeString || \"0s\") * 1e3;\n    if (currentTime > longestTime)\n      return currentTime;\n    return longestTime;\n  }, 0);\n}\nfunction isHidden(mounted, hidden, alwaysVisible) {\n  return !alwaysVisible && hidden !== false && (!mounted || !!hidden);\n}\nvar useDisclosureContent = createHook(\n  (_a) => {\n    var _b = _a, { store, alwaysVisible } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\"]);\n    const id = useId(props.id);\n    const [transition, setTransition] = useState(null);\n    const open = store.useState(\"open\");\n    const mounted = store.useState(\"mounted\");\n    const animated = store.useState(\"animated\");\n    const contentElement = store.useState(\"contentElement\");\n    useSafeLayoutEffect(() => {\n      if (!animated)\n        return;\n      if (!(contentElement == null ? void 0 : contentElement.isConnected)) {\n        setTransition(null);\n        return;\n      }\n      return afterPaint(() => {\n        setTransition(open ? \"enter\" : \"leave\");\n      });\n    }, [animated, contentElement, open]);\n    useSafeLayoutEffect(() => {\n      if (!animated)\n        return;\n      if (!contentElement)\n        return;\n      if (!transition)\n        return;\n      if (transition === \"enter\" && !open)\n        return;\n      if (transition === \"leave\" && open)\n        return;\n      if (typeof animated === \"number\") {\n        const timeoutMs2 = animated;\n        return afterTimeout(timeoutMs2, store.stopAnimation);\n      }\n      const {\n        transitionDuration,\n        animationDuration,\n        transitionDelay,\n        animationDelay\n      } = getComputedStyle(contentElement);\n      const delay = parseCSSTime(transitionDelay, animationDelay);\n      const duration = parseCSSTime(transitionDuration, animationDuration);\n      const timeoutMs = delay + duration;\n      if (!timeoutMs)\n        return;\n      return afterTimeout(timeoutMs, store.stopAnimation);\n    }, [animated, contentElement, open, transition]);\n    const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n    const style = hidden ? __spreadProps(__spreadValues({}, props.style), { display: \"none\" }) : props.style;\n    props = __spreadProps(__spreadValues({\n      id,\n      \"data-enter\": transition === \"enter\" ? \"\" : void 0,\n      \"data-leave\": transition === \"leave\" ? \"\" : void 0,\n      hidden\n    }, props), {\n      ref: useMergeRefs(id ? store.setContentElement : null, props.ref),\n      style\n    });\n    return props;\n  }\n);\nvar DisclosureContent = createComponent(\n  (props) => {\n    const htmlProps = useDisclosureContent(props);\n    return createElement(\"div\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  DisclosureContent.displayName = \"DisclosureContent\";\n}\n\nexport {\n  isHidden,\n  useDisclosureContent,\n  DisclosureContent\n};\n","import {\n  MenuBarContext,\n  MenuContext\n} from \"./HVBRRKV4.js\";\nimport {\n  useCompositeTypeahead\n} from \"./F4XABKPL.js\";\nimport {\n  useComposite\n} from \"./AAVDGJD5.js\";\nimport {\n  isHidden\n} from \"./WHEEIXMF.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useStoreState\n} from \"./QPTZ2G2N.js\";\nimport {\n  useEvent,\n  useId,\n  useMergeRefs,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/menu/menu-list.tsx\nimport { useContext, useEffect, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction useAriaLabelledBy(_a) {\n  var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n  const [id, setId] = useState(void 0);\n  const label = props[\"aria-label\"];\n  const disclosureElement = store.useState(\"disclosureElement\");\n  const contentElement = store.useState(\"contentElement\");\n  useEffect(() => {\n    const disclosure = disclosureElement;\n    if (!disclosure)\n      return;\n    const menu = contentElement;\n    if (!menu)\n      return;\n    const menuLabel = label || menu.hasAttribute(\"aria-label\");\n    if (menuLabel) {\n      setId(void 0);\n    } else if (disclosure.id) {\n      setId(disclosure.id);\n    }\n  }, [label, disclosureElement, contentElement]);\n  return id;\n}\nvar useMenuList = createHook(\n  (_a) => {\n    var _b = _a, { store, alwaysVisible, composite = true } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\", \"composite\"]);\n    const parentMenu = useContext(MenuContext);\n    const parentMenuBar = useContext(MenuBarContext);\n    const hasParentMenu = !!parentMenu;\n    const id = useId(props.id);\n    const onKeyDownProp = props.onKeyDown;\n    const dir = store.useState(\n      (state) => state.placement.split(\"-\")[0]\n    );\n    const orientation = store.useState(\n      (state) => state.orientation === \"both\" ? void 0 : state.orientation\n    );\n    const isHorizontal = orientation !== \"vertical\";\n    const isMenuBarHorizontal = !!useStoreState(\n      parentMenuBar,\n      (state) => state.orientation !== \"vertical\"\n    );\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (hasParentMenu || parentMenuBar && !isHorizontal) {\n        const hideMap = {\n          ArrowRight: () => dir === \"left\" && !isHorizontal,\n          ArrowLeft: () => dir === \"right\" && !isHorizontal,\n          ArrowUp: () => dir === \"bottom\" && isHorizontal,\n          ArrowDown: () => dir === \"top\" && isHorizontal\n        };\n        const action = hideMap[event.key];\n        if (action == null ? void 0 : action()) {\n          event.stopPropagation();\n          event.preventDefault();\n          return store.hide();\n        }\n      }\n      if (parentMenuBar) {\n        const keyMap = {\n          ArrowRight: () => {\n            if (!isMenuBarHorizontal)\n              return;\n            return parentMenuBar.next();\n          },\n          ArrowLeft: () => {\n            if (!isMenuBarHorizontal)\n              return;\n            return parentMenuBar.previous();\n          },\n          ArrowDown: () => {\n            if (isMenuBarHorizontal)\n              return;\n            return parentMenuBar.next();\n          },\n          ArrowUp: () => {\n            if (isMenuBarHorizontal)\n              return;\n            return parentMenuBar.previous();\n          }\n        };\n        const action = keyMap[event.key];\n        const id2 = action == null ? void 0 : action();\n        if (id2 !== void 0) {\n          event.stopPropagation();\n          event.preventDefault();\n          parentMenuBar.move(id2);\n        }\n      }\n    });\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(MenuContext.Provider, { value: store, children: element }),\n      [store]\n    );\n    const ariaLabelledBy = useAriaLabelledBy(__spreadValues({ store }, props));\n    const mounted = store.useState(\"mounted\");\n    const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n    const style = hidden ? __spreadProps(__spreadValues({}, props.style), { display: \"none\" }) : props.style;\n    props = __spreadProps(__spreadValues({\n      id,\n      \"aria-labelledby\": ariaLabelledBy,\n      hidden\n    }, props), {\n      ref: useMergeRefs(id ? store.setContentElement : null, props.ref),\n      style,\n      onKeyDown\n    });\n    if (composite) {\n      props = __spreadValues({\n        role: \"menu\",\n        \"aria-orientation\": orientation\n      }, props);\n    }\n    props = useComposite(__spreadValues({ store, composite }, props));\n    props = useCompositeTypeahead(__spreadValues({ store }, props));\n    return props;\n  }\n);\nvar MenuList = createComponent((props) => {\n  const htmlProps = useMenuList(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  MenuList.displayName = \"MenuList\";\n}\n\nexport {\n  useMenuList,\n  MenuList\n};\n","// src/hovercard/utils/polygon.ts\nfunction getEventPoint(event) {\n  return [event.clientX, event.clientY];\n}\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let inside = false;\n  const length = polygon.length;\n  for (let l = length, i = 0, j = l - 1; i < l; j = i++) {\n    const [xi, yi] = polygon[i];\n    const [xj, yj] = polygon[j];\n    const [, vy] = polygon[j === 0 ? l - 1 : j - 1] || [0, 0];\n    const where = (yi - yj) * (x - xi) - (xi - xj) * (y - yi);\n    if (yj < yi) {\n      if (y >= yj && y < yi) {\n        if (where === 0)\n          return true;\n        if (where > 0) {\n          if (y === yj) {\n            if (y > vy) {\n              inside = !inside;\n            }\n          } else {\n            inside = !inside;\n          }\n        }\n      }\n    } else if (yi < yj) {\n      if (y > yi && y <= yj) {\n        if (where === 0)\n          return true;\n        if (where < 0) {\n          if (y === yj) {\n            if (y < vy) {\n              inside = !inside;\n            }\n          } else {\n            inside = !inside;\n          }\n        }\n      }\n    } else if (y == yi && (x >= xj && x <= xi || x >= xi && x <= xj)) {\n      return true;\n    }\n  }\n  return inside;\n}\nfunction getEnterPointPlacement(enterPoint, rect) {\n  const { top, right, bottom, left } = rect;\n  const [x, y] = enterPoint;\n  const placementX = x < left ? \"left\" : x > right ? \"right\" : null;\n  const placementY = y < top ? \"top\" : y > bottom ? \"bottom\" : null;\n  return [placementX, placementY];\n}\nfunction getElementPolygon(element, enterPoint) {\n  const rect = element.getBoundingClientRect();\n  const { top, right, bottom, left } = rect;\n  const [x, y] = getEnterPointPlacement(enterPoint, rect);\n  const polygon = [enterPoint];\n  if (x) {\n    if (y !== \"top\") {\n      polygon.push([x === \"left\" ? left : right, top]);\n    }\n    polygon.push([x === \"left\" ? right : left, top]);\n    polygon.push([x === \"left\" ? right : left, bottom]);\n    if (y !== \"bottom\") {\n      polygon.push([x === \"left\" ? left : right, bottom]);\n    }\n  } else if (y === \"top\") {\n    polygon.push([left, top]);\n    polygon.push([left, bottom]);\n    polygon.push([right, bottom]);\n    polygon.push([right, top]);\n  } else {\n    polygon.push([left, bottom]);\n    polygon.push([left, top]);\n    polygon.push([right, top]);\n    polygon.push([right, bottom]);\n  }\n  return polygon;\n}\n\nexport {\n  getEventPoint,\n  isPointInPolygon,\n  getElementPolygon\n};\n","// src/dialog/utils/is-backdrop.ts\nfunction isBackdrop(element, ...ids) {\n  if (!element)\n    return false;\n  const backdrop = element.getAttribute(\"data-backdrop\");\n  if (backdrop == null)\n    return false;\n  if (backdrop === \"\")\n    return true;\n  if (backdrop === \"true\")\n    return true;\n  if (!ids.length)\n    return true;\n  return ids.some((id) => backdrop === id);\n}\n\nexport {\n  isBackdrop\n};\n","// src/dialog/utils/orchestrate.ts\nvar cleanups = /* @__PURE__ */ new WeakMap();\nfunction orchestrate(element, key, setup) {\n  if (!cleanups.has(element)) {\n    cleanups.set(element, /* @__PURE__ */ new Map());\n  }\n  const elementCleanups = cleanups.get(element);\n  const prevCleanup = elementCleanups.get(key);\n  if (!prevCleanup) {\n    elementCleanups.set(key, setup());\n    return () => {\n      var _a;\n      (_a = elementCleanups.get(key)) == null ? void 0 : _a();\n      elementCleanups.delete(key);\n    };\n  }\n  const cleanup = setup();\n  const nextCleanup = () => {\n    cleanup();\n    prevCleanup();\n    elementCleanups.delete(key);\n  };\n  elementCleanups.set(key, nextCleanup);\n  return () => {\n    const isCurrent = elementCleanups.get(key) === nextCleanup;\n    if (!isCurrent)\n      return;\n    cleanup();\n    elementCleanups.set(key, prevCleanup);\n  };\n}\nfunction setAttribute(element, attr, value) {\n  const setup = () => {\n    const previousValue = element.getAttribute(attr);\n    element.setAttribute(attr, value);\n    return () => {\n      if (previousValue == null) {\n        element.removeAttribute(attr);\n      } else {\n        element.setAttribute(attr, previousValue);\n      }\n    };\n  };\n  return orchestrate(element, attr, setup);\n}\nfunction setProperty(element, property, value) {\n  const setup = () => {\n    const exists = property in element;\n    const previousValue = element[property];\n    element[property] = value;\n    return () => {\n      if (!exists) {\n        delete element[property];\n      } else {\n        element[property] = previousValue;\n      }\n    };\n  };\n  return orchestrate(element, property, setup);\n}\nfunction assignStyle(element, style) {\n  if (!element)\n    return () => {\n    };\n  const setup = () => {\n    const prevStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return () => {\n      element.style.cssText = prevStyle;\n    };\n  };\n  return orchestrate(element, \"style\", setup);\n}\nfunction setCSSProperty(element, property, value) {\n  if (!element)\n    return () => {\n    };\n  const setup = () => {\n    const previousValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, value);\n    return () => {\n      if (previousValue) {\n        element.style.setProperty(property, previousValue);\n      } else {\n        element.style.removeProperty(property);\n      }\n    };\n  };\n  return orchestrate(element, property, setup);\n}\n\nexport {\n  setAttribute,\n  setProperty,\n  assignStyle,\n  setCSSProperty\n};\n","// src/dialog/utils/walk-tree-outside.ts\nimport { contains, getDocument } from \"@ariakit/core/utils/dom\";\nvar ignoreTags = [\"SCRIPT\", \"STYLE\"];\nfunction isValidElement(element, ignoredElements) {\n  if (ignoreTags.includes(element.tagName))\n    return false;\n  return !ignoredElements.some(\n    (enabledElement) => enabledElement && contains(element, enabledElement)\n  );\n}\nfunction walkTreeOutside(elements, callback, ancestorCallback) {\n  for (let element of elements) {\n    if (!(element == null ? void 0 : element.isConnected))\n      continue;\n    const hasAncestorAlready = elements.some((maybeAncestor) => {\n      if (!maybeAncestor)\n        return false;\n      if (maybeAncestor === element)\n        return false;\n      return maybeAncestor.contains(element);\n    });\n    const doc = getDocument(element);\n    const originalElement = element;\n    while (element.parentElement && element !== doc.body) {\n      ancestorCallback == null ? void 0 : ancestorCallback(element.parentElement, originalElement);\n      if (!hasAncestorAlready) {\n        for (const child of element.parentElement.children) {\n          if (isValidElement(child, elements)) {\n            callback(child, originalElement);\n          }\n        }\n      }\n      element = element.parentElement;\n    }\n  }\n}\n\nexport {\n  isValidElement,\n  walkTreeOutside\n};\n","import {\n  isBackdrop\n} from \"./IXXFVVA2.js\";\nimport {\n  setProperty\n} from \"./FW6QFGFT.js\";\nimport {\n  walkTreeOutside\n} from \"./5M4ITSXL.js\";\n\n// src/dialog/utils/mark-tree-outside.ts\nimport { chain } from \"@ariakit/core/utils/misc\";\nfunction getPropertyName(id = \"\", ancestor = false) {\n  return `__ariakit-dialog-${ancestor ? \"ancestor\" : \"outside\"}${id ? `-${id}` : \"\"}`;\n}\nfunction markElement(element, id = \"\") {\n  return chain(\n    // Debug\n    // setAttribute(element, getPropertyName(), \"true\"),\n    // setAttribute(element, getPropertyName(id), \"true\"),\n    setProperty(element, getPropertyName(), true),\n    setProperty(element, getPropertyName(id), true)\n  );\n}\nfunction markAncestor(element, id = \"\") {\n  return chain(\n    // Debug\n    // setAttribute(element, getPropertyName(\"\", true), \"true\"),\n    // setAttribute(element, getPropertyName(id, true), \"true\"),\n    setProperty(element, getPropertyName(\"\", true), true),\n    setProperty(element, getPropertyName(id, true), true)\n  );\n}\nfunction isElementMarked(element, id) {\n  const ancestorProperty = getPropertyName(id, true);\n  if (element[ancestorProperty])\n    return true;\n  const elementProperty = getPropertyName(id);\n  do {\n    if (element[elementProperty])\n      return true;\n    if (!element.parentElement)\n      return false;\n    element = element.parentElement;\n  } while (true);\n}\nfunction markTreeOutside(dialogId, ...elements) {\n  const cleanups = [];\n  const ids = elements.map((el) => el == null ? void 0 : el.id);\n  walkTreeOutside(\n    elements,\n    (element) => {\n      if (isBackdrop(element, ...ids))\n        return;\n      cleanups.unshift(markElement(element, dialogId));\n    },\n    (ancestor, element) => {\n      const isAnotherDialogAncestor = element.hasAttribute(\"data-dialog\") && element.id !== dialogId;\n      if (isAnotherDialogAncestor)\n        return;\n      cleanups.unshift(markAncestor(ancestor, dialogId));\n    }\n  );\n  const restoreAccessibilityTree = () => {\n    cleanups.forEach((fn) => fn());\n  };\n  return restoreAccessibilityTree;\n}\n\nexport {\n  markElement,\n  markAncestor,\n  isElementMarked,\n  markTreeOutside\n};\n","import {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\n\n// src/role/role.ts\nvar elements = [\n  \"a\",\n  \"button\",\n  \"details\",\n  \"dialog\",\n  \"div\",\n  \"form\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"header\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"section\",\n  \"select\",\n  \"span\",\n  \"textarea\",\n  \"ul\",\n  \"svg\"\n];\nvar useRole = createHook((props) => {\n  return props;\n});\nvar Role = createComponent((props) => {\n  return createElement(\"div\", props);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Role.displayName = \"Role\";\n}\nObject.assign(\n  Role,\n  elements.reduce((acc, element) => {\n    acc[element] = createComponent((props) => {\n      return createElement(element, props);\n    });\n    return acc;\n  }, {})\n);\n\nexport {\n  useRole,\n  Role\n};\n","import {\n  markAncestor\n} from \"./LEBYH5FW.js\";\nimport {\n  Role\n} from \"./M5I7AM4N.js\";\nimport {\n  useDisclosureContent\n} from \"./WHEEIXMF.js\";\nimport {\n  useDisclosureStore\n} from \"./F6PEGR7W.js\";\nimport {\n  useMergeRefs,\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/dialog/dialog-backdrop.tsx\nimport { isValidElement, useRef } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction DialogBackdrop({\n  store,\n  backdrop,\n  backdropProps,\n  alwaysVisible,\n  hidden\n}) {\n  const ref = useRef(null);\n  const disclosure = useDisclosureStore({ disclosure: store });\n  const contentElement = store.useState(\"contentElement\");\n  useSafeLayoutEffect(() => {\n    const backdrop2 = ref.current;\n    const dialog = contentElement;\n    if (!backdrop2)\n      return;\n    if (!dialog)\n      return;\n    backdrop2.style.zIndex = getComputedStyle(dialog).zIndex;\n  }, [contentElement]);\n  useSafeLayoutEffect(() => {\n    const id = contentElement == null ? void 0 : contentElement.id;\n    if (!id)\n      return;\n    const backdrop2 = ref.current;\n    if (!backdrop2)\n      return;\n    return markAncestor(backdrop2, id);\n  }, [contentElement]);\n  if (hidden != null) {\n    backdropProps = __spreadProps(__spreadValues({}, backdropProps), { hidden });\n  }\n  const props = useDisclosureContent(__spreadProps(__spreadValues({\n    store: disclosure,\n    role: \"presentation\",\n    \"data-backdrop\": (contentElement == null ? void 0 : contentElement.id) || \"\",\n    alwaysVisible\n  }, backdropProps), {\n    ref: useMergeRefs(backdropProps == null ? void 0 : backdropProps.ref, ref),\n    style: __spreadValues({\n      position: \"fixed\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }, backdropProps == null ? void 0 : backdropProps.style)\n  }));\n  if (!backdrop)\n    return null;\n  if (isValidElement(backdrop)) {\n    return /* @__PURE__ */ jsx(Role, __spreadProps(__spreadValues({}, props), { render: backdrop }));\n  }\n  const Component = typeof backdrop !== \"boolean\" ? backdrop : \"div\";\n  return /* @__PURE__ */ jsx(Role, __spreadProps(__spreadValues({}, props), { render: /* @__PURE__ */ jsx(Component, {}) }));\n}\n\nexport {\n  DialogBackdrop\n};\n","import {\n  isBackdrop\n} from \"./IXXFVVA2.js\";\nimport {\n  setAttribute\n} from \"./FW6QFGFT.js\";\nimport {\n  walkTreeOutside\n} from \"./5M4ITSXL.js\";\n\n// src/dialog/utils/disable-accessibility-tree-outside.ts\nfunction hideElementFromAccessibilityTree(element) {\n  return setAttribute(element, \"aria-hidden\", \"true\");\n}\nfunction disableAccessibilityTreeOutside(...elements) {\n  const cleanups = [];\n  const ids = elements.map((el) => el == null ? void 0 : el.id);\n  walkTreeOutside(elements, (element) => {\n    if (isBackdrop(element, ...ids))\n      return;\n    cleanups.unshift(hideElementFromAccessibilityTree(element));\n  });\n  const restoreAccessibilityTree = () => {\n    cleanups.forEach((fn) => fn());\n  };\n  return restoreAccessibilityTree;\n}\n\nexport {\n  hideElementFromAccessibilityTree,\n  disableAccessibilityTreeOutside\n};\n","// src/dialog/utils/supports-inert.ts\nfunction supportsInert() {\n  return \"inert\" in HTMLElement.prototype;\n}\n\nexport {\n  supportsInert\n};\n","import {\n  hideElementFromAccessibilityTree\n} from \"./GDORSOK6.js\";\nimport {\n  isBackdrop\n} from \"./IXXFVVA2.js\";\nimport {\n  supportsInert\n} from \"./KOVUJERF.js\";\nimport {\n  assignStyle,\n  setAttribute,\n  setProperty\n} from \"./FW6QFGFT.js\";\nimport {\n  walkTreeOutside\n} from \"./5M4ITSXL.js\";\n\n// src/dialog/utils/disable-tree-outside.ts\nimport { contains } from \"@ariakit/core/utils/dom\";\nimport { getAllTabbable } from \"@ariakit/core/utils/focus\";\nimport { chain, noop } from \"@ariakit/core/utils/misc\";\nfunction disableElement(element) {\n  if (!(\"style\" in element))\n    return noop;\n  if (supportsInert()) {\n    return setProperty(element, \"inert\", true);\n  }\n  return chain(\n    hideElementFromAccessibilityTree(element),\n    assignStyle(element, {\n      pointerEvents: \"none\",\n      userSelect: \"none\",\n      cursor: \"default\"\n    })\n  );\n}\nfunction disableTreeOutside(...elements) {\n  const cleanups = [];\n  const ids = elements.map((el) => el == null ? void 0 : el.id);\n  if (!supportsInert()) {\n    getAllTabbable().forEach((element) => {\n      if (elements.some((el) => el && contains(el, element)))\n        return;\n      cleanups.unshift(setAttribute(element, \"tabindex\", \"-1\"));\n    });\n  }\n  walkTreeOutside(elements, (element) => {\n    if (isBackdrop(element, ...ids))\n      return;\n    cleanups.unshift(disableElement(element));\n  });\n  const restoreTreeOutside = () => {\n    cleanups.forEach((fn) => fn());\n  };\n  return restoreTreeOutside;\n}\n\nexport {\n  disableTreeOutside\n};\n","import {\n  useRootDialog\n} from \"./CJI67A3R.js\";\nimport {\n  assignStyle,\n  setCSSProperty\n} from \"./FW6QFGFT.js\";\n\n// src/dialog/utils/use-prevent-body-scroll.ts\nimport { useEffect } from \"react\";\nimport { getDocument, getWindow } from \"@ariakit/core/utils/dom\";\nimport { chain } from \"@ariakit/core/utils/misc\";\nimport { isApple, isMac } from \"@ariakit/core/utils/platform\";\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction usePreventBodyScroll(contentElement, contentId, enabled) {\n  const isRootDialog = useRootDialog({\n    attribute: \"data-dialog-prevent-body-scroll\",\n    contentElement,\n    contentId,\n    enabled\n  });\n  useEffect(() => {\n    if (!isRootDialog())\n      return;\n    if (!contentElement)\n      return;\n    const doc = getDocument(contentElement);\n    const win = getWindow(contentElement);\n    const { documentElement, body } = doc;\n    const cssScrollbarWidth = documentElement.style.getPropertyValue(\"--scrollbar-width\");\n    const scrollbarWidth = cssScrollbarWidth ? parseInt(cssScrollbarWidth) : win.innerWidth - documentElement.clientWidth;\n    const setScrollbarWidthProperty = () => setCSSProperty(\n      documentElement,\n      \"--scrollbar-width\",\n      `${scrollbarWidth}px`\n    );\n    const paddingProperty = getPaddingProperty(documentElement);\n    const setStyle = () => assignStyle(body, {\n      overflow: \"hidden\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    const setIOSStyle = () => {\n      var _a, _b;\n      const { scrollX, scrollY, visualViewport } = win;\n      const offsetLeft = (_a = visualViewport == null ? void 0 : visualViewport.offsetLeft) != null ? _a : 0;\n      const offsetTop = (_b = visualViewport == null ? void 0 : visualViewport.offsetTop) != null ? _b : 0;\n      const restoreStyle = assignStyle(body, {\n        position: \"fixed\",\n        overflow: \"hidden\",\n        top: `${-(scrollY - Math.floor(offsetTop))}px`,\n        left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n        right: \"0\",\n        [paddingProperty]: `${scrollbarWidth}px`\n      });\n      return () => {\n        restoreStyle();\n        if (process.env.NODE_ENV !== \"test\") {\n          win.scrollTo(scrollX, scrollY);\n        }\n      };\n    };\n    const isIOS = isApple() && !isMac();\n    return chain(\n      setScrollbarWidthProperty(),\n      isIOS ? setIOSStyle() : setStyle()\n    );\n  }, [isRootDialog, contentElement]);\n}\n\nexport {\n  usePreventBodyScroll\n};\n","import {\n  useForceUpdate\n} from \"./J7Q2EO23.js\";\n\n// src/dialog/utils/use-root-dialog.ts\nimport { useCallback, useEffect } from \"react\";\nimport { getDocument } from \"@ariakit/core/utils/dom\";\nimport { flushSync } from \"react-dom\";\nfunction useRootDialog({\n  attribute,\n  contentId,\n  contentElement,\n  enabled\n}) {\n  const [updated, retry] = useForceUpdate();\n  const isRootDialog = useCallback(() => {\n    if (!enabled)\n      return false;\n    if (!contentElement)\n      return false;\n    const { body } = getDocument(contentElement);\n    const id = body.getAttribute(attribute);\n    return !id || id === contentId;\n  }, [updated, enabled, contentElement, attribute, contentId]);\n  useEffect(() => {\n    if (!enabled)\n      return;\n    if (!contentId)\n      return;\n    if (!contentElement)\n      return;\n    const { body } = getDocument(contentElement);\n    if (isRootDialog()) {\n      body.setAttribute(attribute, contentId);\n      return () => body.removeAttribute(attribute);\n    }\n    const observer = new MutationObserver(() => flushSync(retry));\n    observer.observe(body, { attributeFilter: [attribute] });\n    return () => observer.disconnect();\n  }, [updated, enabled, contentId, contentElement, isRootDialog, attribute]);\n  return isRootDialog;\n}\n\nexport {\n  useRootDialog\n};\n","import {\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\n\n// src/dialog/utils/use-nested-dialogs.tsx\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState\n} from \"react\";\nimport { chain } from \"@ariakit/core/utils/misc\";\nimport { sync } from \"@ariakit/core/utils/store\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NestedDialogsContext = createContext({});\nfunction useNestedDialogs(store) {\n  const context = useContext(NestedDialogsContext);\n  const [dialogs, setDialogs] = useState([]);\n  const add = useCallback(\n    (dialog) => {\n      var _a;\n      setDialogs((dialogs2) => [...dialogs2, dialog]);\n      return chain((_a = context.add) == null ? void 0 : _a.call(context, dialog), () => {\n        setDialogs((dialogs2) => dialogs2.filter((d) => d !== dialog));\n      });\n    },\n    [context]\n  );\n  useSafeLayoutEffect(() => {\n    return sync(store, [\"open\", \"contentElement\"], (state) => {\n      var _a;\n      if (!state.open)\n        return;\n      if (!state.contentElement)\n        return;\n      return (_a = context.add) == null ? void 0 : _a.call(context, store);\n    });\n  }, [store, context]);\n  useSafeLayoutEffect(() => {\n    return sync(context.store, [\"open\"], (state) => {\n      if (state.open)\n        return;\n      store.hide();\n    });\n  }, [context, store]);\n  const providerValue = useMemo(() => ({ store, add }), [store, add]);\n  const wrapElement = useCallback(\n    (element) => /* @__PURE__ */ jsx(NestedDialogsContext.Provider, { value: providerValue, children: element }),\n    [providerValue]\n  );\n  return { wrapElement, nestedDialogs: dialogs };\n}\n\nexport {\n  useNestedDialogs\n};\n","import {\n  isElementMarked\n} from \"./LEBYH5FW.js\";\nimport {\n  usePreviousMouseDownRef\n} from \"./7JNF6I52.js\";\nimport {\n  useEvent,\n  useSafeLayoutEffect\n} from \"./J7Q2EO23.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/dialog/utils/use-hide-on-interact-outside.ts\nimport { useEffect, useRef } from \"react\";\nimport { contains, getDocument, isVisible } from \"@ariakit/core/utils/dom\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nfunction isInDocument(target) {\n  if (target.tagName === \"HTML\")\n    return true;\n  return contains(getDocument(target).body, target);\n}\nfunction isDisclosure(disclosure, target) {\n  if (!disclosure)\n    return false;\n  if (contains(disclosure, target))\n    return true;\n  const activeId = target.getAttribute(\"aria-activedescendant\");\n  if (activeId) {\n    const activeElement = getDocument(disclosure).getElementById(activeId);\n    if (activeElement) {\n      return contains(disclosure, activeElement);\n    }\n  }\n  return false;\n}\nfunction isMouseEventOnDialog(event, dialog) {\n  if (!(\"clientY\" in event))\n    return false;\n  const rect = dialog.getBoundingClientRect();\n  if (rect.width === 0 || rect.height === 0)\n    return false;\n  return rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;\n}\nfunction useEventOutside({\n  store,\n  type,\n  listener,\n  capture,\n  domReady\n}) {\n  const callListener = useEvent(listener);\n  const open = store.useState(\"open\");\n  const focusedRef = useRef(false);\n  useSafeLayoutEffect(() => {\n    if (!open)\n      return;\n    if (!domReady)\n      return;\n    const { contentElement } = store.getState();\n    if (!contentElement)\n      return;\n    const onFocus = () => {\n      focusedRef.current = true;\n    };\n    contentElement.addEventListener(\"focusin\", onFocus, true);\n    return () => contentElement.removeEventListener(\"focusin\", onFocus, true);\n  }, [store, open, domReady]);\n  useEffect(() => {\n    if (!open)\n      return;\n    const onEvent = (event) => {\n      const { contentElement, disclosureElement } = store.getState();\n      const target = event.target;\n      if (!contentElement)\n        return;\n      if (!target)\n        return;\n      if (!isInDocument(target))\n        return;\n      if (contains(contentElement, target))\n        return;\n      if (isDisclosure(disclosureElement, target))\n        return;\n      if (target.hasAttribute(\"data-focus-trap\"))\n        return;\n      if (isMouseEventOnDialog(event, contentElement))\n        return;\n      const focused = focusedRef.current;\n      if (focused && !isElementMarked(target, contentElement.id))\n        return;\n      callListener(event);\n    };\n    return addGlobalEventListener(type, onEvent, capture);\n  }, [open, capture]);\n}\nfunction shouldHideOnInteractOutside(hideOnInteractOutside, event) {\n  if (typeof hideOnInteractOutside === \"function\") {\n    return hideOnInteractOutside(event);\n  }\n  return !!hideOnInteractOutside;\n}\nfunction useHideOnInteractOutside(store, hideOnInteractOutside, domReady) {\n  const open = store.useState(\"open\");\n  const previousMouseDownRef = usePreviousMouseDownRef(open);\n  const props = { store, domReady, capture: true };\n  useEventOutside(__spreadProps(__spreadValues({}, props), {\n    type: \"click\",\n    listener: (event) => {\n      const { contentElement } = store.getState();\n      const previousMouseDown = previousMouseDownRef.current;\n      if (!previousMouseDown)\n        return;\n      if (!isVisible(previousMouseDown))\n        return;\n      if (!isElementMarked(previousMouseDown, contentElement == null ? void 0 : contentElement.id))\n        return;\n      if (!shouldHideOnInteractOutside(hideOnInteractOutside, event))\n        return;\n      store.hide();\n    }\n  }));\n  useEventOutside(__spreadProps(__spreadValues({}, props), {\n    type: \"focusin\",\n    listener: (event) => {\n      const { contentElement } = store.getState();\n      if (!contentElement)\n        return;\n      if (event.target === getDocument(contentElement))\n        return;\n      if (!shouldHideOnInteractOutside(hideOnInteractOutside, event))\n        return;\n      store.hide();\n    }\n  }));\n  useEventOutside(__spreadProps(__spreadValues({}, props), {\n    type: \"contextmenu\",\n    listener: (event) => {\n      if (!shouldHideOnInteractOutside(hideOnInteractOutside, event))\n        return;\n      store.hide();\n    }\n  }));\n}\n\nexport {\n  useHideOnInteractOutside\n};\n","// src/dialog/utils/use-previous-mouse-down-ref.ts\nimport { useEffect, useRef } from \"react\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nfunction usePreviousMouseDownRef(enabled) {\n  const previousMouseDownRef = useRef();\n  useEffect(() => {\n    if (!enabled) {\n      previousMouseDownRef.current = null;\n      return;\n    }\n    const onMouseDown = (event) => {\n      previousMouseDownRef.current = event.target;\n    };\n    return addGlobalEventListener(\"mousedown\", onMouseDown, true);\n  }, [enabled]);\n  return previousMouseDownRef;\n}\n\nexport {\n  usePreviousMouseDownRef\n};\n","import {\n  FocusableContext\n} from \"./BMLNRUFQ.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest\n} from \"./PNRLI7OV.js\";\n\n// src/focusable/focusable-container.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar useFocusableContainer = createHook(\n  (_a) => {\n    var _b = _a, { autoFocusOnShow = true } = _b, props = __objRest(_b, [\"autoFocusOnShow\"]);\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(FocusableContext.Provider, { value: autoFocusOnShow, children: element }),\n      [autoFocusOnShow]\n    );\n    return props;\n  }\n);\nvar FocusableContainer = createComponent(\n  (props) => {\n    const htmlProps = useFocusableContainer(props);\n    return createElement(\"div\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  FocusableContainer.displayName = \"FocusableContainer\";\n}\n\nexport {\n  useFocusableContainer,\n  FocusableContainer\n};\n","// src/heading/heading-context.ts\nimport { createContext } from \"react\";\nvar HeadingContext = createContext(0);\n\nexport {\n  HeadingContext\n};\n","import {\n  HeadingContext\n} from \"./COQHFAEN.js\";\n\n// src/heading/heading-level.tsx\nimport { useContext } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction HeadingLevel({ level, children }) {\n  const contextLevel = useContext(HeadingContext);\n  const nextLevel = Math.max(\n    Math.min(level || contextLevel + 1, 6),\n    1\n  );\n  return /* @__PURE__ */ jsx(HeadingContext.Provider, { value: nextLevel, children });\n}\n\nexport {\n  HeadingLevel\n};\n","import {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/visually-hidden/visually-hidden.ts\nvar useVisuallyHidden = createHook((props) => {\n  props = __spreadProps(__spreadValues({}, props), {\n    style: __spreadValues({\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      whiteSpace: \"nowrap\",\n      width: \"1px\"\n    }, props.style)\n  });\n  return props;\n});\nvar VisuallyHidden = createComponent(\n  (props) => {\n    const htmlProps = useVisuallyHidden(props);\n    return createElement(\"span\", htmlProps);\n  }\n);\nif (process.env.NODE_ENV !== \"production\") {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n}\n\nexport {\n  useVisuallyHidden,\n  VisuallyHidden\n};\n","import {\n  useVisuallyHidden\n} from \"./FL2AU7YJ.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/focus-trap/focus-trap.ts\nvar useFocusTrap = createHook((props) => {\n  props = __spreadProps(__spreadValues({\n    \"data-focus-trap\": \"\",\n    tabIndex: 0,\n    \"aria-hidden\": true\n  }, props), {\n    style: __spreadValues({\n      // Prevents unintended scroll jumps.\n      position: \"fixed\",\n      top: 0,\n      left: 0\n    }, props.style)\n  });\n  props = useVisuallyHidden(props);\n  return props;\n});\nvar FocusTrap = createComponent((props) => {\n  const htmlProps = useFocusTrap(props);\n  return createElement(\"span\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  FocusTrap.displayName = \"FocusTrap\";\n}\n\nexport {\n  useFocusTrap,\n  FocusTrap\n};\n","// src/portal/portal-context.ts\nimport { createContext } from \"react\";\nvar PortalContext = createContext(null);\n\nexport {\n  PortalContext\n};\n","import {\n  FocusTrap\n} from \"./EJ3GIT5B.js\";\nimport {\n  PortalContext\n} from \"./LDDPB3PY.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  setRef\n} from \"./CP3U4HPL.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/portal/portal.tsx\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { getDocument } from \"@ariakit/core/utils/dom\";\nimport { isFocusEventOutside } from \"@ariakit/core/utils/events\";\nimport {\n  disableFocusIn,\n  getNextTabbable,\n  getPreviousTabbable,\n  restoreFocusIn\n} from \"@ariakit/core/utils/focus\";\nimport { createPortal } from \"react-dom\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nfunction getRootElement(element) {\n  return getDocument(element).body;\n}\nfunction getPortalElement(element, portalElement) {\n  if (!portalElement) {\n    return getDocument(element).createElement(\"div\");\n  }\n  if (typeof portalElement === \"function\") {\n    return portalElement(element);\n  }\n  return portalElement;\n}\nfunction getRandomId(prefix = \"id\") {\n  return `${prefix ? `${prefix}-` : \"\"}${Math.random().toString(36).substr(2, 6)}`;\n}\nfunction queueFocus(element) {\n  queueMicrotask(() => {\n    element == null ? void 0 : element.focus();\n  });\n}\nvar usePortal = createHook(\n  (_a) => {\n    var _b = _a, { preserveTabOrder, portalElement, portalRef, portal = true } = _b, props = __objRest(_b, [\"preserveTabOrder\", \"portalElement\", \"portalRef\", \"portal\"]);\n    const ref = useRef(null);\n    const refProp = useMergeRefs(ref, props.ref);\n    const context = useContext(PortalContext);\n    const [portalNode, setPortalNode] = useState(null);\n    const outerBeforeRef = useRef(null);\n    const innerBeforeRef = useRef(null);\n    const innerAfterRef = useRef(null);\n    const outerAfterRef = useRef(null);\n    useSafeLayoutEffect(() => {\n      const element = ref.current;\n      if (!element || !portal) {\n        setPortalNode(null);\n        return;\n      }\n      const portalEl = getPortalElement(element, portalElement);\n      if (!portalEl) {\n        setPortalNode(null);\n        return;\n      }\n      const isPortalInDocument = portalEl.isConnected;\n      if (!isPortalInDocument) {\n        const rootElement = context || getRootElement(element);\n        rootElement.appendChild(portalEl);\n      }\n      if (!portalEl.id) {\n        portalEl.id = element.id ? `portal/${element.id}` : getRandomId();\n      }\n      setPortalNode(portalEl);\n      setRef(portalRef, portalEl);\n      if (isPortalInDocument)\n        return;\n      return () => {\n        portalEl.remove();\n        setRef(portalRef, null);\n      };\n    }, [portal, portalElement, context, portalRef]);\n    useEffect(() => {\n      if (!portalNode)\n        return;\n      if (!preserveTabOrder)\n        return;\n      let raf = 0;\n      const onFocus = (event) => {\n        if (!isFocusEventOutside(event))\n          return;\n        const focusing = event.type === \"focusin\";\n        if (focusing)\n          return restoreFocusIn(portalNode);\n        cancelAnimationFrame(raf);\n        raf = requestAnimationFrame(() => {\n          disableFocusIn(portalNode, true);\n        });\n      };\n      portalNode.addEventListener(\"focusin\", onFocus, true);\n      portalNode.addEventListener(\"focusout\", onFocus, true);\n      return () => {\n        portalNode.removeEventListener(\"focusin\", onFocus, true);\n        portalNode.removeEventListener(\"focusout\", onFocus, true);\n      };\n    }, [portalNode, preserveTabOrder]);\n    props = useWrapElement(\n      props,\n      (element) => {\n        element = // While the portal node is not in the DOM, we need to pass the\n        // current context to the portal context, otherwise it's going to\n        // reset to the body element on nested portals.\n        /* @__PURE__ */ jsx(PortalContext.Provider, { value: portalNode || context, children: element });\n        if (!portal)\n          return element;\n        if (!portalNode) {\n          return /* @__PURE__ */ jsx(\n            \"span\",\n            {\n              ref: refProp,\n              id: props.id,\n              style: { position: \"fixed\" },\n              hidden: true\n            }\n          );\n        }\n        element = /* @__PURE__ */ jsxs(Fragment, { children: [\n          preserveTabOrder && portalNode && /* @__PURE__ */ jsx(\n            FocusTrap,\n            {\n              ref: innerBeforeRef,\n              className: \"__focus-trap-inner-before\",\n              onFocus: (event) => {\n                if (isFocusEventOutside(event, portalNode)) {\n                  queueFocus(getNextTabbable());\n                } else {\n                  queueFocus(outerBeforeRef.current);\n                }\n              }\n            }\n          ),\n          element,\n          preserveTabOrder && portalNode && /* @__PURE__ */ jsx(\n            FocusTrap,\n            {\n              ref: innerAfterRef,\n              className: \"__focus-trap-inner-after\",\n              onFocus: (event) => {\n                if (isFocusEventOutside(event, portalNode)) {\n                  queueFocus(getPreviousTabbable());\n                } else {\n                  queueFocus(outerAfterRef.current);\n                }\n              }\n            }\n          )\n        ] });\n        if (portalNode) {\n          element = createPortal(element, portalNode);\n        }\n        element = /* @__PURE__ */ jsxs(Fragment, { children: [\n          preserveTabOrder && portalNode && /* @__PURE__ */ jsx(\n            FocusTrap,\n            {\n              ref: outerBeforeRef,\n              className: \"__focus-trap-outer-before\",\n              onFocus: (event) => {\n                const fromOuter = event.relatedTarget === outerAfterRef.current;\n                if (!fromOuter && isFocusEventOutside(event, portalNode)) {\n                  queueFocus(innerBeforeRef.current);\n                } else {\n                  queueFocus(getPreviousTabbable());\n                }\n              }\n            }\n          ),\n          preserveTabOrder && // We're using position: fixed here so that the browser doesn't\n          // add margin to the element when setting gap on a parent element.\n          /* @__PURE__ */ jsx(\"span\", { \"aria-owns\": portalNode == null ? void 0 : portalNode.id, style: { position: \"fixed\" } }),\n          element,\n          preserveTabOrder && portalNode && /* @__PURE__ */ jsx(\n            FocusTrap,\n            {\n              ref: outerAfterRef,\n              className: \"__focus-trap-outer-after\",\n              onFocus: (event) => {\n                if (isFocusEventOutside(event, portalNode)) {\n                  queueFocus(innerAfterRef.current);\n                } else {\n                  const nextTabbable = getNextTabbable();\n                  if (nextTabbable === innerBeforeRef.current) {\n                    requestAnimationFrame(() => {\n                      var _a2;\n                      return (_a2 = getNextTabbable()) == null ? void 0 : _a2.focus();\n                    });\n                    return;\n                  }\n                  queueFocus(nextTabbable);\n                }\n              }\n            }\n          )\n        ] });\n        return element;\n      },\n      [portalNode, context, portal, props.id, preserveTabOrder]\n    );\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: refProp\n    });\n    return props;\n  }\n);\nvar Portal = createComponent((props) => {\n  const htmlProps = usePortal(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Portal.displayName = \"Portal\";\n}\n\nexport {\n  usePortal,\n  Portal\n};\n","// src/dialog/dialog-context.ts\nimport { createContext } from \"react\";\nvar DialogContext = createContext(void 0);\nvar DialogHeadingContext = createContext(void 0);\nvar DialogDescriptionContext = createContext(void 0);\n\nexport {\n  DialogContext,\n  DialogHeadingContext,\n  DialogDescriptionContext\n};\n","import {\n  DialogBackdrop\n} from \"./432NLB7J.js\";\nimport {\n  disableTreeOutside\n} from \"./NHPU54IO.js\";\nimport {\n  disableAccessibilityTreeOutside\n} from \"./GDORSOK6.js\";\nimport {\n  usePreventBodyScroll\n} from \"./3LAWLNOX.js\";\nimport {\n  useNestedDialogs\n} from \"./PLOINBVB.js\";\nimport {\n  useHideOnInteractOutside\n} from \"./E5XSMSHD.js\";\nimport {\n  isElementMarked,\n  markTreeOutside\n} from \"./LEBYH5FW.js\";\nimport {\n  prependHiddenDismiss\n} from \"./62DFK33R.js\";\nimport {\n  useFocusableContainer\n} from \"./IYNN2ZO5.js\";\nimport {\n  HeadingLevel\n} from \"./6OMX4H3W.js\";\nimport {\n  usePortal\n} from \"./LL3AE4N4.js\";\nimport {\n  DialogContext,\n  DialogDescriptionContext,\n  DialogHeadingContext\n} from \"./LNHZLQEK.js\";\nimport {\n  isHidden,\n  useDisclosureContent\n} from \"./WHEEIXMF.js\";\nimport {\n  useFocusable\n} from \"./MYID4V27.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useId,\n  useMergeRefs,\n  usePortalRef,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/dialog/dialog.tsx\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n  closest,\n  contains,\n  getActiveElement,\n  getDocument,\n  isButton\n} from \"@ariakit/core/utils/dom\";\nimport {\n  addGlobalEventListener,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport {\n  focusIfNeeded,\n  getFirstTabbableIn,\n  isFocusable\n} from \"@ariakit/core/utils/focus\";\nimport { chain } from \"@ariakit/core/utils/misc\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar isSafariBrowser = isSafari();\nfunction isAlreadyFocusingAnotherElement(dialog) {\n  const activeElement = getActiveElement();\n  if (!activeElement)\n    return false;\n  if (dialog && contains(dialog, activeElement))\n    return false;\n  if (isFocusable(activeElement))\n    return true;\n  return false;\n}\nfunction getElementFromProp(prop, focusable = false) {\n  if (!prop)\n    return null;\n  const element = \"current\" in prop ? prop.current : prop;\n  if (!element)\n    return null;\n  if (focusable)\n    return isFocusable(element) ? element : null;\n  return element;\n}\nvar useDialog = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      focusable = true,\n      modal = true,\n      portal = !!modal,\n      backdrop = !!modal,\n      backdropProps,\n      hideOnEscape = true,\n      hideOnInteractOutside = true,\n      getPersistentElements,\n      preventBodyScroll = !!modal,\n      autoFocusOnShow = true,\n      autoFocusOnHide = true,\n      initialFocus,\n      finalFocus\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"focusable\",\n      \"modal\",\n      \"portal\",\n      \"backdrop\",\n      \"backdropProps\",\n      \"hideOnEscape\",\n      \"hideOnInteractOutside\",\n      \"getPersistentElements\",\n      \"preventBodyScroll\",\n      \"autoFocusOnShow\",\n      \"autoFocusOnHide\",\n      \"initialFocus\",\n      \"finalFocus\"\n    ]);\n    const ref = useRef(null);\n    const { portalRef, domReady } = usePortalRef(portal, props.portalRef);\n    const preserveTabOrderProp = props.preserveTabOrder;\n    const preserveTabOrder = store.useState(\n      (state) => preserveTabOrderProp && !modal && state.mounted\n    );\n    const id = useId(props.id);\n    const open = store.useState(\"open\");\n    const mounted = store.useState(\"mounted\");\n    const contentElement = store.useState(\"contentElement\");\n    const hidden = isHidden(mounted, props.hidden, props.alwaysVisible);\n    usePreventBodyScroll(contentElement, id, preventBodyScroll && !hidden);\n    useHideOnInteractOutside(store, hideOnInteractOutside, domReady);\n    const { wrapElement, nestedDialogs } = useNestedDialogs(store);\n    props = useWrapElement(props, wrapElement, [wrapElement]);\n    useSafeLayoutEffect(() => {\n      if (!open)\n        return;\n      const dialog = ref.current;\n      const activeElement = getActiveElement(dialog, true);\n      if (!activeElement)\n        return;\n      if (activeElement.tagName === \"BODY\")\n        return;\n      if (dialog && contains(dialog, activeElement))\n        return;\n      store.setDisclosureElement(activeElement);\n    }, [open, store]);\n    if (isSafariBrowser) {\n      useEffect(() => {\n        if (!mounted)\n          return;\n        const { disclosureElement } = store.getState();\n        if (!disclosureElement)\n          return;\n        if (!isButton(disclosureElement))\n          return;\n        const onMouseDown = () => {\n          let receivedFocus = false;\n          const onFocus = () => {\n            receivedFocus = true;\n          };\n          const options = { capture: true, once: true };\n          disclosureElement.addEventListener(\"focusin\", onFocus, options);\n          queueBeforeEvent(disclosureElement, \"mouseup\", () => {\n            disclosureElement.removeEventListener(\"focusin\", onFocus, true);\n            if (receivedFocus)\n              return;\n            focusIfNeeded(disclosureElement);\n          });\n        };\n        disclosureElement.addEventListener(\"mousedown\", onMouseDown);\n        return () => {\n          disclosureElement.removeEventListener(\"mousedown\", onMouseDown);\n        };\n      }, [mounted, store]);\n    }\n    const shouldDisableAccessibilityTree = modal || // Usually, we only want to disable the accessibility tree outside if the\n    // dialog is a modal. But the Portal component can't preserve the tab\n    // order on Safari/VoiceOver. By allowing only the dialog/portal to be\n    // accessible, we provide a similar tab order flow. We don't need to\n    // disable pointer events because it's just for screen readers.\n    portal && preserveTabOrder && isSafari();\n    useEffect(() => {\n      if (!mounted)\n        return;\n      if (!domReady)\n        return;\n      const dialog = ref.current;\n      if (!dialog)\n        return;\n      if (!shouldDisableAccessibilityTree)\n        return;\n      const existingDismiss = dialog.querySelector(\"[data-dialog-dismiss]\");\n      if (existingDismiss)\n        return;\n      return prependHiddenDismiss(dialog, store.hide);\n    }, [mounted, domReady, shouldDisableAccessibilityTree]);\n    const getPersistentElementsProp = useEvent(getPersistentElements);\n    useSafeLayoutEffect(() => {\n      if (!domReady)\n        return;\n      if (!id)\n        return;\n      if (!open)\n        return;\n      const { disclosureElement } = store.getState();\n      const dialog = ref.current;\n      const persistentElements = getPersistentElementsProp() || [];\n      const allElements = [\n        dialog,\n        ...persistentElements,\n        ...nestedDialogs.map((dialog2) => dialog2.getState().contentElement)\n      ];\n      if (!shouldDisableAccessibilityTree) {\n        return markTreeOutside(id, disclosureElement, ...allElements);\n      }\n      if (modal) {\n        return chain(\n          markTreeOutside(id, ...allElements),\n          disableTreeOutside(...allElements)\n        );\n      }\n      return chain(\n        markTreeOutside(id, disclosureElement, ...allElements),\n        disableAccessibilityTreeOutside(...allElements)\n      );\n    }, [\n      domReady,\n      id,\n      open,\n      store,\n      getPersistentElementsProp,\n      nestedDialogs,\n      shouldDisableAccessibilityTree,\n      modal\n    ]);\n    const mayAutoFocusOnShow = !!autoFocusOnShow;\n    const autoFocusOnShowProp = useBooleanEvent(autoFocusOnShow);\n    const [autoFocusEnabled, setAutoFocusEnabled] = useState(false);\n    useEffect(() => {\n      if (!open)\n        return;\n      if (!mayAutoFocusOnShow)\n        return;\n      if (!domReady)\n        return;\n      if (!(contentElement == null ? void 0 : contentElement.isConnected))\n        return;\n      const element = getElementFromProp(initialFocus, true) || // If no initial focus is specified, we try to focus the first element\n      // with the autofocus attribute. If it's an Ariakit component, the\n      // Focusable component will consume the autoFocus prop and add the\n      // data-autofocus attribute to the element instead.\n      contentElement.querySelector(\n        \"[data-autofocus=true],[autofocus]\"\n      ) || // We have to fallback to the first focusable element otherwise portaled\n      // dialogs with preserveTabOrder set to true will not receive focus\n      // properly because the elements aren't tabbable until the dialog\n      // receives focus.\n      getFirstTabbableIn(contentElement, true, portal && preserveTabOrder) || // Finally, we fallback to the dialog element itself.\n      contentElement;\n      const isElementFocusable = isFocusable(element);\n      if (!autoFocusOnShowProp(isElementFocusable ? element : null))\n        return;\n      setAutoFocusEnabled(true);\n      queueMicrotask(() => {\n        element.focus();\n        if (!isSafariBrowser)\n          return;\n        element.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n      });\n    }, [\n      open,\n      mayAutoFocusOnShow,\n      domReady,\n      contentElement,\n      initialFocus,\n      portal,\n      preserveTabOrder,\n      autoFocusOnShowProp\n    ]);\n    const mayAutoFocusOnHide = !!autoFocusOnHide;\n    const autoFocusOnHideProp = useBooleanEvent(autoFocusOnHide);\n    const [hasOpened, setHasOpened] = useState(false);\n    useEffect(() => {\n      if (!open)\n        return;\n      setHasOpened(true);\n      return () => setHasOpened(false);\n    }, [open]);\n    const focusOnHide = useCallback(\n      (dialog, retry = true) => {\n        const { open: open2, disclosureElement } = store.getState();\n        if (open2)\n          return;\n        if (isAlreadyFocusingAnotherElement(dialog))\n          return;\n        let element = getElementFromProp(finalFocus) || disclosureElement;\n        if (element == null ? void 0 : element.id) {\n          const doc = getDocument(element);\n          const selector = `[aria-activedescendant=\"${element.id}\"]`;\n          const composite = doc.querySelector(selector);\n          if (composite) {\n            element = composite;\n          }\n        }\n        if (element && !isFocusable(element)) {\n          const maybeParentDialog = closest(element, \"[data-dialog]\");\n          if (maybeParentDialog && maybeParentDialog.id) {\n            const doc = getDocument(maybeParentDialog);\n            const selector = `[aria-controls~=\"${maybeParentDialog.id}\"]`;\n            const control = doc.querySelector(selector);\n            if (control) {\n              element = control;\n            }\n          }\n        }\n        const isElementFocusable = element && isFocusable(element);\n        if (!isElementFocusable && retry) {\n          requestAnimationFrame(() => focusOnHide(dialog, false));\n          return;\n        }\n        if (!autoFocusOnHideProp(isElementFocusable ? element : null))\n          return;\n        if (!isElementFocusable)\n          return;\n        element == null ? void 0 : element.focus();\n      },\n      [store, finalFocus, autoFocusOnHideProp]\n    );\n    useEffect(() => {\n      if (open)\n        return;\n      if (!hasOpened)\n        return;\n      if (!mayAutoFocusOnHide)\n        return;\n      const dialog = ref.current;\n      focusOnHide(dialog);\n    }, [open, hasOpened, mayAutoFocusOnHide, focusOnHide]);\n    useEffect(() => {\n      if (!hasOpened)\n        return;\n      if (!mayAutoFocusOnHide)\n        return;\n      const dialog = ref.current;\n      return () => focusOnHide(dialog);\n    }, [hasOpened, mayAutoFocusOnHide, focusOnHide]);\n    const hideOnEscapeProp = useBooleanEvent(hideOnEscape);\n    useEffect(() => {\n      if (!domReady)\n        return;\n      if (!mounted)\n        return;\n      const onKeyDown = (event) => {\n        if (event.key !== \"Escape\")\n          return;\n        if (event.defaultPrevented)\n          return;\n        const dialog = ref.current;\n        if (!dialog)\n          return;\n        if (isElementMarked(dialog))\n          return;\n        const target = event.target;\n        if (!target)\n          return;\n        const { disclosureElement } = store.getState();\n        const isValidTarget = () => {\n          if (target.tagName === \"BODY\")\n            return true;\n          if (contains(dialog, target))\n            return true;\n          if (!disclosureElement)\n            return false;\n          if (contains(disclosureElement, target))\n            return true;\n          return false;\n        };\n        if (!isValidTarget())\n          return;\n        if (!hideOnEscapeProp(event))\n          return;\n        store.hide();\n      };\n      return addGlobalEventListener(\"keydown\", onKeyDown);\n    }, [mounted, domReady, store, hideOnEscapeProp]);\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(HeadingLevel, { level: modal ? 1 : void 0, children: element }),\n      [modal]\n    );\n    const hiddenProp = props.hidden;\n    const alwaysVisible = props.alwaysVisible;\n    props = useWrapElement(\n      props,\n      (element) => {\n        if (!backdrop)\n          return element;\n        return /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            DialogBackdrop,\n            {\n              store,\n              backdrop,\n              backdropProps,\n              hidden: hiddenProp,\n              alwaysVisible\n            }\n          ),\n          element\n        ] });\n      },\n      [store, backdrop, backdropProps, hiddenProp, alwaysVisible]\n    );\n    const [headingId, setHeadingId] = useState();\n    const [descriptionId, setDescriptionId] = useState();\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(DialogContext.Provider, { value: store, children: /* @__PURE__ */ jsx(DialogHeadingContext.Provider, { value: setHeadingId, children: /* @__PURE__ */ jsx(DialogDescriptionContext.Provider, { value: setDescriptionId, children: element }) }) }),\n      [store]\n    );\n    props = __spreadProps(__spreadValues({\n      id,\n      \"data-dialog\": \"\",\n      role: \"dialog\",\n      tabIndex: focusable ? -1 : void 0,\n      \"aria-labelledby\": headingId,\n      \"aria-describedby\": descriptionId\n    }, props), {\n      ref: useMergeRefs(ref, props.ref)\n    });\n    props = useFocusableContainer(__spreadProps(__spreadValues({}, props), {\n      autoFocusOnShow: autoFocusEnabled\n    }));\n    props = useDisclosureContent(__spreadValues({ store }, props));\n    props = useFocusable(__spreadProps(__spreadValues({}, props), { focusable }));\n    props = usePortal(__spreadProps(__spreadValues({ portal }, props), { portalRef, preserveTabOrder }));\n    return props;\n  }\n);\nvar Dialog = createComponent((props) => {\n  const htmlProps = useDialog(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Dialog.displayName = \"Dialog\";\n}\n\nexport {\n  useDialog,\n  Dialog\n};\n","// src/dialog/utils/prepend-hidden-dismiss.ts\nimport { getDocument } from \"@ariakit/core/utils/dom\";\nfunction prependHiddenDismiss(container, onClick) {\n  const document = getDocument(container);\n  const button = document.createElement(\"button\");\n  button.type = \"button\";\n  button.tabIndex = -1;\n  button.textContent = \"Dismiss popup\";\n  Object.assign(button.style, {\n    border: \"0px\",\n    clip: \"rect(0 0 0 0)\",\n    height: \"1px\",\n    margin: \"-1px\",\n    overflow: \"hidden\",\n    padding: \"0px\",\n    position: \"absolute\",\n    whiteSpace: \"nowrap\",\n    width: \"1px\"\n  });\n  button.addEventListener(\"click\", onClick);\n  container.prepend(button);\n  const removeHiddenDismiss = () => {\n    button.removeEventListener(\"click\", onClick);\n    button.remove();\n  };\n  return removeHiddenDismiss;\n}\n\nexport {\n  prependHiddenDismiss\n};\n","const sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. This stops `shift()` from taking action, but can\n    // be worked around by calling it again after the `arrow()` if desired.\n    const shouldAddOffset = getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? min$1 - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset + alignmentOffset\n      }\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null ? void 0 : (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (_ref) {\n  let {\n    reference,\n    floating,\n    strategy\n  } = _ref;\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    clearTimeout(timeoutId);\n    io && io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          resizeObserver && resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo && cleanupIo();\n    resizeObserver && resizeObserver.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, platform };\n","import {\n  useDialog\n} from \"./TG7IDXTX.js\";\nimport {\n  PopoverContext\n} from \"./6GS36SYX.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useEvent,\n  usePortalRef,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/popover/popover.tsx\nimport { useState } from \"react\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport {\n  arrow,\n  autoUpdate,\n  computePosition,\n  flip,\n  offset,\n  shift,\n  size\n} from \"@floating-ui/dom\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createDOMRect(x = 0, y = 0, width = 0, height = 0) {\n  if (typeof DOMRect === \"function\") {\n    return new DOMRect(x, y, width, height);\n  }\n  const rect = {\n    x,\n    y,\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x\n  };\n  return __spreadProps(__spreadValues({}, rect), { toJSON: () => rect });\n}\nfunction getDOMRect(anchorRect) {\n  if (!anchorRect)\n    return createDOMRect();\n  const { x, y, width, height } = anchorRect;\n  return createDOMRect(x, y, width, height);\n}\nfunction getAnchorElement(anchorElement, getAnchorRect) {\n  const contextElement = anchorElement || void 0;\n  return {\n    contextElement,\n    getBoundingClientRect: () => {\n      const anchor = anchorElement;\n      const anchorRect = getAnchorRect == null ? void 0 : getAnchorRect(anchor);\n      if (anchorRect || !anchor) {\n        return getDOMRect(anchorRect);\n      }\n      return anchor.getBoundingClientRect();\n    }\n  };\n}\nfunction isValidPlacement(flip2) {\n  return /^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(flip2);\n}\nfunction roundByDPR(value) {\n  const dpr = window.devicePixelRatio || 1;\n  return Math.round(value * dpr) / dpr;\n}\nfunction getOffsetMiddleware(arrowElement, props) {\n  return offset(({ placement }) => {\n    var _a;\n    const arrowOffset = ((arrowElement == null ? void 0 : arrowElement.clientHeight) || 0) / 2;\n    const finalGutter = typeof props.gutter === \"number\" ? props.gutter + arrowOffset : (_a = props.gutter) != null ? _a : arrowOffset;\n    const hasAlignment = !!placement.split(\"-\")[1];\n    return {\n      crossAxis: !hasAlignment ? props.shift : void 0,\n      mainAxis: finalGutter,\n      alignmentAxis: props.shift\n    };\n  });\n}\nfunction getFlipMiddleware(props) {\n  if (props.flip === false)\n    return;\n  const fallbackPlacements = typeof props.flip === \"string\" ? props.flip.split(\" \") : void 0;\n  invariant(\n    !fallbackPlacements || fallbackPlacements.every(isValidPlacement),\n    process.env.NODE_ENV !== \"production\" && \"`flip` expects a spaced-delimited list of placements\"\n  );\n  return flip({\n    padding: props.overflowPadding,\n    fallbackPlacements\n  });\n}\nfunction getShiftMiddleware(props) {\n  if (!props.slide && !props.overlap)\n    return;\n  return shift({\n    mainAxis: props.slide,\n    crossAxis: props.overlap,\n    padding: props.overflowPadding\n  });\n}\nfunction getSizeMiddleware(props) {\n  return size({\n    padding: props.overflowPadding,\n    apply({ elements, availableWidth, availableHeight, rects }) {\n      const wrapper = elements.floating;\n      const referenceWidth = Math.round(rects.reference.width);\n      availableWidth = Math.floor(availableWidth);\n      availableHeight = Math.floor(availableHeight);\n      wrapper.style.setProperty(\n        \"--popover-anchor-width\",\n        `${referenceWidth}px`\n      );\n      wrapper.style.setProperty(\n        \"--popover-available-width\",\n        `${availableWidth}px`\n      );\n      wrapper.style.setProperty(\n        \"--popover-available-height\",\n        `${availableHeight}px`\n      );\n      if (props.sameWidth) {\n        wrapper.style.width = `${referenceWidth}px`;\n      }\n      if (props.fitViewport) {\n        wrapper.style.maxWidth = `${availableWidth}px`;\n        wrapper.style.maxHeight = `${availableHeight}px`;\n      }\n    }\n  });\n}\nfunction getArrowMiddleware(arrowElement, props) {\n  if (!arrowElement)\n    return;\n  return arrow({\n    element: arrowElement,\n    padding: props.arrowPadding\n  });\n}\nvar usePopover = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      modal = false,\n      portal = !!modal,\n      preserveTabOrder = true,\n      autoFocusOnShow = true,\n      wrapperProps,\n      fixed = false,\n      flip: flip2 = true,\n      shift: shift2 = 0,\n      slide = true,\n      overlap = false,\n      sameWidth = false,\n      fitViewport = false,\n      gutter,\n      arrowPadding = 4,\n      overflowPadding = 8,\n      getAnchorRect,\n      updatePosition\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"modal\",\n      \"portal\",\n      \"preserveTabOrder\",\n      \"autoFocusOnShow\",\n      \"wrapperProps\",\n      \"fixed\",\n      \"flip\",\n      \"shift\",\n      \"slide\",\n      \"overlap\",\n      \"sameWidth\",\n      \"fitViewport\",\n      \"gutter\",\n      \"arrowPadding\",\n      \"overflowPadding\",\n      \"getAnchorRect\",\n      \"updatePosition\"\n    ]);\n    const arrowElement = store.useState(\"arrowElement\");\n    const anchorElement = store.useState(\"anchorElement\");\n    const popoverElement = store.useState(\"popoverElement\");\n    const contentElement = store.useState(\"contentElement\");\n    const placement = store.useState(\"placement\");\n    const mounted = store.useState(\"mounted\");\n    const rendered = store.useState(\"rendered\");\n    const [positioned, setPositioned] = useState(false);\n    const { portalRef, domReady } = usePortalRef(portal, props.portalRef);\n    const getAnchorRectProp = useEvent(getAnchorRect);\n    const updatePositionProp = useEvent(updatePosition);\n    const hasCustomUpdatePosition = !!updatePosition;\n    useSafeLayoutEffect(() => {\n      if (!(popoverElement == null ? void 0 : popoverElement.isConnected))\n        return;\n      popoverElement.style.setProperty(\n        \"--popover-overflow-padding\",\n        `${overflowPadding}px`\n      );\n      const anchor = getAnchorElement(anchorElement, getAnchorRectProp);\n      const updatePosition2 = async () => {\n        if (!mounted)\n          return;\n        const middleware = [\n          getOffsetMiddleware(arrowElement, { gutter, shift: shift2 }),\n          getFlipMiddleware({ flip: flip2, overflowPadding }),\n          getShiftMiddleware({ slide, overlap, overflowPadding }),\n          getArrowMiddleware(arrowElement, { arrowPadding }),\n          getSizeMiddleware({\n            sameWidth,\n            fitViewport,\n            overflowPadding\n          })\n        ];\n        const pos = await computePosition(anchor, popoverElement, {\n          placement,\n          strategy: fixed ? \"fixed\" : \"absolute\",\n          middleware\n        });\n        store.setState(\"currentPlacement\", pos.placement);\n        setPositioned(true);\n        const x = roundByDPR(pos.x);\n        const y = roundByDPR(pos.y);\n        Object.assign(popoverElement.style, {\n          top: \"0\",\n          left: \"0\",\n          transform: `translate3d(${x}px,${y}px,0)`\n        });\n        if (arrowElement && pos.middlewareData.arrow) {\n          const { x: arrowX, y: arrowY } = pos.middlewareData.arrow;\n          const dir = pos.placement.split(\"-\")[0];\n          Object.assign(arrowElement.style, {\n            left: arrowX != null ? `${arrowX}px` : \"\",\n            top: arrowY != null ? `${arrowY}px` : \"\",\n            [dir]: \"100%\"\n          });\n        }\n      };\n      const update = async () => {\n        if (hasCustomUpdatePosition) {\n          await updatePositionProp({ updatePosition: updatePosition2 });\n          setPositioned(true);\n        } else {\n          await updatePosition2();\n        }\n      };\n      const cancelAutoUpdate = autoUpdate(anchor, popoverElement, update, {\n        // JSDOM doesn't support ResizeObserver\n        elementResize: typeof ResizeObserver === \"function\"\n      });\n      return () => {\n        setPositioned(false);\n        cancelAutoUpdate();\n      };\n    }, [\n      store,\n      rendered,\n      popoverElement,\n      arrowElement,\n      anchorElement,\n      popoverElement,\n      placement,\n      mounted,\n      domReady,\n      fixed,\n      flip2,\n      shift2,\n      slide,\n      overlap,\n      sameWidth,\n      fitViewport,\n      gutter,\n      arrowPadding,\n      overflowPadding,\n      getAnchorRectProp,\n      hasCustomUpdatePosition,\n      updatePositionProp\n    ]);\n    useSafeLayoutEffect(() => {\n      if (!mounted)\n        return;\n      if (!domReady)\n        return;\n      if (!(popoverElement == null ? void 0 : popoverElement.isConnected))\n        return;\n      if (!(contentElement == null ? void 0 : contentElement.isConnected))\n        return;\n      const applyZIndex = () => {\n        popoverElement.style.zIndex = getComputedStyle(contentElement).zIndex;\n      };\n      applyZIndex();\n      let raf = requestAnimationFrame(() => {\n        raf = requestAnimationFrame(applyZIndex);\n      });\n      return () => cancelAnimationFrame(raf);\n    }, [mounted, domReady, popoverElement, contentElement]);\n    const position = fixed ? \"fixed\" : \"absolute\";\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(\n        \"div\",\n        __spreadProps(__spreadValues({\n          role: \"presentation\"\n        }, wrapperProps), {\n          style: __spreadValues({\n            // https://floating-ui.com/docs/computeposition#initial-layout\n            position,\n            top: 0,\n            left: 0,\n            width: \"max-content\"\n          }, wrapperProps == null ? void 0 : wrapperProps.style),\n          ref: store.setPopoverElement,\n          children: element\n        })\n      ),\n      [store, position, wrapperProps]\n    );\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(PopoverContext.Provider, { value: store, children: element }),\n      [store]\n    );\n    props = __spreadProps(__spreadValues({\n      // data-placing is not part of the public API. We're setting this here so\n      // we can wait for the popover to be positioned before other components\n      // move focus into it. For example, this attribute is observed by the\n      // Combobox component with the autoSelect behavior.\n      \"data-placing\": !positioned ? \"\" : void 0\n    }, props), {\n      style: __spreadValues({\n        position: \"relative\"\n      }, props.style)\n    });\n    props = useDialog(__spreadProps(__spreadValues({\n      store,\n      modal,\n      preserveTabOrder,\n      portal,\n      autoFocusOnShow: positioned && autoFocusOnShow\n    }, props), {\n      portalRef\n    }));\n    return props;\n  }\n);\nvar Popover = createComponent((props) => {\n  const htmlProps = usePopover(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n}\n\nexport {\n  usePopover,\n  Popover\n};\n","import {\n  getElementPolygon,\n  getEventPoint,\n  isPointInPolygon\n} from \"./X7FKJQME.js\";\nimport {\n  usePopover\n} from \"./CU3AKJBN.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"./NQJBHION.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useLiveRef,\n  useMergeRefs,\n  usePortalRef,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./J7Q2EO23.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./PNRLI7OV.js\";\n\n// src/hovercard/hovercard.tsx\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState\n} from \"react\";\nimport { contains } from \"@ariakit/core/utils/dom\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nimport { hasFocusWithin } from \"@ariakit/core/utils/focus\";\nimport { chain, isFalsyBooleanCallback } from \"@ariakit/core/utils/misc\";\nimport { sync } from \"@ariakit/core/utils/store\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction isMovingOnHovercard(target, card, anchor, nested) {\n  if (hasFocusWithin(card))\n    return true;\n  if (!target)\n    return false;\n  if (contains(card, target))\n    return true;\n  if (anchor && contains(anchor, target))\n    return true;\n  if (nested == null ? void 0 : nested.some((card2) => isMovingOnHovercard(target, card2, anchor))) {\n    return true;\n  }\n  return false;\n}\nfunction useAutoFocusOnShow(_a) {\n  var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n  const open = store.useState(\"open\");\n  const openRef = useLiveRef(open);\n  useEffect(() => {\n    if (!open) {\n      store.setAutoFocusOnShow(false);\n    }\n  }, [open, store]);\n  useEffect(\n    () => () => {\n      if (!openRef.current) {\n        store.setAutoFocusOnShow(false);\n      }\n    },\n    [store]\n  );\n  const modal = !!props.modal;\n  const autoFocusOnShow = store.useState(\n    (state) => modal || state.autoFocusOnShow\n  );\n  return __spreadValues({ autoFocusOnShow }, props);\n}\nfunction useAutoFocusOnHide(_a) {\n  var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n  const [autoFocusOnHide, setAutoFocusOnHide] = useState(false);\n  const mounted = store.useState(\"mounted\");\n  useEffect(() => {\n    if (!mounted) {\n      setAutoFocusOnHide(false);\n    }\n  }, [mounted]);\n  const onFocusProp = props.onFocus;\n  const onFocus = useEvent((event) => {\n    onFocusProp == null ? void 0 : onFocusProp(event);\n    if (event.defaultPrevented)\n      return;\n    setAutoFocusOnHide(true);\n  });\n  const finalFocusRef = useRef(null);\n  useEffect(() => {\n    return sync(store, [\"anchorElement\"], (state) => {\n      finalFocusRef.current = state.anchorElement;\n    });\n  }, []);\n  props = __spreadProps(__spreadValues({\n    autoFocusOnHide,\n    finalFocus: finalFocusRef\n  }, props), {\n    onFocus\n  });\n  return props;\n}\nvar NestedHovercardContext = createContext(null);\nvar useHovercard = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      modal = false,\n      portal = !!modal,\n      hideOnEscape = true,\n      hideOnHoverOutside = true,\n      disablePointerEventsOnApproach = !!hideOnHoverOutside\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"modal\",\n      \"portal\",\n      \"hideOnEscape\",\n      \"hideOnHoverOutside\",\n      \"disablePointerEventsOnApproach\"\n    ]);\n    const ref = useRef(null);\n    const [nestedHovercards, setNestedHovercards] = useState([]);\n    const hideTimeoutRef = useRef(0);\n    const enterPointRef = useRef(null);\n    const { portalRef, domReady } = usePortalRef(portal, props.portalRef);\n    const mayHideOnHoverOutside = !!hideOnHoverOutside;\n    const hideOnHoverOutsideProp = useBooleanEvent(hideOnHoverOutside);\n    const mayDisablePointerEvents = !!disablePointerEventsOnApproach;\n    const disablePointerEventsProp = useBooleanEvent(\n      disablePointerEventsOnApproach\n    );\n    const mounted = store.useState(\"mounted\");\n    useEffect(() => {\n      if (!domReady)\n        return;\n      if (!mounted)\n        return;\n      if (!mayHideOnHoverOutside && !mayDisablePointerEvents)\n        return;\n      const element = ref.current;\n      if (!element)\n        return;\n      const onMouseMove = (event) => {\n        const { anchorElement, hideTimeout, timeout } = store.getState();\n        const enterPoint = enterPointRef.current;\n        const target = event.target;\n        const anchor = anchorElement;\n        if (isMovingOnHovercard(target, element, anchor, nestedHovercards)) {\n          enterPointRef.current = target && anchor && contains(anchor, target) ? getEventPoint(event) : null;\n          window.clearTimeout(hideTimeoutRef.current);\n          hideTimeoutRef.current = 0;\n          return;\n        }\n        if (hideTimeoutRef.current)\n          return;\n        if (enterPoint) {\n          const currentPoint = getEventPoint(event);\n          const polygon = getElementPolygon(element, enterPoint);\n          if (isPointInPolygon(currentPoint, polygon)) {\n            enterPointRef.current = currentPoint;\n            if (!disablePointerEventsProp(event))\n              return;\n            event.preventDefault();\n            event.stopPropagation();\n            return;\n          }\n        }\n        if (!hideOnHoverOutsideProp(event))\n          return;\n        hideTimeoutRef.current = window.setTimeout(() => {\n          hideTimeoutRef.current = 0;\n          store.hide();\n        }, hideTimeout != null ? hideTimeout : timeout);\n      };\n      return chain(\n        addGlobalEventListener(\"mousemove\", onMouseMove, true),\n        () => clearTimeout(hideTimeoutRef.current)\n      );\n    }, [\n      store,\n      domReady,\n      mounted,\n      mayHideOnHoverOutside,\n      mayDisablePointerEvents,\n      nestedHovercards,\n      disablePointerEventsProp,\n      hideOnHoverOutsideProp\n    ]);\n    useEffect(() => {\n      if (!domReady)\n        return;\n      if (!mounted)\n        return;\n      if (!mayDisablePointerEvents)\n        return;\n      const disableEvent = (event) => {\n        const element = ref.current;\n        if (!element)\n          return;\n        const enterPoint = enterPointRef.current;\n        if (!enterPoint)\n          return;\n        const polygon = getElementPolygon(element, enterPoint);\n        if (isPointInPolygon(getEventPoint(event), polygon)) {\n          if (!disablePointerEventsProp(event))\n            return;\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n      return chain(\n        // Note: we may need to add pointer events here in the future.\n        addGlobalEventListener(\"mouseenter\", disableEvent, true),\n        addGlobalEventListener(\"mouseover\", disableEvent, true),\n        addGlobalEventListener(\"mouseout\", disableEvent, true),\n        addGlobalEventListener(\"mouseleave\", disableEvent, true)\n      );\n    }, [domReady, mounted, mayDisablePointerEvents, disablePointerEventsProp]);\n    const registerOnParent = useContext(NestedHovercardContext);\n    useSafeLayoutEffect(() => {\n      if (modal)\n        return;\n      if (!portal)\n        return;\n      if (!mounted)\n        return;\n      if (!domReady)\n        return;\n      const element = ref.current;\n      if (!element)\n        return;\n      return registerOnParent == null ? void 0 : registerOnParent(element);\n    }, [modal, portal, mounted, domReady]);\n    const registerNestedHovercard = useCallback(\n      (element) => {\n        setNestedHovercards((prevElements) => [...prevElements, element]);\n        const parentUnregister = registerOnParent == null ? void 0 : registerOnParent(element);\n        return () => {\n          setNestedHovercards(\n            (prevElements) => prevElements.filter((item) => item !== element)\n          );\n          parentUnregister == null ? void 0 : parentUnregister();\n        };\n      },\n      [registerOnParent]\n    );\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(NestedHovercardContext.Provider, { value: registerNestedHovercard, children: element }),\n      [registerNestedHovercard]\n    );\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref)\n    });\n    props = useAutoFocusOnHide(__spreadValues({ store }, props));\n    props = useAutoFocusOnShow(__spreadValues({ store, modal }, props));\n    props = usePopover(__spreadProps(__spreadValues({\n      store,\n      modal,\n      portal\n    }, props), {\n      portalRef,\n      hideOnEscape(event) {\n        if (isFalsyBooleanCallback(hideOnEscape, event))\n          return false;\n        requestAnimationFrame(() => requestAnimationFrame(store.hide));\n        return true;\n      }\n    }));\n    return props;\n  }\n);\nvar Hovercard = createComponent((props) => {\n  const htmlProps = useHovercard(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Hovercard.displayName = \"Hovercard\";\n}\n\nexport {\n  useHovercard,\n  Hovercard\n};\n","import {\n  useMenuList\n} from \"../__chunks/6F6CCCKT.js\";\nimport {\n  MenuBarContext,\n  MenuContext\n} from \"../__chunks/HVBRRKV4.js\";\nimport \"../__chunks/F4XABKPL.js\";\nimport \"../__chunks/AAVDGJD5.js\";\nimport \"../__chunks/OXPV2NBK.js\";\nimport \"../__chunks/WJ37OVG2.js\";\nimport {\n  useHovercard\n} from \"../__chunks/ORZC42PG.js\";\nimport \"../__chunks/X7FKJQME.js\";\nimport \"../__chunks/CU3AKJBN.js\";\nimport \"../__chunks/TG7IDXTX.js\";\nimport \"../__chunks/432NLB7J.js\";\nimport \"../__chunks/NHPU54IO.js\";\nimport \"../__chunks/GDORSOK6.js\";\nimport \"../__chunks/3LAWLNOX.js\";\nimport \"../__chunks/CJI67A3R.js\";\nimport \"../__chunks/PLOINBVB.js\";\nimport \"../__chunks/E5XSMSHD.js\";\nimport \"../__chunks/LEBYH5FW.js\";\nimport \"../__chunks/IXXFVVA2.js\";\nimport \"../__chunks/7JNF6I52.js\";\nimport \"../__chunks/KOVUJERF.js\";\nimport \"../__chunks/62DFK33R.js\";\nimport \"../__chunks/FW6QFGFT.js\";\nimport \"../__chunks/IYNN2ZO5.js\";\nimport \"../__chunks/5M4ITSXL.js\";\nimport \"../__chunks/6OMX4H3W.js\";\nimport \"../__chunks/LL3AE4N4.js\";\nimport \"../__chunks/EJ3GIT5B.js\";\nimport \"../__chunks/LDDPB3PY.js\";\nimport \"../__chunks/COQHFAEN.js\";\nimport \"../__chunks/LNHZLQEK.js\";\nimport \"../__chunks/M5I7AM4N.js\";\nimport \"../__chunks/WHEEIXMF.js\";\nimport \"../__chunks/6GS36SYX.js\";\nimport \"../__chunks/MYID4V27.js\";\nimport \"../__chunks/BMLNRUFQ.js\";\nimport \"../__chunks/FL2AU7YJ.js\";\nimport {\n  createComponent,\n  createElement,\n  createHook\n} from \"../__chunks/NQJBHION.js\";\nimport \"../__chunks/F6PEGR7W.js\";\nimport \"../__chunks/QPTZ2G2N.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useMergeRefs\n} from \"../__chunks/J7Q2EO23.js\";\nimport \"../__chunks/CP3U4HPL.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/PNRLI7OV.js\";\n\n// src/menu/menu.ts\nimport { createRef, useContext, useEffect, useRef, useState } from \"react\";\nimport { hasFocusWithin } from \"@ariakit/core/utils/focus\";\nvar useMenu = createHook(\n  (_a) => {\n    var _b = _a, {\n      store,\n      hideOnEscape = true,\n      autoFocusOnShow = true,\n      hideOnHoverOutside,\n      alwaysVisible\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"hideOnEscape\",\n      \"autoFocusOnShow\",\n      \"hideOnHoverOutside\",\n      \"alwaysVisible\"\n    ]);\n    const ref = useRef(null);\n    const parentMenu = useContext(MenuContext);\n    const parentMenuBar = useContext(MenuBarContext);\n    const hasParentMenu = !!parentMenu;\n    const parentIsMenuBar = !!parentMenuBar && !hasParentMenu;\n    const onKeyDownProp = props.onKeyDown;\n    const hideOnEscapeProp = useBooleanEvent(hideOnEscape);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented)\n        return;\n      if (event.key === \"Escape\") {\n        if (!hideOnEscapeProp(event))\n          return;\n        if (!hasParentMenu) {\n          event.stopPropagation();\n        }\n        return store.hide();\n      }\n    });\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onKeyDown\n    });\n    const _a2 = useMenuList(\n      __spreadValues({ store, alwaysVisible }, props)\n    ), { \"aria-labelledby\": ariaLabelledBy } = _a2, menuListProps = __objRest(_a2, [\"aria-labelledby\"]);\n    props = menuListProps;\n    const [initialFocusRef, setInitialFocusRef] = useState();\n    const autoFocusOnShowState = store.useState(\"autoFocusOnShow\");\n    const initialFocus = store.useState(\"initialFocus\");\n    const baseElement = store.useState(\"baseElement\");\n    const items = store.useState(\"renderedItems\");\n    useEffect(() => {\n      let cleaning = false;\n      setInitialFocusRef((prevInitialFocusRef) => {\n        var _a3, _b2, _c;\n        if (cleaning)\n          return;\n        if (!autoFocusOnShowState)\n          return;\n        if ((_a3 = prevInitialFocusRef == null ? void 0 : prevInitialFocusRef.current) == null ? void 0 : _a3.isConnected)\n          return prevInitialFocusRef;\n        const ref2 = createRef();\n        switch (initialFocus) {\n          case \"first\":\n            ref2.current = ((_b2 = items.find((item) => !item.disabled && item.element)) == null ? void 0 : _b2.element) || null;\n            break;\n          case \"last\":\n            ref2.current = ((_c = [...items].reverse().find((item) => !item.disabled && item.element)) == null ? void 0 : _c.element) || null;\n            break;\n          default:\n            ref2.current = baseElement;\n        }\n        if (!ref2.current)\n          return;\n        return ref2;\n      });\n      return () => {\n        cleaning = true;\n      };\n    }, [store, autoFocusOnShowState, initialFocus, items, baseElement]);\n    const mayAutoFocusOnShow = !!autoFocusOnShow;\n    const canAutoFocusOnShow = !!initialFocusRef || !!props.initialFocus || !!props.modal;\n    props = useHovercard(__spreadProps(__spreadValues({\n      store,\n      alwaysVisible,\n      initialFocus: initialFocusRef,\n      autoFocusOnShow: mayAutoFocusOnShow ? canAutoFocusOnShow && autoFocusOnShow : autoFocusOnShowState || !!props.modal\n    }, props), {\n      hideOnHoverOutside: (event) => {\n        if (typeof hideOnHoverOutside === \"function\") {\n          return hideOnHoverOutside(event);\n        }\n        if (hideOnHoverOutside != null)\n          return hideOnHoverOutside;\n        if (hasParentMenu) {\n          parentMenu.setActiveId(null);\n          return true;\n        }\n        if (!parentIsMenuBar)\n          return false;\n        const { disclosureElement } = store.getState();\n        const disclosure = disclosureElement;\n        if (!disclosure)\n          return true;\n        if (hasFocusWithin(disclosure))\n          return false;\n        return true;\n      },\n      // If it's a submenu, it shouldn't behave like a modal dialog, nor display\n      // a backdrop.\n      modal: hasParentMenu ? false : props.modal,\n      backdrop: hasParentMenu ? false : props.backdrop,\n      // If it's a submenu, hide on esc will be handled differently. That is,\n      // event.stopPropagation() won't be called, so the parent menus will also\n      // be closed.\n      hideOnEscape: hasParentMenu ? false : hideOnEscape\n    }));\n    props = __spreadValues({\n      \"aria-labelledby\": ariaLabelledBy\n    }, props);\n    return props;\n  }\n);\nvar Menu = createComponent((props) => {\n  const htmlProps = useMenu(props);\n  return createElement(\"div\", htmlProps);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Menu.displayName = \"Menu\";\n}\nexport {\n  Menu,\n  useMenu\n};\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import * as React from 'react';\nimport { useId, useRef, useInsertionEffect } from 'react';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                allChildren.delete(key);\n                exitingChildren.delete(key);\n                // Remove this child from the present children\n                const removeIndex = presentChildren.current.findIndex((presentChild) => presentChild.key === key);\n                presentChildren.current.splice(removeIndex, 1);\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    presentChildren.current = filteredChildren;\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import * as React from 'react';\nimport { useContext, useMemo } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { loadExternalIsValidProp } from '../../render/dom/utils/filter-props.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\n\n/**\n * `MotionConfig` is used to set configuration options for all children `motion` components.\n *\n * ```jsx\n * import { motion, MotionConfig } from \"framer-motion\"\n *\n * export function App() {\n *   return (\n *     <MotionConfig transition={{ type: \"spring\" }}>\n *       <motion.div animate={{ x: 100 }} />\n *     </MotionConfig>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction MotionConfig({ children, isValidProp, ...config }) {\n    isValidProp && loadExternalIsValidProp(isValidProp);\n    /**\n     * Inherit props from any parent MotionConfig components\n     */\n    config = { ...useContext(MotionConfigContext), ...config };\n    /**\n     * Don't allow isStatic to change between renders as it affects how many hooks\n     * motion components fire.\n     */\n    config.isStatic = useConstant(() => config.isStatic);\n    /**\n     * Creating a new config context object will re-render every `motion` component\n     * every time it renders. So we only want to create a new one sparingly.\n     */\n    const context = useMemo(() => config, [JSON.stringify(config.transition), config.transformPagePoint, config.reducedMotion]);\n    return (React.createElement(MotionConfigContext.Provider, { value: context }, children));\n}\n\nexport { MotionConfig };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","import { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"prepare\",\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => steps[stepId].process(state);\n    const processBatch = () => {\n        const timestamp = performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","function createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two arrays, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let toRun = [];\n    let toRunNextFrame = [];\n    /**\n     *\n     */\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            // If the buffer doesn't already contain this callback, add it\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                // If we're adding it to the currently running buffer, update its measured size\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            const index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [toRun, toRunNextFrame] = [toRunNextFrame, toRun];\n            // Clear the next frame list\n            toRunNextFrame.length = 0;\n            // Execute this frame\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function isAnimationControls(v) {\n    return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const canHandoff = useRef(Boolean(window.HandoffAppearAnimations));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.render();\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (canHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!canHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        /**\n         * Once we've handed off animations we can delete HandoffAppearAnimations\n         * so components added after the initial render can animate changes\n         * in useEffect vs useLayoutEffect.\n         */\n        window.HandoffAppearAnimations = undefined;\n        canHandoff.current = false;\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst isCSSVariableToken = checkStringStartsWith(\"var(--\");\nconst cssVariableRegex = /var\\s*\\(\\s*--[\\w-]+(\\s*,\\s*(?:(?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)+)?\\s*\\)/g;\n\nexport { cssVariableRegex, isCSSVariableName, isCSSVariableToken };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return props.transformValues ? props.transformValues(style) : style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = {\n            ...filteredProps,\n            ...visualProps,\n            ref,\n        };\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.type === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            frame.update(() => props[callbackName](event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            this.removeEndListeners();\n            if (this.isPressing)\n                return;\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel } = this.node.getProps();\n                frame.update(() => {\n                    /**\n                     * We only count this as a tap gesture if the event.target is the same\n                     * as, or a child of, this component's element\n                     */\n                    !isNodeOrChild(this.node.current, endEvent.target)\n                        ? onTapCancel && onTapCancel(endEvent, endInfo)\n                        : onTap && onTap(endEvent, endInfo);\n                });\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.update(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.update(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.update(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gaëtan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circOut);\n\nexport { circIn, circInOut, circOut };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { invariant } from './errors.mjs';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\nimport { hex } from '../value/types/color/hex.mjs';\nimport { rgba } from '../value/types/color/rgba.mjs';\nimport { hsla } from '../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    return Math.sqrt(Math.max(0, v * (to * to - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mix(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { cssVariableRegex } from '../../../render/dom/utils/is-css-variable.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { colorRegex, floatRegex, isString, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst cssVarTokeniser = {\n    regex: cssVariableRegex,\n    countKey: \"Vars\",\n    token: \"${v}\",\n    parse: noop,\n};\nconst colorTokeniser = {\n    regex: colorRegex,\n    countKey: \"Colors\",\n    token: \"${c}\",\n    parse: color.parse,\n};\nconst numberTokeniser = {\n    regex: floatRegex,\n    countKey: \"Numbers\",\n    token: \"${n}\",\n    parse: number.parse,\n};\nfunction tokenise(info, { regex, countKey, token, parse }) {\n    const matches = info.tokenised.match(regex);\n    if (!matches)\n        return;\n    info[\"num\" + countKey] = matches.length;\n    info.tokenised = info.tokenised.replace(regex, token);\n    info.values.push(...matches.map(parse));\n}\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const info = {\n        value: originalValue,\n        tokenised: originalValue,\n        values: [],\n        numVars: 0,\n        numColors: 0,\n        numNumbers: 0,\n    };\n    if (info.value.includes(\"var(--\"))\n        tokenise(info, cssVarTokeniser);\n    tokenise(info, colorTokeniser);\n    tokenise(info, numberTokeniser);\n    return info;\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { values, numColors, numVars, tokenised } = analyseComplexValue(source);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            if (i < numVars) {\n                output = output.replace(cssVarTokeniser.token, v[i]);\n            }\n            else if (i < numVars + numColors) {\n                output = output.replace(colorTokeniser.token, color.transform(v[i]));\n            }\n            else {\n                output = output.replace(numberTokeniser.token, sanitize(v[i]));\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../value/types/complex/index.mjs';\n\nconst mixImmediate = (origin, target) => (p) => `${p > 0 ? target : origin}`;\nfunction getMixer(origin, target) {\n    if (typeof origin === \"number\") {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return origin.startsWith(\"var(\")\n            ? mixImmediate(origin, target)\n            : mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = { ...origin, ...target };\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.numVars === targetStats.numVars &&\n        originStats.numColors === targetStats.numColors &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.values, targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { invariant } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof v === \"string\") {\n        return color.test(v) ? mixColor : mixComplex;\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === \"object\") {\n        return mixObject;\n    }\n    return mixNumber;\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { mix } from '../mix.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            velocity: 0.0,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, velocity, duration, isResolvedFromDuration, } = getSpringOptions(options);\n    const initialVelocity = velocity ? -millisecondsToSeconds(velocity) : 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t > timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => frameData.isProcessing ? frameData.timestamp : performance.now(),\n    };\n};\n\nexport { frameloopDriver };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { keyframes } from '../../generators/keyframes.mjs';\nimport { spring } from '../../generators/spring/index.mjs';\nimport { inertia } from '../../generators/inertia.mjs';\nimport { frameloopDriver } from './driver-frameloop.mjs';\nimport { interpolate } from '../../../utils/interpolate.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../generators/utils/calc-duration.mjs';\n\nconst types = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\n/**\n * Animate a single value on the main thread.\n *\n * This function is written, where functionality overlaps,\n * to be largely spec-compliant with WAAPI to allow fungibility\n * between the two.\n */\nfunction animateValue({ autoplay = true, delay = 0, driver = frameloopDriver, keyframes: keyframes$1, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", onPlay, onStop, onComplete, onUpdate, ...options }) {\n    let speed = 1;\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let animationDriver;\n    const generatorFactory = types[type] || keyframes;\n    /**\n     * If this isn't the keyframes generator and we've been provided\n     * strings as keyframes, we need to interpolate these.\n     * TODO: Support velocity for units and complex value types/\n     */\n    let mapNumbersToKeyframes;\n    if (generatorFactory !== keyframes &&\n        typeof keyframes$1[0] !== \"number\") {\n        mapNumbersToKeyframes = interpolate([0, 100], keyframes$1, {\n            clamp: false,\n        });\n        keyframes$1 = [0, 100];\n    }\n    const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n    let mirroredGenerator;\n    if (repeatType === \"mirror\") {\n        mirroredGenerator = generatorFactory({\n            ...options,\n            keyframes: [...keyframes$1].reverse(),\n            velocity: -(options.velocity || 0),\n        });\n    }\n    let playState = \"idle\";\n    let holdTime = null;\n    let startTime = null;\n    let cancelTime = null;\n    /**\n     * If duration is undefined and we have repeat options,\n     * we need to calculate a duration from the generator.\n     *\n     * We set it to the generator itself to cache the duration.\n     * Any timeline resolver will need to have already precalculated\n     * the duration by this step.\n     */\n    if (generator.calculatedDuration === null && repeat) {\n        generator.calculatedDuration = calcGeneratorDuration(generator);\n    }\n    const { calculatedDuration } = generator;\n    let resolvedDuration = Infinity;\n    let totalDuration = Infinity;\n    if (calculatedDuration !== null) {\n        resolvedDuration = calculatedDuration + repeatDelay;\n        totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n    }\n    let currentTime = 0;\n    const tick = (timestamp) => {\n        if (startTime === null)\n            return;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (speed > 0)\n            startTime = Math.min(startTime, timestamp);\n        if (speed < 0)\n            startTime = Math.min(timestamp - totalDuration / speed, startTime);\n        if (holdTime !== null) {\n            currentTime = holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            currentTime = Math.round(timestamp - startTime) * speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = currentTime - delay * (speed >= 0 ? 1 : -1);\n        const isInDelayPhase = speed >= 0 ? timeWithoutDelay < 0 : timeWithoutDelay > totalDuration;\n        currentTime = Math.max(timeWithoutDelay, 0);\n        /**\n         * If this animation has finished, set the current time\n         * to the total duration.\n         */\n        if (playState === \"finished\" && holdTime === null) {\n            currentTime = totalDuration;\n        }\n        let elapsed = currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = currentTime / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const iterationIsOdd = Boolean(currentIteration % 2);\n            if (iterationIsOdd) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            let p = clamp(0, 1, iterationProgress);\n            if (currentTime > totalDuration) {\n                p = repeatType === \"reverse\" && iterationIsOdd ? 1 : 0;\n            }\n            elapsed = p * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes$1[0] }\n            : frameGenerator.next(elapsed);\n        if (mapNumbersToKeyframes) {\n            state.value = mapNumbersToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done = speed >= 0 ? currentTime >= totalDuration : currentTime <= 0;\n        }\n        const isAnimationFinished = holdTime === null &&\n            (playState === \"finished\" || (playState === \"running\" && done));\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            finish();\n        }\n        return state;\n    };\n    const stopAnimationDriver = () => {\n        animationDriver && animationDriver.stop();\n        animationDriver = undefined;\n    };\n    const cancel = () => {\n        playState = \"idle\";\n        stopAnimationDriver();\n        resolveFinishedPromise();\n        updateFinishedPromise();\n        startTime = cancelTime = null;\n    };\n    const finish = () => {\n        playState = \"finished\";\n        onComplete && onComplete();\n        stopAnimationDriver();\n        resolveFinishedPromise();\n    };\n    const play = () => {\n        if (hasStopped)\n            return;\n        if (!animationDriver)\n            animationDriver = driver(tick);\n        const now = animationDriver.now();\n        onPlay && onPlay();\n        if (holdTime !== null) {\n            startTime = now - holdTime;\n        }\n        else if (!startTime || playState === \"finished\") {\n            startTime = now;\n        }\n        if (playState === \"finished\") {\n            updateFinishedPromise();\n        }\n        cancelTime = startTime;\n        holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        playState = \"running\";\n        animationDriver.start();\n    };\n    if (autoplay) {\n        play();\n    }\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        get time() {\n            return millisecondsToSeconds(currentTime);\n        },\n        set time(newTime) {\n            newTime = secondsToMilliseconds(newTime);\n            currentTime = newTime;\n            if (holdTime !== null || !animationDriver || speed === 0) {\n                holdTime = newTime;\n            }\n            else {\n                startTime = animationDriver.now() - newTime / speed;\n            }\n        },\n        get duration() {\n            const duration = generator.calculatedDuration === null\n                ? calcGeneratorDuration(generator)\n                : generator.calculatedDuration;\n            return millisecondsToSeconds(duration);\n        },\n        get speed() {\n            return speed;\n        },\n        set speed(newSpeed) {\n            if (newSpeed === speed || !animationDriver)\n                return;\n            speed = newSpeed;\n            controls.time = millisecondsToSeconds(currentTime);\n        },\n        get state() {\n            return playState;\n        },\n        play,\n        pause: () => {\n            playState = \"paused\";\n            holdTime = currentTime;\n        },\n        stop: () => {\n            hasStopped = true;\n            if (playState === \"idle\")\n                return;\n            playState = \"idle\";\n            onStop && onStop();\n            cancel();\n        },\n        cancel: () => {\n            if (cancelTime !== null)\n                tick(cancelTime);\n            cancel();\n        },\n        complete: () => {\n            playState = \"finished\";\n        },\n        sample: (elapsed) => {\n            startTime = 0;\n            return tick(elapsed);\n        },\n    };\n    return controls;\n}\n\nexport { animateValue };\n","import { animateStyle } from './index.mjs';\nimport { isWaapiSupportedEasing } from './easing.mjs';\nimport { getFinalKeyframe } from './utils/get-final-keyframe.mjs';\nimport { animateValue } from '../js/index.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { memo } from '../../../utils/memo.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    \"backgroundColor\",\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\nconst requiresPregeneratedKeyframes = (valueName, options) => options.type === \"spring\" ||\n    valueName === \"backgroundColor\" ||\n    !isWaapiSupportedEasing(options.ease);\nfunction createAcceleratedAnimation(value, valueName, { onUpdate, onComplete, ...options }) {\n    const canAccelerateAnimation = supportsWaapi() &&\n        acceleratedValues.has(valueName) &&\n        !options.repeatDelay &&\n        options.repeatType !== \"mirror\" &&\n        options.damping !== 0 &&\n        options.type !== \"inertia\";\n    if (!canAccelerateAnimation)\n        return false;\n    /**\n     * TODO: Unify with js/index\n     */\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let { keyframes, duration = 300, ease, times } = options;\n    /**\n     * If this animation needs pre-generated keyframes then generate.\n     */\n    if (requiresPregeneratedKeyframes(valueName, options)) {\n        const sampleAnimation = animateValue({\n            ...options,\n            repeat: 0,\n            delay: 0,\n        });\n        let state = { done: false, value: keyframes[0] };\n        const pregeneratedKeyframes = [];\n        /**\n         * Bail after 20 seconds of pre-generated keyframes as it's likely\n         * we're heading for an infinite loop.\n         */\n        let t = 0;\n        while (!state.done && t < maxDuration) {\n            state = sampleAnimation.sample(t);\n            pregeneratedKeyframes.push(state.value);\n            t += sampleDelta;\n        }\n        times = undefined;\n        keyframes = pregeneratedKeyframes;\n        duration = t - sampleDelta;\n        ease = \"linear\";\n    }\n    const animation = animateStyle(value.owner.current, valueName, keyframes, {\n        ...options,\n        duration,\n        /**\n         * This function is currently not called if ease is provided\n         * as a function so the cast is safe.\n         *\n         * However it would be possible for a future refinement to port\n         * in easing pregeneration from Motion One for browsers that\n         * support the upcoming `linear()` easing function.\n         */\n        ease: ease,\n        times,\n    });\n    const cancelAnimation = () => animation.cancel();\n    const safeCancel = () => {\n        frame.update(cancelAnimation);\n        resolveFinishedPromise();\n        updateFinishedPromise();\n    };\n    /**\n     * Prefer the `onfinish` prop as it's more widely supported than\n     * the `finished` promise.\n     *\n     * Here, we synchronously set the provided MotionValue to the end\n     * keyframe. If we didn't, when the WAAPI animation is finished it would\n     * be removed from the element which would then revert to its old styles.\n     */\n    animation.onfinish = () => {\n        value.set(getFinalKeyframe(keyframes, options));\n        onComplete && onComplete();\n        safeCancel();\n    };\n    /**\n     * Animation interrupt callback.\n     */\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        attachTimeline(timeline) {\n            animation.timeline = timeline;\n            animation.onfinish = null;\n            return noop;\n        },\n        get time() {\n            return millisecondsToSeconds(animation.currentTime || 0);\n        },\n        set time(newTime) {\n            animation.currentTime = secondsToMilliseconds(newTime);\n        },\n        get speed() {\n            return animation.playbackRate;\n        },\n        set speed(newSpeed) {\n            animation.playbackRate = newSpeed;\n        },\n        get duration() {\n            return millisecondsToSeconds(duration);\n        },\n        play: () => {\n            if (hasStopped)\n                return;\n            animation.play();\n            /**\n             * Cancel any pending cancel tasks\n             */\n            cancelFrame(cancelAnimation);\n        },\n        pause: () => animation.pause(),\n        stop: () => {\n            hasStopped = true;\n            if (animation.playState === \"idle\")\n                return;\n            /**\n             * WAAPI doesn't natively have any interruption capabilities.\n             *\n             * Rather than read commited styles back out of the DOM, we can\n             * create a renderless JS animation and sample it twice to calculate\n             * its current value, \"previous\" value, and therefore allow\n             * Motion to calculate velocity for any subsequent animation.\n             */\n            const { currentTime } = animation;\n            if (currentTime) {\n                const sampleAnimation = animateValue({\n                    ...options,\n                    autoplay: false,\n                });\n                value.setWithVelocity(sampleAnimation.sample(currentTime - sampleDelta).value, sampleAnimation.sample(currentTime).value, sampleDelta);\n            }\n            safeCancel();\n        },\n        complete: () => animation.finish(),\n        cancel: safeCancel,\n    };\n    return controls;\n}\n\nexport { createAcceleratedAnimation };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","function getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }) {\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : keyframes.length - 1;\n    return keyframes[index];\n}\n\nexport { getFinalKeyframe };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/.test(v);\n\nexport { isZeroValueString };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n}\n\nexport { isNone };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","import { warning } from '../../utils/errors.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { createAcceleratedAnimation } from '../animators/waapi/create-accelerated-animation.mjs';\nimport { createInstantAnimation } from '../animators/instant.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isAnimatable } from '../utils/is-animatable.mjs';\nimport { getKeyframes } from '../utils/keyframes.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { animateValue } from '../animators/js/index.mjs';\n\nconst animateMotionValue = (valueName, value, target, transition = {}) => {\n    return (onComplete) => {\n        const valueTransition = getValueTransition(transition, valueName) || {};\n        /**\n         * Most transition values are currently completely overwritten by value-specific\n         * transitions. In the future it'd be nicer to blend these transitions. But for now\n         * delay actually does inherit from the root transition if not value-specific.\n         */\n        const delay = valueTransition.delay || transition.delay || 0;\n        /**\n         * Elapsed isn't a public transition option but can be passed through from\n         * optimized appear effects in milliseconds.\n         */\n        let { elapsed = 0 } = transition;\n        elapsed = elapsed - secondsToMilliseconds(delay);\n        const keyframes = getKeyframes(value, valueName, target, valueTransition);\n        /**\n         * Check if we're able to animate between the start and end keyframes,\n         * and throw a warning if we're attempting to animate between one that's\n         * animatable and another that isn't.\n         */\n        const originKeyframe = keyframes[0];\n        const targetKeyframe = keyframes[keyframes.length - 1];\n        const isOriginAnimatable = isAnimatable(valueName, originKeyframe);\n        const isTargetAnimatable = isAnimatable(valueName, targetKeyframe);\n        warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${valueName} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n        let options = {\n            keyframes,\n            velocity: value.getVelocity(),\n            ease: \"easeOut\",\n            ...valueTransition,\n            delay: -elapsed,\n            onUpdate: (v) => {\n                value.set(v);\n                valueTransition.onUpdate && valueTransition.onUpdate(v);\n            },\n            onComplete: () => {\n                onComplete();\n                valueTransition.onComplete && valueTransition.onComplete();\n            },\n        };\n        /**\n         * If there's no transition defined for this value, we can generate\n         * unqiue transition settings for this value.\n         */\n        if (!isTransitionDefined(valueTransition)) {\n            options = {\n                ...options,\n                ...getDefaultTransition(valueName, options),\n            };\n        }\n        /**\n         * Both WAAPI and our internal animation functions use durations\n         * as defined by milliseconds, while our external API defines them\n         * as seconds.\n         */\n        if (options.duration) {\n            options.duration = secondsToMilliseconds(options.duration);\n        }\n        if (options.repeatDelay) {\n            options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n        }\n        if (!isOriginAnimatable ||\n            !isTargetAnimatable ||\n            instantAnimationState.current ||\n            valueTransition.type === false) {\n            /**\n             * If we can't animate this value, or the global instant animation flag is set,\n             * or this is simply defined as an instant transition, return an instant transition.\n             */\n            return createInstantAnimation(instantAnimationState.current\n                ? { ...options, delay: 0 }\n                : options);\n        }\n        /**\n         * Animate via WAAPI if possible.\n         */\n        if (value.owner &&\n            value.owner.current instanceof HTMLElement &&\n            !value.owner.getProps().onUpdate) {\n            const acceleratedAnimation = createAcceleratedAnimation(value, valueName, options);\n            if (acceleratedAnimation)\n                return acceleratedAnimation;\n        }\n        /**\n         * If we didn't create an accelerated animation, create a JS animation\n         */\n        return animateValue(options);\n    };\n};\n\nexport { animateMotionValue };\n","import { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { isNone } from './is-none.mjs';\n\nfunction getKeyframes(value, valueName, target, transition) {\n    const isTargetAnimatable = isAnimatable(valueName, target);\n    let keyframes;\n    if (Array.isArray(target)) {\n        keyframes = [...target];\n    }\n    else {\n        keyframes = [null, target];\n    }\n    const defaultOrigin = transition.from !== undefined ? transition.from : value.get();\n    let animatableTemplateValue = undefined;\n    const noneKeyframeIndexes = [];\n    for (let i = 0; i < keyframes.length; i++) {\n        /**\n         * Fill null/wildcard keyframes\n         */\n        if (keyframes[i] === null) {\n            keyframes[i] = i === 0 ? defaultOrigin : keyframes[i - 1];\n        }\n        if (isNone(keyframes[i])) {\n            noneKeyframeIndexes.push(i);\n        }\n        // TODO: Clean this conditional, it works for now\n        if (typeof keyframes[i] === \"string\" &&\n            keyframes[i] !== \"none\" &&\n            keyframes[i] !== \"0\") {\n            animatableTemplateValue = keyframes[i];\n        }\n    }\n    if (isTargetAnimatable &&\n        noneKeyframeIndexes.length &&\n        animatableTemplateValue) {\n        for (let i = 0; i < noneKeyframeIndexes.length; i++) {\n            const index = noneKeyframeIndexes[i];\n            keyframes[index] = getAnimatableNone(valueName, animatableTemplateValue);\n        }\n    }\n    return keyframes;\n}\n\nexport { getKeyframes };\n","import { animateValue } from './js/index.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nfunction createInstantAnimation({ keyframes, delay, onUpdate, onComplete, }) {\n    const setValue = () => {\n        onUpdate && onUpdate(keyframes[keyframes.length - 1]);\n        onComplete && onComplete();\n        /**\n         * TODO: As this API grows it could make sense to always return\n         * animateValue. This will be a bigger project as animateValue\n         * is frame-locked whereas this function resolves instantly.\n         * This is a behavioural change and also has ramifications regarding\n         * assumptions within tests.\n         */\n        return {\n            time: 0,\n            speed: 1,\n            duration: 0,\n            play: (noop),\n            pause: (noop),\n            stop: (noop),\n            then: (resolve) => {\n                resolve();\n                return Promise.resolve();\n            },\n            cancel: (noop),\n            complete: (noop),\n        };\n    };\n    return delay\n        ? animateValue({\n            keyframes: [0, 1],\n            duration: 0,\n            delay,\n            onComplete: setValue,\n        })\n        : setValue();\n}\n\nexport { createInstantAnimation };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^\\-?\\d*\\.?\\d+$/.test(v);\n\nexport { isNumericalString };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { frame, frameData } from '../frameloop/frame.mjs';\n\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"10.16.1\";\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            this.prev = this.current;\n            this.current = v;\n            // Update timestamp\n            const { delta, timestamp } = frameData;\n            if (this.lastUpdated !== timestamp) {\n                this.timeDelta = delta;\n                this.lastUpdated = timestamp;\n                frame.postRender(this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (this.prev !== this.current && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update velocity subscribers\n            if (this.events.velocityChange) {\n                this.events.velocityChange.notify(this.getVelocity());\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = () => frame.postRender(this.velocityCheck);\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = ({ timestamp }) => {\n            if (timestamp !== this.lastUpdated) {\n                this.prev = this.current;\n                if (this.events.velocityChange) {\n                    this.events.velocityChange.notify(this.getVelocity());\n                }\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = prev;\n        this.timeDelta = delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b;\n    const newValueKeys = Object.keys(target).filter((key) => !visualElement.hasValue(key));\n    const numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (let i = 0; i < numNewValues; i++) {\n        const key = newValueKeys[i];\n        const targetValue = target[key];\n        let value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" &&\n            (isNumericalString(value) || isZeroValueString(value))) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value, { owner: visualElement }));\n        if (origin[key] === undefined) {\n            origin[key] = value;\n        }\n        if (value !== null)\n            visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    const valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    const origin = {};\n    for (const key in target) {\n        const transitionOrigin = getOriginFromTransition(key, transition);\n        if (transitionOrigin !== undefined) {\n            origin[key] = transitionOrigin;\n        }\n        else {\n            const value = visualElement.getValue(key);\n            if (value) {\n                origin[key] = value.get();\n            }\n        }\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, definition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = visualElement.makeTargetAnimatable(definition);\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key);\n        const valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = { delay, elapsed: 0, ...transition };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        if (window.HandoffAppearAnimations && !value.hasAnimated) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                valueTransition.elapsed = window.HandoffAppearAnimations(appearId, key, value, frame);\n            }\n        }\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition));\n        const animation = value.animation;\n        if (isWillChangeMotionValue(willChange)) {\n            willChange.add(key);\n            animation.then(() => willChange.remove(key));\n        }\n        animations.push(animation);\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            transitionEnd && setTarget(visualElement, transitionEnd);\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.custom);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                removedKeys.delete(key);\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                if (next !== prev) {\n                    /**\n                     * If both values are keyframes, we need to shallow compare them to\n                     * detect whether any value has changed. If it has, we animate it.\n                     */\n                    if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                        if (!shallowCompare(next, prev) || variantDidChange) {\n                            markToAnimate(key);\n                        }\n                        else {\n                            /**\n                             * If it hasn't changed, we want to ensure it doesn't animate by\n                             * adding it to the list of protected keys.\n                             */\n                            typeState.protectedKeys[key] = true;\n                        }\n                    }\n                    else if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             * TODO: Test as this should probably still handle animations triggered\n             * by removed values?\n             */\n            if (shouldAnimateType && !isInherited) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type, ...options },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            props.initial === false &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(options, type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => visualElement.notify(\"AnimationComplete\", definition));\n}\n\nexport { animateVisualElement };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete, custom } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent, { custom: custom !== null && custom !== void 0 ? custom : this.node.getProps().custom });\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const { onEnd, onSessionEnd } = this.handlers;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mix } from '../../utils/mix.mjs';\n\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target = 0, maxDistance = 0.01) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate) || isNaN(delta.translate))\n        delta.translate = 0;\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mix } from '../../../utils/mix.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mix } from '../../utils/mix.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, calcOrigin } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.update(() => onDragStart(event, info), false, true);\n            }\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n        }, { transformPagePoint: this.visualElement.getTransformPagePoint() });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.update(() => onDragEnd(event, info));\n        }\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        const { dragConstraints, dragElastic } = this.getProps();\n        const { layout } = this.visualElement.projection || {};\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = \"_drag\" + axis.toUpperCase();\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial ? props.initial[axis] : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mix(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mix(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints)) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        measureDragConstraints();\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.update(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), { transformPagePoint: this.node.getTransformPagePoint() });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.update(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mix } from '../../utils/mix.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mix(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","import React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends React__default.Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            queueMicrotask(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (React__default.createElement(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { useContext, useId, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = () => onExitComplete && onExitComplete(id);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mix(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mix(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mix(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mix(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mix(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = compress(0, 0.5, circOut);\nconst easeCrossfadeOut = compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };\n","import { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mix(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction boxEquals(a, b) {\n    return (a.x.min === b.x.min &&\n        a.x.max === b.x.max &&\n        a.y.min === b.y.min &&\n        a.y.max === b.y.max);\n}\nfunction boxEqualsRounded(a, b) {\n    return (Math.round(a.x.min) === Math.round(b.x.min) &&\n        Math.round(a.x.max) === Math.round(b.x.max) &&\n        Math.round(a.y.min) === Math.round(b.y.min) &&\n        Math.round(a.y.max) === Math.round(b.y.max));\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\n\nexport { aspectRatio, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    if (xTranslate || yTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, 0) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { rotate, rotateX, rotateY } = latestTransform;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEqualsRounded, isDeltaZero, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { record } from '../../debug/record.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/interfaces/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, steps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\n/**\n * Use a mutable data object for debug data so as to not create a new\n * object every frame.\n */\nconst projectionFrameData = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                projectionFrameData.totalNodes =\n                    projectionFrameData.resolvedTargetDeltas =\n                        projectionFrameData.recalculatedProjection =\n                            0;\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                record(projectionFrameData);\n            };\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = performance.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            steps.update.process(frameData);\n            steps.preRender.process(frameData);\n            steps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                queueMicrotask(() => this.update());\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            frame.preRender(this.updateProjection, false, true);\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot: checkIsScrollRoot(this.instance),\n                    offset: measureScroll(this.instance),\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            // Remove viewport scroll to give page-relative coordinates\n            const { scroll } = this.root;\n            if (scroll) {\n                translateAxis(box.x, scroll.offset.x);\n                translateAxis(box.y, scroll.offset.y);\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.isRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                        const { scroll: rootScroll } = this.root;\n                        /**\n                         * Undo the application of page scroll that was originally added\n                         * to the measured bounding box.\n                         */\n                        if (rootScroll) {\n                            translateAxis(boxWithoutScroll.x, -rootScroll.offset.x);\n                            translateAxis(boxWithoutScroll.y, -rootScroll.offset.y);\n                        }\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            // TODO If this is unsuccessful this currently happens every frame\n            if (!this.targetDelta && !this.relativeTarget) {\n                // TODO: This is a semi-repetition of further down this function, make DRY\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            projectionFrameData.resolvedTargetDeltas++;\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.projectionTransform) {\n                    this.projectionDelta = createDelta();\n                    this.projectionTransform = \"none\";\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta) {\n                this.projectionDelta = createDelta();\n                this.projectionDeltaWithTransform = createDelta();\n            }\n            const prevProjectionTransform = this.projectionTransform;\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n            if (this.projectionTransform !== prevProjectionTransform ||\n                this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            projectionFrameData.recalculatedProjection++;\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.scheduleRender && this.options.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected rotation values, we can early return without a forced render.\n            let hasRotate = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ) {\n                hasRotate = true;\n            }\n            // If there's no rotation values, we don't need to do any more.\n            if (!hasRotate)\n                return;\n            const resetValues = {};\n            // Check the rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                const key = \"rotate\" + transformAxes[i];\n                // Record the rotation and then temporarily set it to 0\n                if (latestValues[key]) {\n                    resetValues[key] = latestValues[key];\n                    visualElement.setStaticValue(key, 0);\n                }\n            }\n            // Force a render of this element to apply the transform with all rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp = {}) {\n            var _a, _b;\n            // TODO: Return lifecycle-persistent object\n            const styles = {};\n            if (!this.instance || this.isSVG)\n                return styles;\n            if (!this.isVisible) {\n                return { visibility: \"hidden\" };\n            }\n            else {\n                styles.visibility = \"\";\n            }\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    projectionFrameData.totalNodes++;\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetRotation(node) {\n    node.resetRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mix(delta.translate, 0, p);\n    output.scale = mix(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mix(from.min, to.min, p);\n    output.max = mix(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","function record(data) {\n    if (window.MotionDebug) {\n        window.MotionDebug.record(data);\n    }\n}\n\nexport { record };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = performance.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\n\nexport { delay };\n","import { animateMotionValue } from './motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token, fallback] = match;\n    return [token, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    else if (isCSSVariableToken(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, { ...target }, transitionEnd) {\n    const element = visualElement.current;\n    if (!(element instanceof Element))\n        return { target, transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = { ...transitionEnd };\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.values.forEach((value) => {\n        const current = value.get();\n        if (!isCSSVariableToken(current))\n            return;\n        const resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (const key in target) {\n        const current = target[key];\n        if (!isCSSVariableToken(current))\n            continue;\n        const resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        if (!transitionEnd)\n            transitionEnd = {};\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd[key] === undefined) {\n            transitionEnd[key] = current;\n        }\n    }\n    return { target, transitionEnd };\n}\n\nexport { parseCSSVariable, resolveCSSVariables };\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}","import { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nimport { isBrowser } from '../../../utils/is-browser.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isPositionalKey = (key) => positionalKeys.has(key);\nconst hasPositionalKey = (target) => {\n    return Object.keys(target).some(isPositionalKey);\n};\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.render();\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nconst convertChangedValueTypes = (target, visualElement, changedKeys) => {\n    const originBbox = visualElement.measureViewportBox();\n    const element = visualElement.current;\n    const elementComputedStyle = getComputedStyle(element);\n    const { display } = elementComputedStyle;\n    const origin = {};\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    /**\n     * Record origins before we render and update styles\n     */\n    changedKeys.forEach((key) => {\n        origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n    });\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.render();\n    const targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach((key) => {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        const value = visualElement.getValue(key);\n        value && value.jump(origin[key]);\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nconst checkAndConvertChangedValueTypes = (visualElement, target, origin = {}, transitionEnd = {}) => {\n    target = { ...target };\n    transitionEnd = { ...transitionEnd };\n    const targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    let removedTransformValues = [];\n    let hasAttemptedToRemoveTransformValues = false;\n    const changedValueTypeKeys = [];\n    targetPositionalKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        let from = origin[key];\n        let fromType = findDimensionValueType(from);\n        const to = target[key];\n        let toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            const numKeyframes = to.length;\n            const fromIndex = to[0] === null ? 1 : 0;\n            from = to[fromIndex];\n            fromType = findDimensionValueType(from);\n            for (let i = fromIndex; i < numKeyframes; i++) {\n                /**\n                 * Don't allow wildcard keyframes to be used to detect\n                 * a difference in value types.\n                 */\n                if (to[i] === null)\n                    break;\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                const current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues =\n                        removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                value.jump(to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        const scrollY = changedValueTypeKeys.indexOf(\"height\") >= 0\n            ? window.pageYOffset\n            : null;\n        const convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(([key, value]) => {\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.render();\n        // Restore scroll position\n        if (isBrowser && scrollY !== null) {\n            window.scrollTo({ top: scrollY });\n        }\n        return { target: convertedTarget, transitionEnd };\n    }\n    else {\n        return { target, transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target, transitionEnd };\n}\n\nexport { positionalValues, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nconst parseDomVariant = (visualElement, target, origin, transitionEnd) => {\n    const resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate &&\n                frame.update(this.notifyUpdate, false, true);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if (!this.projection && ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Make a target animatable by Popmotion. For instance, if we're\n     * trying to animate width from 100px to 100vw we need to measure 100vw\n     * in pixels to determine what we really need to animate to. This is also\n     * pluggable to support Framer's custom value types like Color,\n     * and CSS variables.\n     */\n    makeTargetAnimatable(target, canMutate = true) {\n        return this.makeTargetAnimatableFromInstance(target, this.props, canMutate);\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key) {\n        var _a;\n        return this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_a = resolveVariantFromProps(this.props, initial)) === null || _a === void 0 ? void 0 : _a[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"10.16.1\", `Attempting to mix Framer Motion versions ${nextValue.version} with 10.16.1 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { parseDomVariant } from './utils/parse-dom-variant.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    makeTargetAnimatableFromInstance({ transition, transitionEnd, ...target }, { transformValues }, isMounted) {\n        let origin = getOrigin(target, transition || {}, this);\n        /**\n         * If Framer has provided a function to convert `Color` etc value types, convert them\n         */\n        if (transformValues) {\n            if (transitionEnd)\n                transitionEnd = transformValues(transitionEnd);\n            if (target)\n                target = transformValues(target);\n            if (origin)\n                origin = transformValues(origin);\n        }\n        if (isMounted) {\n            checkTargetForNewValues(this, target, origin);\n            const parsed = parseDomVariant(this, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return {\n            transition,\n            transitionEnd,\n            ...target,\n        };\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layout } from '../../motion/features/layout.mjs';\n\nconst preloadedFeatures = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nconst motion = /*@__PURE__*/ createMotionProxy((Component, config) => createDomMotionConfig(Component, config, preloadedFeatures, createDomVisualElement));\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, preloadedFeatures, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"onLayoutAnimationStart\",\n    \"onLayoutAnimationComplete\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","const noop = (any) => any;\n\nexport { noop };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/** https://docs.tsafe.dev/typeguard */\nexport function typeGuard<T>(_value: any, isMatched: boolean): _value is T {\n    return isMatched;\n}\n"],"names":["createUseClassName","params","defaultClasses","useGetClassName","classes","getClassName","useConstCallback","classKey","clsx","usePrepareTemplate","doFetchDefaultThemeResources","_params$stylesCommon","stylesCommon","_params$styles","styles","url","_params$scripts","scripts","htmlClassName","bodyClassName","_useReducer","useReducer","_useReducer2","_slicedToArray","isReady","setReady","useEffect","isUnmounted","removeArray","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prLoadedArray","wrap","_context","prev","next","concat","_toConsumableArray","map","relativePath","pathJoin","resourcesCommonPath","resourcesPath","reverse","forEach","href","_headInsert","headInsert","prLoaded","remove","push","Promise","all","abrupt","stop","useSetClassName","target","className","undefined","htmlClassList","document","getElementsByTagName","classList","tokens","split","add","apply","HTMLElement","prototype","prepend","childNode","Error","this","insertBefore","firstChild","len","arguments","length","i","cls","arg","toAdd","Array","isArray","k","assert","typeGuard","htmlElement","createElement","type","dLoaded","Deferred","addEventListener","resolve","Object","assign","src","position","pr","e","require","is","a","b","l","useState","m","n","useLayoutEffect","p","useDebugValue","r","getSnapshot","value","d","f","u","window","inst","c","g","exports","useSyncExternalStore","module","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","result","Super","getPrototypeOf","NewTarget","constructor","_defineProperty","obj","_getPrototypeOf","o","setPrototypeOf","bind","__proto__","_setPrototypeOf","_inherits","subClass","superClass","create","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","propertyIsEnumerable","_toPropertyKey","input","hint","prim","Symbol","toPrimitive","res","String","Number","flatten2DArray","array","_step","flattened","_iterator","_createForOfIteratorHelper","s","done","row","err","reverseArray","slice","canUseDOM","_a","checkIsBrowser","getDocument","node","ownerDocument","getWindow","defaultView","getActiveElement","activeDescendant","activeElement","nodeName","isFrame","contentDocument","body","id","getAttribute","element","getElementById","contains","parent","child","tagName","isButton","toLowerCase","buttonInputTypes","matches","selectors","msMatchesSelector","webkitMatchesSelector","isVisible","offsetWidth","offsetHeight","getClientRects","closest","parentElement","parentNode","nodeType","isTextField","isTextInput","HTMLInputElement","selectionStart","isTextArea","error","getPopupRole","fallback","role","getPopupItemRole","popupRole","menu","listbox","tree","grid","getScrollingElement","clientHeight","scrollHeight","overflowY","getComputedStyle","clientWidth","scrollWidth","overflowX","scrollingElement","getInternal","store","internals","__unstableInternals","invariant","createStore","initialState","_len","stores","_key","state","prevStateBatch","lastUpdate","initialized","updatedKeys","Set","setups","listeners","listenersBatch","disposables","WeakMap","listenerKeys","sub","listener","set","get","delete","setState","hasOwnProperty","nextValue","applyState","prevState","__spreadProps","__spreadValues","thisUpdate","run","uKeys","some","has","queueMicrotask","snapshot","clear","finalStore","getState","setup","callback","init","noop","desyncs","getKeys","chain","storeState","sync","state2","teardowns","setup2","cleanups","subscribe","batch","pick","omit","_len2","args","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","omit2","_len7","_key7","mergeStore","_len9","_key9","reduce","store2","nextState","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","prop","__objRest","exclude","_step2","_iterator2","isApple","test","navigator","platform","isSafari","vendor","isFirefox","userAgent","isMac","startsWith","maxTouchPoints","createDisclosureStore","disclosure","syncState","open","defaultValue","defaultOpen","animated","animating","mounted","contentElement","disclosureElement","setOpen","show","hide","toggle","open2","stopAnimation","setContentElement","setDisclosureElement","argument","currentValue","isUpdater","isLazyValue","fns","_i2","_fns","fn","normalizeString","str","normalize","replace","paths","identity","condition","message","isFalsyBooleanCallback","booleanOrCallback","values","_i3","_values","isPortalEvent","event","currentTarget","isSelfTarget","isOpeningInNewTab","isAppleDevice","metaKey","ctrlKey","isDownloading","altKey","fireBlurEvent","eventInit","FocusEvent","defaultAllowed","dispatchEvent","bubbleInit","bubbles","fireFocusEvent","fireKeyboardEvent","KeyboardEvent","fireClickEvent","MouseEvent","isFocusEventOutside","container","containerElement","relatedTarget","queueBeforeEvent","raf","requestAnimationFrame","removeEventListener","callImmediately","cancelAnimationFrame","once","capture","addGlobalEventListener","options","scope","frames","frameWindow","listener2","selector","isFocusable","isTabbable","parseInt","hasNegativeTabIndex","form","checked","radioGroup","elements","namedItem","name","getAllFocusableIn","includeContainer","from","querySelectorAll","unshift","focusableElements","frameBody","splice","getAllTabbableIn","fallbackToFocusable","tabbableElements","allFrameTabbable","getAllTabbable","getFirstTabbableIn","_getAllTabbableIn","getNextTabbable","fallbackToFirst","allFocusable","activeIndex","nextFocusableElements","find","getNextTabbableIn","getPreviousTabbable","fallbackToLast","previousFocusableElements","getPreviousTabbableIn","hasFocus","hasFocusWithin","querySelector","CSS","escape","focusIfNeeded","focus","disableFocus","currentTabindex","setAttribute","disableFocusIn","restoreFocusIn","restoreTabIndex","tabindex","removeAttribute","hasAttribute","focusIntoView","preventScroll","scrollIntoView","block","inline","PopoverContext","createContext","FocusableContext","setRef","ref","current","getRefProperty","isValidElement","isValidElementWithRef","mergeProps","base","overrides","_loop","overrideValue","baseValue","chars","clearChars","itemTextStartsWith","item","text","itemText","textContent","children","trim","useCompositeTypeahead","createHook","_b","_b$typeahead","typeahead","context","useContext","CompositeContext","process","onKeyDownCaptureProp","onKeyDownCapture","cleanupTimeoutRef","useRef","useEvent","defaultPrevented","_store$getState","items","activeId","isValidTypeaheadEvent","enabledItems","disabled","getEnabledItems","isSelfTargetOrItem","preventDefault","clearTimeout","setTimeout","char","activeItem","flipItems","getSameInitialItems","item2","move","createComponent","htmlProps","useDisclosureStoreOptions","_props","useDisclosureStoreProps","useStoreProps","useDisclosureStore","useStore","Core","MenuBarContext","MenuContext","_React","React","useReactId","useId","useReactInsertionEffect","useDeferredValue","useInsertionEffect","useSafeLayoutEffect","useLazyValue","useLiveRef","useCallback","_a2","useMergeRefs","refs","useMemo","defaultId","reactId","_useState7","_useState8","setId","random","Math","toString","substr","useTagName","refOrElement","stringOrUndefined","type2","_useState11","_useState12","setTagName","useForceUpdate","useBooleanEvent","useWrapElement","deps","wrapElement","usePortalRef","portalProp","portalRefProp","_useState17","_useState18","portalNode","portalRef","domReady","useIsMouseMoving","setMouseMoving","resetMouseMoving","mouseMoving","previousScreenX","previousScreenY","movementX","screenX","movementY","screenY","hasMouseMovement","isSafariBrowser","alwaysFocusVisibleInputTypes","isNativeCheckboxOrRadio","getTabIndex","focusable","trulyDisabled","nativeTabbable","supportsDisabled","tabIndexProp","useDisableEvent","onEvent","stopPropagation","isKeyboardModality","onGlobalMouseDown","onGlobalKeyDown","useFocusable","_b$focusable","accessibleWhenDisabled","autoFocus","onFocusVisible","labels","getLabels","onMouseUp","label","_useState","_useState2","focusVisible","setFocusVisible","IntersectionObserver","observer","observe","disconnect","onKeyPressCapture","onMouseDownCapture","onClickCapture","onMouseDownProp","onMouseDown","receivedFocus","onFocus","handleFocusVisible","onFocusCaptureProp","onFocusCapture","applyFocusVisible","readOnly","isContentEditable","includes","isAlwaysFocusVisible","dataset","isAlwaysFocusVisibleDelayed","onBlurProp","onBlur","autoFocusOnShow","autoFocusRef","as","isNativeTabbable","supportsDisabledAttribute","style","pointerEvents","tabIndex","contentEditable","render","createMemoComponent","Role","Type","As","rest","mergedRef","jsx","renderProps","isRenderProp","otherProps","useProps","copy","NULL_ITEM","shouldInsertNullItem","index","findIndex","findFirstEnabledItem","excludeId","getEnabledItem","groupItemsByRows","rows","currentRow","rowId","FOCUS_SILENTLY","focusSilently","silentlyFocused","isSilentlyFocused","isItem","isNativeClick","isTrusted","useCommand","_b$clickOnEnter","clickOnEnter","_b$clickOnSpace","clickOnSpace","isNativeButton","setIsNativeButton","_useState3","_useState4","active","setActive","activeRef","isDuplicate","onKeyDownProp","onKeyDown","isEnter","isSpace","shouldPreventEnter","shouldPreventSpace","nativeClick","view","click","onKeyUpProp","onKeyUp","noopSubscribe","inFlushSyncContext","useStoreState","keyOrSelector","storeSubscribe","setKey","propsRef","setValue","canFlushSync","_propsRef$current","value2","originalError","console","flushSync","safeFlushSync","getMouseDestination","Node","ELEMENT_NODE","useCompositeHover","_b$focusOnHover","focusOnHover","isMouseMoving","onMouseMoveProp","onMouseMove","focusOnHoverProp","baseElement","setActiveId","onMouseLeaveProp","onMouseLeave","nextElement","hoveringInside","dest","movingToAnotherItem","CollectionContext","useCollectionItem","_b$shouldRegisterItem","shouldRegisterItem","_b$getItem","getItem","element2","renderItem","getItemOffset","itemElement","pageUp","top","getBoundingClientRect","findNextPageItemId","renderedItems","prevDifference","nextPageOffset","height","pageSize","max","pageOffset","scrollTop","getNextPageOffset","previousId","difference","absDifference","abs","useCompositeItem","rowIdProp","_b$preventScrollOnKey","preventScrollOnKeyDown","_b$moveOnKeyPress","moveOnKeyPress","getItemProp","ariaSetSizeProp","ariaPosInSetProp","CompositeRowContext","nextItem","onFocusProp","hasFocusedComposite","_store$getState2","virtualFocus2","virtualFocus","baseElement2","targetIsAnotherItem","onBlurCaptureProp","onBlurCapture","preventScrollOnKeyDownProp","moveOnKeyPressProp","isGrid","isVertical","orientation","isHorizontal","action","ArrowUp","up","ArrowRight","ArrowDown","down","ArrowLeft","previous","Home","first","End","last","PageUp","PageDown","nextId","providerValue","CompositeItemContext","ariaSelected","isActiveItem","roleProp","setRole","useRole","requiresAriaSelected","supportsAriaSelected","ariaSetSize","ariaPosInSet","itemsInRow","useMenuItem","_b$hideOnClick","hideOnClick","menuContext","menuBarContext","onClickProp","onClick","hideOnClickProp","hideMenu","hideAll","isWithinMenu","hasExpandedMenuButton","MenuItem","currentElement","POPOVER_ARROW_PATH","halfDefaultSize","defaultSize","rotateMap","right","bottom","left","usePopoverArrow","_b$size","size","dir","currentPlacement","setStyle","computedStyle","useComputedStyle","fill","getPropertyValue","stroke","borderWidth","strokeWidth","transform","display","viewBox","jsxs","setArrowElement","fontSize","width","useMenuArrow","MenuArrow","pointsMap","usePopoverDisclosureArrow","placement","points","strokeLinecap","strokeLinejoin","useMenuButtonArrow","MenuButtonArrow","useButton","useDisclosure","_b$toggleOnClick","toggleOnClick","expanded","setExpanded","isCurrentDisclosure","isConnected","toggleOnClickProp","useDialogDisclosure","usePopoverAnchor","setAnchorElement","usePopoverDisclosure","useHovercardAnchor","_b$showOnHover","showOnHover","showTimeoutRef","anchorElement","showOnHoverProp","showTimeout","timeout","useMenuButton","parentMenu","parentMenuBar","hasParentMenu","parentIsMenuBar","setAutoFocusOnShow","initialFocus","getInitialFocus","setInitialFocus","isKeyboardClick","detail","parentContentElement","MenuButton","useCollectionStoreProps","useCompositeStoreProps","useDialogStoreOptions","useDialogStoreProps","usePopoverStoreOptions","usePopoverStoreProps","useHovercardStoreOptions","useHovercardStoreProps","createPopoverStore","otherPopover","popover","dialog","createDialogStore","popoverElement","arrowElement","rendered","setPopoverElement","sortBasedOnDOMPosition","pairs","isOrderDifferent","sort","_ref","_ref2","_ref3","indexA","_ref4","indexB","elementA","elementB","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","isElementPreceding","_ref5","_ref6","createCollectionStore","defaultItems","itemsMap","Map","privateStore","collection","sortItems","firstRun","root","firstItem","lastItem","getCommonParent","mergeItem","setItems","prevItem","canDeleteFromMap","items2","_ref7","nextItems","_ref8","_ref9","registerItem","getItems","getItemsInRow","getMaxRowLength","maxLength","normalizeRows","focusShift","_step3","_iterator3","previousItem","verticalizeItems","verticalized","_step4","_iterator4","createCompositeStore","defaultActiveId","includesBaseElement","moves","rtl","focusLoop","focusWrap","composite","activeId2","getNextId","hasNullItem","skip","_composite$getState","allItems","nextItemsInRow","nextEnabledItemsInRow","nextItem2","oppositeOrientation","getOppositeOrientation","canLoop","canWrap","sortedItems","setBaseElement","_composite$getState2","_composite$getState3","_composite$getState4","shouldShift","verticalItems","_composite$getState5","createMenuStore","combobox","hovercard","hideTimeout","createHovercardStore","defaultValues","setValues","prevValue","useMenuStore","_c","_d","_e","_f","placementProp","useMenuStoreOptions","useMenuStoreProps","useKeyboardEventProxy","onKeyboardEvent","previousElementRef","isModifierKey","isPrintableKey","focusingInputOnly","allowHorizontalNavigationOnItems","isHomeOrEnd","isPropagationStopped","canProxyKeyboardEvent","useComposite","_b$composite","_b$focusOnMove","focusOnMove","scheduleFocus","scheduled","setScheduled","schedule","useScheduleFocus","previousElement","onKeyUpCapture","previousActiveElement","_store$getState5","nextActiveElement","nextActiveElementIsItem","_store$getState6","keyMap","findFirstEnabledItemInTheLastRow","afterTimeout","timeoutMs","cb","timeoutId","parseCSSTime","times","join","longestTime","currentTimeString","currentTime","parseFloat","isHidden","hidden","alwaysVisible","useDisclosureContent","transition","setTransition","afterPaint","_getComputedStyle","transitionDuration","animationDuration","transitionDelay","animationDelay","useMenuList","isMenuBarHorizontal","id2","ariaLabelledBy","useAriaLabelledBy","getEventPoint","clientX","clientY","isPointInPolygon","point","polygon","_point","x","y","inside","j","_polygon$i","xi","yi","_polygon$j","xj","yj","vy","where","getElementPolygon","enterPoint","rect","_getEnterPointPlaceme","_enterPoint","getEnterPointPlacement","_getEnterPointPlaceme2","isBackdrop","backdrop","ids","orchestrate","elementCleanups","prevCleanup","cleanup","nextCleanup","attr","previousValue","setProperty","property","exists","assignStyle","prevStyle","cssText","ignoreTags","ignoredElements","enabledElement","walkTreeOutside","ancestorCallback","hasAncestorAlready","maybeAncestor","doc","originalElement","getPropertyName","markAncestor","isElementMarked","elementProperty","markTreeOutside","dialogId","el","markElement","ancestor","acc","DialogBackdrop","backdropProps","backdrop2","zIndex","Component","hideElementFromAccessibilityTree","disableAccessibilityTreeOutside","supportsInert","disableTreeOutside","userSelect","cursor","disableElement","usePreventBodyScroll","contentId","enabled","isRootDialog","attribute","_useForceUpdate","_useForceUpdate2","updated","retry","MutationObserver","attributeFilter","useRootDialog","win","documentElement","cssScrollbarWidth","scrollbarWidth","innerWidth","paddingProperty","documentLeft","round","scrollLeft","getPaddingProperty","isIOS","removeProperty","setScrollbarWidthProperty","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","overflow","floor","scrollTo","setIOSStyle","NestedDialogsContext","useEventOutside","callListener","focusedRef","isInDocument","isDisclosure","isMouseEventOnDialog","shouldHideOnInteractOutside","hideOnInteractOutside","useHideOnInteractOutside","previousMouseDownRef","usePreviousMouseDownRef","previousMouseDown","useFocusableContainer","_b$autoFocusOnShow","HeadingContext","HeadingLevel","level","contextLevel","nextLevel","min","Provider","useVisuallyHidden","border","clip","margin","padding","whiteSpace","useFocusTrap","FocusTrap","PortalContext","queueFocus","usePortal","preserveTabOrder","portalElement","_b$portal","portal","refProp","setPortalNode","outerBeforeRef","innerBeforeRef","innerAfterRef","outerAfterRef","portalEl","getPortalElement","isPortalInDocument","rootElement","getRootElement","appendChild","prefix","getRandomId","Fragment","createPortal","nextTabbable","DialogContext","DialogHeadingContext","DialogDescriptionContext","getElementFromProp","useDialog","_b$modal","modal","_b$backdrop","_b$hideOnEscape","hideOnEscape","_b$hideOnInteractOuts","getPersistentElements","_b$preventBodyScroll","preventBodyScroll","_b$autoFocusOnHide","autoFocusOnHide","finalFocus","_usePortalRef","preserveTabOrderProp","_useNestedDialogs","dialogs","setDialogs","dialogs2","nestedDialogs","useNestedDialogs","shouldDisableAccessibilityTree","button","prependHiddenDismiss","getPersistentElementsProp","persistentElements","allElements","dialog2","mayAutoFocusOnShow","autoFocusOnShowProp","autoFocusEnabled","setAutoFocusEnabled","isElementFocusable","mayAutoFocusOnHide","autoFocusOnHideProp","hasOpened","setHasOpened","focusOnHide","_store$getState3","isAlreadyFocusingAnotherElement","maybeParentDialog","control","hideOnEscapeProp","hiddenProp","_useState5","_useState6","headingId","setHeadingId","descriptionId","setDescriptionId","createCoords","v","oppositeSideMap","oppositeAlignmentMap","start","end","clamp","evaluate","param","getSide","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getAlignmentSides","rects","alignment","alignmentAxis","mainAlignmentSide","reference","floating","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","getOppositeAxisPlacements","flipAlignment","direction","list","side","isStart","lr","rl","getSideList","getPaddingObject","_objectSpread","expandPaddingObject","rectToClientRect","computeCoordsFromPlacement","coords","sideAxis","alignLength","commonX","commonY","commonAlign","computePosition","config","_config$placement","_config$strategy","strategy","_config$middleware","middleware","validMiddleware","_computeCoordsFromPla","statefulPlacement","middlewareData","resetCount","_validMiddleware$i","_yield$fn","nextX","nextY","data","reset","_computeCoordsFromPla2","isRTL","sent","getElementRects","initialPlacement","t0","_x","_x2","_x3","detectOverflow","_x4","_x5","_detectOverflow","_callee10","_await$platform$isEle","_evaluate8","_evaluate8$boundary","boundary","_evaluate8$rootBounda","rootBoundary","_evaluate8$elementCon","elementContext","_evaluate8$altBoundar","altBoundary","_evaluate8$padding","paddingObject","altContext","clippingClientRect","offsetParent","offsetScale","elementClientRect","_context10","t1","isElement","t2","t3","t4","t5","contextElement","getDocumentElement","t6","t7","t8","t9","t10","getClippingRect","t11","getOffsetParent","getScale","t13","t12","t14","convertOffsetParentRelativeRectToViewportRelativeRect","t15","t16","convertValueToCoords","_x6","_x7","_convertValueToCoords","_callee11","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","_context11","getNodeName","isNode","_node$ownerDocument","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","isTableElement","isContainingBlock","webkit","isWebKit","css","perspective","containerType","backdropFilter","willChange","contain","supports","isLastTraversableNode","getNodeScroll","pageXOffset","pageYOffset","getParentNode","assignedSlot","host","getNearestOverflowAncestor","getOverflowAncestors","_node$ownerDocument2","scrollableAncestor","isBody","getCssDimensions","hasOffset","shouldFallback","$","unwrapElement","domElement","_getCssDimensions","isFinite","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentIFrame","frameElement","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","getWindowScrollBarX","getClientRectFromClippingAncestor","clippingAncestor","html","visualViewportBased","getViewportRect","scroll","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","offsetRect","getTrueOffsetParent","polyfill","currentNode","getContainingBlock","getOffsetParentFn","getDimensionsFn","getDimensions","elementClippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","currentNodeIsContaining","getClippingElementAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","autoUpdate","update","_options","_options$ancestorScro","ancestorScroll","_options$ancestorResi","ancestorResize","_options$elementResiz","elementResize","ResizeObserver","_options$layoutShift","layoutShift","_options$animationFra","animationFrame","referenceEl","ancestors","passive","frameId","cleanupIo","onMove","io","refresh","threshold","_element$getBoundingC","rootMargin","isFirstUpdate","handleObserve","entries","ratio","intersectionRatio","observeMove","reobserveFrame","resizeObserver","firstEntry","unobserve","prevRefRect","frameLoop","nextRefRect","mergedOptions","platformWithCache","computePosition$1","createDOMRect","DOMRect","toJSON","getAnchorElement","getAnchorRect","anchor","anchorRect","getDOMRect","isValidPlacement","flip2","roundByDPR","dpr","devicePixelRatio","getOffsetMiddleware","arrowOffset","finalGutter","gutter","shift","_callee7","diffCoords","_context7","getFlipMiddleware","flip","fallbackPlacements","every","overflowPadding","_callee4","_middlewareData$flip","_evaluate2","_evaluate2$mainAxis","checkMainAxis","_evaluate2$crossAxis","checkCrossAxis","specifiedFallbackPlacements","_evaluate2$fallbackSt","fallbackStrategy","_evaluate2$fallbackAx","fallbackAxisSideDirection","_evaluate2$flipAlignm","detectOverflowOptions","isBasePlacement","placements","overflows","overflowsData","_sides","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$map$so","_placement","_context4","_excluded2","sides","getShiftMiddleware","slide","overlap","_callee8","_objectSpread3","_evaluate5","_evaluate5$mainAxis","_evaluate5$crossAxis","_evaluate5$limiter","limiter","mainAxisCoord","crossAxisCoord","maxSide","_min","_max","_maxSide","_min2","_max2","limitedCoords","_context8","_excluded4","getSizeMiddleware","availableWidth","availableHeight","wrapper","referenceWidth","sameWidth","fitViewport","maxWidth","maxHeight","_callee9","_evaluate7","_evaluate7$apply","isYAxis","_rects$floating","heightSide","widthSide","overflowAvailableHeight","overflowAvailableWidth","noShift","maximumClippingWidth","maximumClippingHeight","xMin","xMax","yMin","yMax","nextDimensions","_context9","_excluded5","getArrowMiddleware","arrowPadding","_callee2","_data","_ref3$padding","arrowDimensions","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","offset","shouldAddOffset","alignmentOffset","_context2","usePopover","_b$preserveTabOrder","wrapperProps","_b$fixed","fixed","_b$flip","_b$shift","shift2","_b$slide","_b$overlap","_b$sameWidth","_b$fitViewport","_b$arrowPadding","_b$overflowPadding","updatePosition","positioned","setPositioned","getAnchorRectProp","updatePositionProp","hasCustomUpdatePosition","updatePosition2","pos","_pos$middlewareData$a","arrowX","arrowY","arrow","cancelAutoUpdate","applyZIndex","isMovingOnHovercard","card","nested","card2","NestedHovercardContext","useHovercard","_b$hideOnHoverOutside","hideOnHoverOutside","_b$disablePointerEven","disablePointerEventsOnApproach","nestedHovercards","setNestedHovercards","hideTimeoutRef","enterPointRef","mayHideOnHoverOutside","hideOnHoverOutsideProp","mayDisablePointerEvents","disablePointerEventsProp","currentPoint","disableEvent","registerOnParent","registerNestedHovercard","prevElements","parentUnregister","setAutoFocusOnHide","finalFocusRef","useAutoFocusOnHide","openRef","useAutoFocusOnShow","useMenu","initialFocusRef","setInitialFocusRef","autoFocusOnShowState","cleaning","prevInitialFocusRef","_a3","_b2","ref2","createRef","canAutoFocusOnShow","Menu","useIsMounted","isMounted","useIsomorphicLayoutEffect","PopChildMeasure","_React$Component","_super","prevProps","childRef","isPresent","sizeRef","PopChild","_size$current","motionPopId","head","sheet","insertRule","removeChild","PresenceChild","initial","onExitComplete","custom","presenceAffectsLayout","mode","presenceChildren","useConstant","newChildrenMap","childId","register","_","PresenceContext","getChildKey","AnimatePresence","_ref$initial","exitBeforeEnter","_ref$presenceAffectsL","_ref$mode","forceRender","LayoutGroupContext","forcedRenderCount","setForcedRenderCount","frame","filteredChildren","filtered","Children","onlyElements","childrenToRender","exitingChildren","presentChildren","allChildren","isInitialRender","updateChildLookup","presentKeys","targetKeys","numPresent","component","insertionIndex","exitingComponent","removeIndex","presentChild","cloneElement","MotionConfig","isValidProp","_excluded","loadExternalIsValidProp","MotionConfigContext","isStatic","JSON","stringify","transformPagePoint","reducedMotion","stepsOrder","_createRenderBatcher","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","delta","timestamp","isProcessing","steps","toRun","toRunNextFrame","numToRun","flushNextFrame","toKeepAlive","WeakSet","step","addToCurrentFrame","buffer","cancel","frameData","createRenderStep","processStep","stepId","processBatch","performance","now","keepAlive","immediate","createRenderBatcher","cancelFrame","MotionContext","LazyContext","strict","isRefObject","isVariantLabel","isAnimationControls","variantPriorityOrder","variantProps","isControllingVariants","animate","isVariantNode","variants","useCreateMotionContext","_getCurrentTreeVarian","inherit","getCurrentTreeVariants","variantLabelsAsDependency","featureProps","animation","exit","drag","hover","tap","pan","inView","layout","featureDefinitions","isEnabled","SwitchLayoutGroupContext","motionComponentSymbol","for","createMotionComponent","preloadedFeatures","createVisualElement","useRender","useVisualState","features","loadFeatures","ForwardRefComponent","forwardRef","externalRef","MeasureLayout","configAndProps","layoutId","useLayoutId","visualState","isBrowser","visualElement","lazyContext","presenceContext","reducedMotionConfig","visualElementRef","renderer","blockInitialAnimation","canHandoff","HandoffAppearAnimations","animationState","animateChanges","updateFeatures","useVisualElement","initialLayoutGroupConfig","isStrict","mount","unmount","useMotionRef","layoutGroupId","createMotionProxy","createConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","scaleCorrectors","transformPropOrder","transformProps","isForcedMotionValue","isMotionValue","getVelocity","translateAlias","z","transformPerspective","numTransforms","checkStringStartsWith","token","isCSSVariableName","isCSSVariableToken","getValueAsType","number","parse","alpha","default","sanitize","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","degrees","percent","px","vh","vw","progressPercentage","int","numberValueTypes","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","paddingRight","paddingBottom","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","opacity","originX","originY","originZ","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","latestValues","transformTemplate","vars","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","transformIsDefault","_ref$enableHardwareAc","enableHardwareAcceleration","_ref$allowTransformNo","allowTransformNone","transformString","transformName","buildTransform","_transformOrigin$orig","_transformOrigin$orig2","_transformOrigin$orig3","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","transformValues","useHTMLProps","dragListener","draggable","WebkitUserSelect","WebkitTouchCallout","touchAction","onTap","onTapStart","whileTap","calcOrigin","origin","dashKeys","camelKeys","buildSVGAttrs","isSVGTag","attrX","attrY","attrScale","pathLength","_ref$pathSpacing","pathSpacing","_ref$pathOffset","pathOffset","attrs","dimensions","pxOriginX","pxOriginY","calcSVGTransformOrigin","spacing","useDashCase","buildSVGPath","createSvgRenderState","tag","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","filterProps","elementProps","renderedChildren","camelToDash","renderHTML","styleProp","projection","getProjectionStyles","camelCaseAttributes","renderSVG","renderState","_styleProp","scrapeMotionValuesFromProps","newValues","scrapeMotionValuesFromProps$1","charAt","toUpperCase","substring","resolveVariantFromProps","definition","currentValues","currentVelocity","isKeyframesTarget","isCustomValue","mix","toValue","resolveFinalValueInKeyframes","resolveMotionValue","unwrappedValue","makeUseVisualState","make","createRenderState","onMount","makeLatestValues","makeState","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","resolved","transitionEnd","valueTarget","svgMotionConfig","getBBox","htmlMotionConfig","addDomEvent","eventName","handler","isPrimaryPointer","pointerType","isPrimary","extractEventInfo","pointType","addPointerInfo","addPointerEvent","combineFunctions","pipe","transformers","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal","openVertical","isDragActive","openGestureLock","Feature","addHoverEvent","isActive","callbackName","info","getProps","whileHover","HoverGesture","_Feature","FocusGesture","_this","isFocusVisible","_this2","isNodeOrChild","fireSyntheticPointerEvent","syntheticPointerEvent","PointerEvent","PressGesture","removeStartListeners","removeEndListeners","removeAccessibleListeners","startPointerPress","startEvent","startInfo","isPressing","removePointerUpListener","endEvent","endInfo","checkPressEnd","_this$node$getProps","onTapCancel","removePointerCancelListener","cancelEvent","cancelInfo","cancelPress","startPress","startAccessiblePress","removeKeydownListener","keydownEvent","keyupEvent","removeBlurListener","_this$node$getProps3","removePointerListener","removeFocusListener","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","observeIntersection","rootInteresectionObserver","lookupRoot","rootObservers","initIntersectionObserver","thresholdNames","InViewFeature","hasEnteredView","isInView","_this$node$getProps$v","viewport","_viewport$amount","amount","isIntersecting","_this2$node$getProps","onViewportEnter","onViewportLeave","startObserver","_this$node","hasOptionsChanged","_ref$viewport","_ref2$viewport","prevViewport","hasViewportOptionChanged","gestureAnimations","shallowCompare","prevLength","resolveVariant","getCurrent","velocity","optimizedAppearDataAttribute","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","instantAnimationState","isBezierDefinition","easing","isWaapiSupportedEasing","supportedWaapiEasing","cubicBezierAsString","linear","ease","easeIn","easeOut","easeInOut","circIn","circOut","backIn","backOut","mapEasingToNativeEasing","calcBezier","t","a1","a2","subdivisionPrecision","subdivisionMaxIterations","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","binarySubdivide","isEasingArray","mirrorEasing","reverseEasing","sin","acos","circInOut","backInOut","easingLookup","anticipate","pow","easingDefinitionToFunction","_definition","isColorString","testProp","splitColor","aName","bName","cName","_v$match","match","_v$match2","rgbUnit","clampRgbUnit","rgba","red","green","blue","_ref$alpha","alpha$1","hex","hsla","hue","saturation","lightness","color","to","progress","hueToRgb","q","mixLinearColor","fromExpo","sqrt","colorTypes","asRGBA","model","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","cssVarTokeniser","regex","countKey","colorTokeniser","numberTokeniser","tokenise","_info$values","tokenised","analyseComplexValue","originalValue","numVars","numColors","numNumbers","parseComplexValue","createTransformer","_analyseComplexValue","numValues","output","convertNumbersToZero","complex","isNaN","getAnimatableNone","parsed","transformer","mixImmediate","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","template","originStats","targetStats","warning","toFromDifference","mixNumber","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","_ref$clamp","isClamp","inputLength","interpolator","progressInRange","defaultOffset","arr","remaining","offsetProgress","fillOffset","keyframes","_ref$duration","duration","keyframeValues","_ref$ease","easingFunctions","absoluteTimes","convertOffsetToTimes","mapTimeToKeyframe","calculatedDuration","velocityPerSecond","frameDuration","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","envelope","derivative","_ref$bounce","bounce","_ref$velocity","_ref$mass","mass","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","initialGuess","rootIterations","approximateRoot","stiffness","damping","durationKeys","physicsKeys","isSpringType","spring","resolveSpring","restDelta","restSpeed","_getSpringOptions","springOptions","isResolvedFromDuration","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","angularFreq","cos","dampedAngularFreq","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","inertia","_ref$power","power","_ref$timeConstant","timeConstant","_ref$bounceDamping","bounceDamping","_ref$bounceStiffness","bounceStiffness","modifyTarget","_ref$restDelta","nearestBoundary","amplitude","ideal","timeReachedBoundary","spring$1","calcDelta","calcLatest","applyFriction","latest","checkCatchBoundary","hasUpdatedFrame","frameloopDriver","passTimestamp","maxGeneratorDuration","calcGeneratorDuration","generator","Infinity","types","decay","tween","animateValue","resolveFinishedPromise","currentFinishedPromise","animationDriver","_ref$autoplay","autoplay","_ref$delay","delay","_ref$driver","driver","keyframes$1","_ref$type","_ref$repeat","repeat","_ref$repeatDelay","repeatDelay","_ref$repeatType","repeatType","onPlay","onStop","onComplete","onUpdate","speed","hasStopped","updateFinishedPromise","mapNumbersToKeyframes","generatorFactory","mirroredGenerator","playState","holdTime","startTime","cancelTime","resolvedDuration","totalDuration","tick","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","iterationProgress","iterationIsOdd","isAnimationFinished","finish","stopAnimationDriver","play","controls","then","reject","time","newTime","newSpeed","pause","complete","sample","supportsWaapi","memo","acceleratedValues","createAcceleratedAnimation","valueName","_options$duration","requiresPregeneratedKeyframes","sampleAnimation","pregeneratedKeyframes","keyframeOptions","iterations","animateStyle","owner","cancelAnimation","safeCancel","onfinish","getFinalKeyframe","attachTimeline","timeline","playbackRate","setWithVelocity","underDampedSpring","keyframesTransition","getDefaultTransition","valueKey","isAnimatable","maxDefaults","applyDefaultFilter","_v$slice$split","_v$slice$split2","functionRegex","functions","defaultValueTypes","backgroundColor","outlineColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","isZeroValueString","isNone","getValueTransition","animateMotionValue","valueTransition","_transition$elapsed","isTargetAnimatable","defaultOrigin","animatableTemplateValue","noneKeyframeIndexes","getKeyframes","originKeyframe","targetKeyframe","isOriginAnimatable","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","createInstantAnimation","acceleratedAnimation","isWillChangeMotionValue","isNumericalString","addUniqueItem","removeItem","SubscriptionManager","subscriptions","numSubscriptions","collectMotionValues","MotionValue","version","timeDelta","lastUpdated","canTrackVelocity","events","updateAndNotify","scheduleVelocityCheck","change","notify","velocityChange","renderRequest","velocityCheck","hasAnimated","subscription","on","unsubscribe","getSize","eventManagers","passiveEffect","stopPassiveEffect","startAnimation","_this3","animationStart","animationComplete","clearAnimation","animationCancel","clearListeners","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","_ref$transitionEnd","getOriginFromTransition","animateTarget","_ref2$delay","transitionOverride","_visualElement$makeTa","_visualElement$makeTa2","animations","animationTypeState","protectedKeys","needsAnimating","shouldBlock","shouldBlockAnimation","appearId","shouldReduceMotion","animateVariant","variant","_ref$transition","getAnimation","getChildAnimations","variantChildren","forwardDelay","_transition","_transition$delayChil","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateChildren","sortNodePosition","reversePriorityOrder","numAnimationTypes","animateList","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","whileInView","whileDrag","whileFocus","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","definitionList","resolvedValues","_typeState$prevResolv","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation","fallbackTarget","getBaseTarget","shouldAnimate","setAnimateFunction","makeAnimator","AnimationFeature","updateAnimationControlsSubscription","ExitAnimationFeature","_this$node$presenceCo","prevIsPresent","prevPresenceContext","exitAnimation","PanSession","handlers","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","_this$handlers","onStart","handlePointerMove","transformPoint","handlePointerUp","_this$handlers2","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","calcLength","isNear","maxDistance","calcAxisDelta","originPoint","translate","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","createDelta","createBox","eachAxis","convertBoundingBoxToBox","isIdentityScale","hasScale","has2DTranslate","is2DTranslate","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","box","snapToDefault","isInteger","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","transformBox","measureViewportBox","topLeft","bottomRight","transformBoxPoints","elementDragControls","VisualElementDragControls","openGlobalLock","isDragging","currentDirection","constraints","hasMutatedConstraints","elastic","originEvent","_ref$snapToCursor","snapToCursor","panSession","_this$getProps","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","_this$getProps2","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","getCurrentDirection","updateAxis","getTransformPagePoint","onDragEnd","_this$visualElement","shouldDrag","axisValue","applyConstraints","_this$getProps6","dragConstraints","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","_this$getProps7","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","_this$getProps8","dragMomentum","dragTransition","dragSnapToOrigin","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","_this4","dragKey","externalMotionValue","_this5","_projection$layout$la","_this6","_this$getProps9","boxProgress","sourceLength","targetLength","updateScroll","updateLayout","_this6$constraints$ax","_this7","stopPointerListener","_this7$getProps","_this7$getProps$dragL","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","scalePositionWithinConstraints","stopLayoutUpdateListener","hasLayoutChanged","_props$drag","_props$dragDirectionL","_props$dragPropagatio","_props$dragConstraint","_props$dragElastic","_props$dragMomentum","DragGesture","removeGroupControls","dragControls","addListeners","asyncHandler","PanGesture","removePointerDownListener","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","onPointerDown","updateHandlers","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","original","shadow","xScale","yScale","averageScale","MeasureLayoutWithContext","_React__default$Compo","correctors","_this$props","layoutGroup","switchLayoutGroup","defaultScaleCorrectors","group","didUpdate","safeToRemove","setOptions","_this$props2","layoutDependency","willUpdate","promote","relegate","stack","getStack","members","currentAnimation","isLead","_this$props3","promoteContext","scheduleCheckAfterUnmount","deregister","React__default","_usePresence","usePresence","_usePresence2","applyTo","boxShadow","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","originAxis","copyBoxInto","originBox","removePointDelta","removeAxisTransforms","sourceAxis","removeAxisDelta","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEqualsRounded","aspectRatio","NodeStack","scheduleRender","prevLead","lead","indexOfNode","member","preserveFollowOpacity","resumeFrom","preserveOpacity","animationValues","isUpdating","isLayoutDirty","crossfade","resumingFrom","buildProjectionTransform","latestTransform","xTranslate","yTranslate","elementScaleX","elementScaleY","compareByDepth","depth","FlatTree","isDirty","transformAxes","projectionFrameData","totalNodes","resolvedTargetDeltas","recalculatedProjection","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","ProjectionNode","animationId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","isTransformDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","nodes","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","MotionDebug","record","hasProjected","animationProgress","sharedNodes","path","subscriptionManager","SVGElement","_this$options","cancelDelay","resizeUnblockUpdate","checkElapsed","finishAnimation","registerSharedNode","hasRelativeTargetChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","_visualElement$getPro","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","targetLayout","hasOnlyRelativeTargetChanged","layoutRoot","setAnimationOrigin","animationOptions","isUpdateBlocked","resetRotation","shouldNotifyListeners","startUpdate","_this$options2","getTransformTemplate","prevTransformTemplateValue","updateSnapshot","notifyListeners","unblockUpdate","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","measure","alwaysMeasureLayout","prevLayout","layoutCorrected","phase","needsMeasurement","layoutScroll","isRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","measuredBox","boxWithoutScroll","rootScroll","transformOnly","withTransforms","boxWithoutTransform","targetDelta","scheduleUpdateProjection","relativeParent","resolvedRelativeTargetAt","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","_this$options3","getClosestProjectingParent","forceRelativeParentToResolveTarget","relativeTargetOrigin","targetWithTransforms","applyTransform","isProjecting","canSkip","_this$options4","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","applyTreeDeltas","projectionDeltaWithTransform","prevProjectionTransform","projectionTransform","notifyAll","snapshotLatestValues","mixedValues","prevRelativeTarget","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","mixTargetDelta","mixAxisDelta","setTargetDelta","mixAxis","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","motionValue$1","animateSingleValue","completeAnimation","exitAnimationComplete","shouldAnimatePositionOnly","animationType","xLength","yLength","initialPromotionConfig","shouldPreserveFollowOpacity","hasRotate","resetValues","setStaticValue","visibility","emptyStyles","valuesToRender","applyTransformsToTarget","_this$projectionDelta","_scaleCorrectors$key","corrected","num","hasListeners","_node$layout","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","removeLeadSnapshot","userAgentContains","string","roundPoint","DocumentProjectionNode","HTMLProjectionNode","documentNode","splitCSSVariableRegex","maxDepth","getVariableValue","_parseCSSVariable","exec","_match","parseCSSVariable","_parseCSSVariable2","trimmed","resolveCSSVariables","_objectDestructuringEmpty","positionalKeys","isPositionalKey","isNumOrPxType","getPosFromMatrix","matrix","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","positionalValues","_ref3$paddingLeft","_ref3$paddingRight","_ref5$paddingTop","_ref5$paddingBottom","_ref10","_ref11","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","fromIndex","removedTransforms","removeNonTranslationalTransform","jump","convertedTarget","changedKeys","originBbox","elementComputedStyle","targetBbox","convertChangedValueTypes","_ref12","_ref13","unitConversion","hasPositionalKey","prefersReducedMotion","hasReducedMotionListener","visualElementStore","featureNames","numFeatures","propEventHandlers","numVariantProps","VisualElement","valueSubscriptions","prevMotionValues","propEventSubscriptions","notifyUpdate","triggerBuild","renderInstance","baseTarget","initialValues","_this$scrapeMotionVal","initialMotionValues","_prevProps","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","addListener","initPrefersReducedMotion","valueIsTransform","removeOnChange","latestValue","removeOnRenderRequest","other","sortInstanceNodePosition","ProjectionNodeConstructor","renderedProps","_featureDefinitions$n","FeatureConstructor","MeasureLayoutComponent","feature","build","measureInstanceViewportBox","canMutate","makeTargetAnimatableFromInstance","existingValue","getStaticValue","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getClosestVariantNode","closestVariantNode","removeValueFromRenderState","getBaseTargetFromProps","readValueFromInstance","valueFromInitial","_this$events$eventNam","DOMVisualElement","_VisualElement","transitionOrigin","getOrigin","newValueKeys","numNewValues","targetValue","readValue","setBaseTarget","checkTargetForNewValues","parseDomVariant","HTMLVisualElement","_DOMVisualElement","defaultType","childSubscription","_get","receiver","desc","SVGVisualElement","createDomVisualElement","motion","_ref$forwardMotionPro","baseConfig","createDomMotionConfig","validMotionProps","isValidMotionProp","shouldForward","isDom","any","_value","isMatched"],"sourceRoot":""}